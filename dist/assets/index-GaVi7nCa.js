function Bf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var $u={exports:{}},Oi={},Lu={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=Symbol.for("react.element"),Vf=Symbol.for("react.portal"),Hf=Symbol.for("react.fragment"),Kf=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),Qf=Symbol.for("react.provider"),Gf=Symbol.for("react.context"),Yf=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Zf=Symbol.for("react.memo"),em=Symbol.for("react.lazy"),Yo=Symbol.iterator;function tm(e){return e===null||typeof e!="object"?null:(e=Yo&&e[Yo]||e["@@iterator"],typeof e=="function"?e:null)}var Au={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mu=Object.assign,Du={};function nn(e,t,r){this.props=e,this.context=t,this.refs=Du,this.updater=r||Au}nn.prototype.isReactComponent={};nn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uu(){}Uu.prototype=nn.prototype;function Wa(e,t,r){this.props=e,this.context=t,this.refs=Du,this.updater=r||Au}var Va=Wa.prototype=new Uu;Va.constructor=Wa;Mu(Va,nn.prototype);Va.isPureReactComponent=!0;var Xo=Array.isArray,zu=Object.prototype.hasOwnProperty,Ha={current:null},Fu={key:!0,ref:!0,__self:!0,__source:!0};function Bu(e,t,r){var n,i={},l=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)zu.call(t,n)&&!Fu.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:cs,type:e,key:l,ref:a,props:i,_owner:Ha.current}}function rm(e,t){return{$$typeof:cs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ka(e){return typeof e=="object"&&e!==null&&e.$$typeof===cs}function nm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zo=/\/+/g;function nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nm(""+e.key):t.toString(36)}function Ws(e,t,r,n,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case cs:case Vf:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+nl(a,0):n,Xo(i)?(r="",e!=null&&(r=e.replace(Zo,"$&/")+"/"),Ws(i,t,r,"",function(u){return u})):i!=null&&(Ka(i)&&(i=rm(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Zo,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Xo(e))for(var o=0;o<e.length;o++){l=e[o];var c=n+nl(l,o);a+=Ws(l,t,r,c,i)}else if(c=tm(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=n+nl(l,o++),a+=Ws(l,t,r,c,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function bs(e,t,r){if(e==null)return e;var n=[],i=0;return Ws(e,n,"","",function(l){return t.call(r,l,i++)}),n}function sm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var we={current:null},Vs={transition:null},im={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Vs,ReactCurrentOwner:Ha};function qu(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:bs,forEach:function(e,t,r){bs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bs(e,function(){t++}),t},toArray:function(e){return bs(e,function(t){return t})||[]},only:function(e){if(!Ka(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=nn;U.Fragment=Hf;U.Profiler=Jf;U.PureComponent=Wa;U.StrictMode=Kf;U.Suspense=Xf;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=im;U.act=qu;U.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Mu({},e.props),i=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=Ha.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)zu.call(t,c)&&!Fu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:cs,type:e.type,key:i,ref:l,props:n,_owner:a}};U.createContext=function(e){return e={$$typeof:Gf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qf,_context:e},e.Consumer=e};U.createElement=Bu;U.createFactory=function(e){var t=Bu.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:Yf,render:e}};U.isValidElement=Ka;U.lazy=function(e){return{$$typeof:em,_payload:{_status:-1,_result:e},_init:sm}};U.memo=function(e,t){return{$$typeof:Zf,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=Vs.transition;Vs.transition={};try{e()}finally{Vs.transition=t}};U.unstable_act=qu;U.useCallback=function(e,t){return we.current.useCallback(e,t)};U.useContext=function(e){return we.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return we.current.useDeferredValue(e)};U.useEffect=function(e,t){return we.current.useEffect(e,t)};U.useId=function(){return we.current.useId()};U.useImperativeHandle=function(e,t,r){return we.current.useImperativeHandle(e,t,r)};U.useInsertionEffect=function(e,t){return we.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return we.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return we.current.useMemo(e,t)};U.useReducer=function(e,t,r){return we.current.useReducer(e,t,r)};U.useRef=function(e){return we.current.useRef(e)};U.useState=function(e){return we.current.useState(e)};U.useSyncExternalStore=function(e,t,r){return we.current.useSyncExternalStore(e,t,r)};U.useTransition=function(){return we.current.useTransition()};U.version="18.3.1";Lu.exports=U;var b=Lu.exports;const lm=qf(b),am=Bf({__proto__:null,default:lm},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=b,cm=Symbol.for("react.element"),um=Symbol.for("react.fragment"),dm=Object.prototype.hasOwnProperty,hm=om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fm={key:!0,ref:!0,__self:!0,__source:!0};function Wu(e,t,r){var n,i={},l=null,a=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)dm.call(t,n)&&!fm.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:cm,type:e,key:l,ref:a,props:i,_owner:hm.current}}Oi.Fragment=um;Oi.jsx=Wu;Oi.jsxs=Wu;$u.exports=Oi;var s=$u.exports,Vu={exports:{}},$e={},Hu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,T){var I=N.length;N.push(T);e:for(;0<I;){var F=I-1>>>1,ee=N[F];if(0<i(ee,T))N[F]=T,N[I]=ee,I=F;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var T=N[0],I=N.pop();if(I!==T){N[0]=I;e:for(var F=0,ee=N.length,ws=ee>>>1;F<ws;){var Jt=2*(F+1)-1,rl=N[Jt],Qt=Jt+1,js=N[Qt];if(0>i(rl,I))Qt<ee&&0>i(js,rl)?(N[F]=js,N[Qt]=I,F=Qt):(N[F]=rl,N[Jt]=I,F=Jt);else if(Qt<ee&&0>i(js,I))N[F]=js,N[Qt]=I,F=Qt;else break e}}return T}function i(N,T){var I=N.sortIndex-T.sortIndex;return I!==0?I:N.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,y=!1,w=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=N)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function _(N){if(v=!1,x(N),!w)if(r(c)!==null)w=!0,hn(E);else{var T=r(u);T!==null&&jr(_,T.startTime-N)}}function E(N,T){w=!1,v&&(v=!1,p(k),k=-1),y=!0;var I=h;try{for(x(T),f=r(c);f!==null&&(!(f.expirationTime>T)||N&&!$());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var ee=F(f.expirationTime<=T);T=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(c)&&n(c),x(T)}else n(c);f=r(c)}if(f!==null)var ws=!0;else{var Jt=r(u);Jt!==null&&jr(_,Jt.startTime-T),ws=!1}return ws}finally{f=null,h=I,y=!1}}var C=!1,g=null,k=-1,S=5,P=-1;function $(){return!(e.unstable_now()-P<S)}function z(){if(g!==null){var N=e.unstable_now();P=N;var T=!0;try{T=g(!0,N)}finally{T?be():(C=!1,g=null)}}else C=!1}var be;if(typeof m=="function")be=function(){m(z)};else if(typeof MessageChannel<"u"){var wr=new MessageChannel,vs=wr.port2;wr.port1.onmessage=z,be=function(){vs.postMessage(null)}}else be=function(){j(z,0)};function hn(N){g=N,C||(C=!0,be())}function jr(N,T){k=j(function(){N(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,hn(E))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var I=h;h=T;try{return N()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,T){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var I=h;h=N;try{return T()}finally{h=I}},e.unstable_scheduleCallback=function(N,T,I){var F=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?F+I:F):I=F,N){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=I+ee,N={id:d++,callback:T,priorityLevel:N,startTime:I,expirationTime:ee,sortIndex:-1},I>F?(N.sortIndex=I,t(u,N),r(c)===null&&N===r(u)&&(v?(p(k),k=-1):v=!0,jr(_,I-F))):(N.sortIndex=ee,t(c,N),w||y||(w=!0,hn(E))),N},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(N){var T=h;return function(){var I=h;h=T;try{return N.apply(this,arguments)}finally{h=I}}}})(Ku);Hu.exports=Ku;var mm=Hu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm=b,Re=mm;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ju=new Set,zn={};function hr(e,t){Hr(e,t),Hr(e+"Capture",t)}function Hr(e,t){for(zn[e]=t,e=0;e<t.length;e++)Ju.add(t[e])}var dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=Object.prototype.hasOwnProperty,gm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ec={},tc={};function xm(e){return Al.call(tc,e)?!0:Al.call(ec,e)?!1:gm.test(e)?tc[e]=!0:(ec[e]=!0,!1)}function ym(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vm(e,t,r,n){if(t===null||typeof t>"u"||ym(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function je(e,t,r,n,i,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ja=/[\-:]([a-z])/g;function Qa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ja,Qa);he[t]=new je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ja,Qa);he[t]=new je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ja,Qa);he[t]=new je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ga(e,t,r,n){var i=he.hasOwnProperty(t)?he[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vm(t,r,i,n)&&(r=null),n||i===null?xm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var gt=pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ns=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),Ya=Symbol.for("react.strict_mode"),Ml=Symbol.for("react.profiler"),Qu=Symbol.for("react.provider"),Gu=Symbol.for("react.context"),Xa=Symbol.for("react.forward_ref"),Dl=Symbol.for("react.suspense"),Ul=Symbol.for("react.suspense_list"),Za=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Yu=Symbol.for("react.offscreen"),rc=Symbol.iterator;function fn(e){return e===null||typeof e!="object"?null:(e=rc&&e[rc]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,sl;function bn(e){if(sl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sl=t&&t[1]||""}return`
`+sl+e}var il=!1;function ll(e,t){if(!e||il)return"";il=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=n.stack.split(`
`),a=i.length-1,o=l.length-1;1<=a&&0<=o&&i[a]!==l[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==l[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==l[o]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{il=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bn(e):""}function wm(e){switch(e.tag){case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 2:case 15:return e=ll(e.type,!1),e;case 11:return e=ll(e.type.render,!1),e;case 1:return e=ll(e.type,!0),e;default:return""}}function zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Er:return"Portal";case Ml:return"Profiler";case Ya:return"StrictMode";case Dl:return"Suspense";case Ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gu:return(e.displayName||"Context")+".Consumer";case Qu:return(e._context.displayName||"Context")+".Provider";case Xa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Za:return t=e.displayName||null,t!==null?t:zl(e.type)||"Memo";case vt:t=e._payload,e=e._init;try{return zl(e(t))}catch{}}return null}function jm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zl(t);case 8:return t===Ya?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bm(e){var t=Xu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _s(e){e._valueTracker||(e._valueTracker=bm(e))}function Zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Xu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fl(e,t){var r=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ed(e,t){t=t.checked,t!=null&&Ga(e,"checked",t,!1)}function Bl(e,t){ed(e,t);var r=Mt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ql(e,t.type,r):t.hasOwnProperty("defaultValue")&&ql(e,t.type,Mt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ql(e,t,r){(t!=="number"||ri(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nn=Array.isArray;function zr(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mt(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ic(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(Nn(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mt(r)}}function td(e,t){var r=Mt(t.value),n=Mt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ks,nd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ks.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nm=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(e){Nm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cn[t]=Cn[e]})});function sd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cn.hasOwnProperty(e)&&Cn[e]?(""+t).trim():t+"px"}function id(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=sd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var _m=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(e,t){if(t){if(_m[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jl=null;function eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ql=null,Fr=null,Br=null;function ac(e){if(e=hs(e)){if(typeof Ql!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Ai(t),Ql(e.stateNode,e.type,t))}}function ld(e){Fr?Br?Br.push(e):Br=[e]:Fr=e}function ad(){if(Fr){var e=Fr,t=Br;if(Br=Fr=null,ac(e),t)for(e=0;e<t.length;e++)ac(t[e])}}function od(e,t){return e(t)}function cd(){}var al=!1;function ud(e,t,r){if(al)return e(t,r);al=!0;try{return od(e,t,r)}finally{al=!1,(Fr!==null||Br!==null)&&(cd(),ad())}}function Bn(e,t){var r=e.stateNode;if(r===null)return null;var n=Ai(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var Gl=!1;if(dt)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Gl=!1}function km(e,t,r,n,i,l,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var En=!1,ni=null,si=!1,Yl=null,Sm={onError:function(e){En=!0,ni=e}};function Cm(e,t,r,n,i,l,a,o,c){En=!1,ni=null,km.apply(Sm,arguments)}function Em(e,t,r,n,i,l,a,o,c){if(Cm.apply(this,arguments),En){if(En){var u=ni;En=!1,ni=null}else throw Error(O(198));si||(si=!0,Yl=u)}}function fr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function dd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oc(e){if(fr(e)!==e)throw Error(O(188))}function Pm(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var l=i.alternate;if(l===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===r)return oc(i),e;if(l===n)return oc(i),t;l=l.sibling}throw Error(O(188))}if(r.return!==n.return)r=i,n=l;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=l;break}if(o===n){a=!0,n=i,r=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===r){a=!0,r=l,n=i;break}if(o===n){a=!0,n=l,r=i;break}o=o.sibling}if(!a)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function hd(e){return e=Pm(e),e!==null?fd(e):null}function fd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fd(e);if(t!==null)return t;e=e.sibling}return null}var md=Re.unstable_scheduleCallback,cc=Re.unstable_cancelCallback,Tm=Re.unstable_shouldYield,Om=Re.unstable_requestPaint,re=Re.unstable_now,Im=Re.unstable_getCurrentPriorityLevel,to=Re.unstable_ImmediatePriority,pd=Re.unstable_UserBlockingPriority,ii=Re.unstable_NormalPriority,Rm=Re.unstable_LowPriority,gd=Re.unstable_IdlePriority,Ii=null,rt=null;function $m(e){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Ii,e,void 0,(e.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:Mm,Lm=Math.log,Am=Math.LN2;function Mm(e){return e>>>=0,e===0?32:31-(Lm(e)/Am|0)|0}var Ss=64,Cs=4194304;function _n(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function li(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,l=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=_n(o):(l&=a,l!==0&&(n=_n(l)))}else a=r&~i,a!==0?n=_n(a):l!==0&&(n=_n(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ge(t),i=1<<r,n|=e[r],t&=~i;return n}function Dm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Um(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-Ge(l),o=1<<a,c=i[a];c===-1?(!(o&r)||o&n)&&(i[a]=Dm(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function Xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xd(){var e=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),e}function ol(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function us(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ge(t),e[t]=r}function zm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ge(r),l=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~l}}function ro(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ge(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var W=0;function yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vd,no,wd,jd,bd,Zl=!1,Es=[],Et=null,Pt=null,Tt=null,qn=new Map,Wn=new Map,bt=[],Fm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(t.pointerId)}}function pn(e,t,r,n,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[i]},t!==null&&(t=hs(t),t!==null&&no(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Bm(e,t,r,n,i){switch(t){case"focusin":return Et=pn(Et,e,t,r,n,i),!0;case"dragenter":return Pt=pn(Pt,e,t,r,n,i),!0;case"mouseover":return Tt=pn(Tt,e,t,r,n,i),!0;case"pointerover":var l=i.pointerId;return qn.set(l,pn(qn.get(l)||null,e,t,r,n,i)),!0;case"gotpointercapture":return l=i.pointerId,Wn.set(l,pn(Wn.get(l)||null,e,t,r,n,i)),!0}return!1}function Nd(e){var t=tr(e.target);if(t!==null){var r=fr(t);if(r!==null){if(t=r.tag,t===13){if(t=dd(r),t!==null){e.blockedOn=t,bd(e.priority,function(){wd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ea(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Jl=n,r.target.dispatchEvent(n),Jl=null}else return t=hs(r),t!==null&&no(t),e.blockedOn=r,!1;t.shift()}return!0}function dc(e,t,r){Hs(e)&&r.delete(t)}function qm(){Zl=!1,Et!==null&&Hs(Et)&&(Et=null),Pt!==null&&Hs(Pt)&&(Pt=null),Tt!==null&&Hs(Tt)&&(Tt=null),qn.forEach(dc),Wn.forEach(dc)}function gn(e,t){e.blockedOn===t&&(e.blockedOn=null,Zl||(Zl=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,qm)))}function Vn(e){function t(i){return gn(i,e)}if(0<Es.length){gn(Es[0],e);for(var r=1;r<Es.length;r++){var n=Es[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Et!==null&&gn(Et,e),Pt!==null&&gn(Pt,e),Tt!==null&&gn(Tt,e),qn.forEach(t),Wn.forEach(t),r=0;r<bt.length;r++)n=bt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bt.length&&(r=bt[0],r.blockedOn===null);)Nd(r),r.blockedOn===null&&bt.shift()}var qr=gt.ReactCurrentBatchConfig,ai=!0;function Wm(e,t,r,n){var i=W,l=qr.transition;qr.transition=null;try{W=1,so(e,t,r,n)}finally{W=i,qr.transition=l}}function Vm(e,t,r,n){var i=W,l=qr.transition;qr.transition=null;try{W=4,so(e,t,r,n)}finally{W=i,qr.transition=l}}function so(e,t,r,n){if(ai){var i=ea(e,t,r,n);if(i===null)yl(e,t,n,oi,r),uc(e,n);else if(Bm(i,e,t,r,n))n.stopPropagation();else if(uc(e,n),t&4&&-1<Fm.indexOf(e)){for(;i!==null;){var l=hs(i);if(l!==null&&vd(l),l=ea(e,t,r,n),l===null&&yl(e,t,n,oi,r),l===i)break;i=l}i!==null&&n.stopPropagation()}else yl(e,t,n,null,r)}}var oi=null;function ea(e,t,r,n){if(oi=null,e=eo(n),e=tr(e),e!==null)if(t=fr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=dd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oi=e,null}function _d(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Im()){case to:return 1;case pd:return 4;case ii:case Rm:return 16;case gd:return 536870912;default:return 16}default:return 16}}var kt=null,io=null,Ks=null;function kd(){if(Ks)return Ks;var e,t=io,r=t.length,n,i="value"in kt?kt.value:kt.textContent,l=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[l-n];n++);return Ks=i.slice(e,1<n?1-n:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ps(){return!0}function hc(){return!1}function Le(e){function t(r,n,i,l,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ps:hc,this.isPropagationStopped=hc,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),t}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Le(sn),ds=Z({},sn,{view:0,detail:0}),Hm=Le(ds),cl,ul,xn,Ri=Z({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&e.type==="mousemove"?(cl=e.screenX-xn.screenX,ul=e.screenY-xn.screenY):ul=cl=0,xn=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:ul}}),fc=Le(Ri),Km=Z({},Ri,{dataTransfer:0}),Jm=Le(Km),Qm=Z({},ds,{relatedTarget:0}),dl=Le(Qm),Gm=Z({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ym=Le(Gm),Xm=Z({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zm=Le(Xm),ep=Z({},sn,{data:0}),mc=Le(ep),tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=np[e])?!!t[e]:!1}function ao(){return sp}var ip=Z({},ds,{key:function(e){if(e.key){var t=tp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lp=Le(ip),ap=Z({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=Le(ap),op=Z({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),cp=Le(op),up=Z({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dp=Le(up),hp=Z({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fp=Le(hp),mp=[9,13,27,32],oo=dt&&"CompositionEvent"in window,Pn=null;dt&&"documentMode"in document&&(Pn=document.documentMode);var pp=dt&&"TextEvent"in window&&!Pn,Sd=dt&&(!oo||Pn&&8<Pn&&11>=Pn),gc=" ",xc=!1;function Cd(e,t){switch(e){case"keyup":return mp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function gp(e,t){switch(e){case"compositionend":return Ed(t);case"keypress":return t.which!==32?null:(xc=!0,gc);case"textInput":return e=t.data,e===gc&&xc?null:e;default:return null}}function xp(e,t){if(Tr)return e==="compositionend"||!oo&&Cd(e,t)?(e=kd(),Ks=io=kt=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var yp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yp[e.type]:t==="textarea"}function Pd(e,t,r,n){ld(n),t=ci(t,"onChange"),0<t.length&&(r=new lo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tn=null,Hn=null;function vp(e){zd(e,0)}function $i(e){var t=Rr(e);if(Zu(t))return e}function wp(e,t){if(e==="change")return t}var Td=!1;if(dt){var hl;if(dt){var fl="oninput"in document;if(!fl){var vc=document.createElement("div");vc.setAttribute("oninput","return;"),fl=typeof vc.oninput=="function"}hl=fl}else hl=!1;Td=hl&&(!document.documentMode||9<document.documentMode)}function wc(){Tn&&(Tn.detachEvent("onpropertychange",Od),Hn=Tn=null)}function Od(e){if(e.propertyName==="value"&&$i(Hn)){var t=[];Pd(t,Hn,e,eo(e)),ud(vp,t)}}function jp(e,t,r){e==="focusin"?(wc(),Tn=t,Hn=r,Tn.attachEvent("onpropertychange",Od)):e==="focusout"&&wc()}function bp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $i(Hn)}function Np(e,t){if(e==="click")return $i(t)}function _p(e,t){if(e==="input"||e==="change")return $i(t)}function kp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xe=typeof Object.is=="function"?Object.is:kp;function Kn(e,t){if(Xe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Al.call(t,i)||!Xe(e[i],t[i]))return!1}return!0}function jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bc(e,t){var r=jc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jc(r)}}function Id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rd(){for(var e=window,t=ri();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ri(e.document)}return t}function co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sp(e){var t=Rd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Id(r.ownerDocument.documentElement,r)){if(n!==null&&co(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,l=Math.min(n.start,i);n=n.end===void 0?l:Math.min(n.end,i),!e.extend&&l>n&&(i=n,n=l,l=i),i=bc(r,l);var a=bc(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cp=dt&&"documentMode"in document&&11>=document.documentMode,Or=null,ta=null,On=null,ra=!1;function Nc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ra||Or==null||Or!==ri(n)||(n=Or,"selectionStart"in n&&co(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),On&&Kn(On,n)||(On=n,n=ci(ta,"onSelect"),0<n.length&&(t=new lo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Or)))}function Ts(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ir={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionend:Ts("Transition","TransitionEnd")},ml={},$d={};dt&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Li(e){if(ml[e])return ml[e];if(!Ir[e])return e;var t=Ir[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $d)return ml[e]=t[r];return e}var Ld=Li("animationend"),Ad=Li("animationiteration"),Md=Li("animationstart"),Dd=Li("transitionend"),Ud=new Map,_c="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(e,t){Ud.set(e,t),hr(t,[e])}for(var pl=0;pl<_c.length;pl++){var gl=_c[pl],Ep=gl.toLowerCase(),Pp=gl[0].toUpperCase()+gl.slice(1);Ft(Ep,"on"+Pp)}Ft(Ld,"onAnimationEnd");Ft(Ad,"onAnimationIteration");Ft(Md,"onAnimationStart");Ft("dblclick","onDoubleClick");Ft("focusin","onFocus");Ft("focusout","onBlur");Ft(Dd,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tp=new Set("cancel close invalid load scroll toggle".split(" ").concat(kn));function kc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Em(n,t,void 0,e),e.currentTarget=null}function zd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==l&&i.isPropagationStopped())break e;kc(i,o,u),l=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==l&&i.isPropagationStopped())break e;kc(i,o,u),l=c}}}if(si)throw e=Yl,si=!1,Yl=null,e}function K(e,t){var r=t[aa];r===void 0&&(r=t[aa]=new Set);var n=e+"__bubble";r.has(n)||(Fd(t,e,2,!1),r.add(n))}function xl(e,t,r){var n=0;t&&(n|=4),Fd(r,e,n,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function Jn(e){if(!e[Os]){e[Os]=!0,Ju.forEach(function(r){r!=="selectionchange"&&(Tp.has(r)||xl(r,!1,e),xl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,xl("selectionchange",!1,t))}}function Fd(e,t,r,n){switch(_d(t)){case 1:var i=Wm;break;case 4:i=Vm;break;default:i=so}r=i.bind(null,t,r,e),i=void 0,!Gl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function yl(e,t,r,n,i){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=tr(o),a===null)return;if(c=a.tag,c===5||c===6){n=l=a;continue e}o=o.parentNode}}n=n.return}ud(function(){var u=l,d=eo(r),f=[];e:{var h=Ud.get(e);if(h!==void 0){var y=lo,w=e;switch(e){case"keypress":if(Js(r)===0)break e;case"keydown":case"keyup":y=lp;break;case"focusin":w="focus",y=dl;break;case"focusout":w="blur",y=dl;break;case"beforeblur":case"afterblur":y=dl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=cp;break;case Ld:case Ad:case Md:y=Ym;break;case Dd:y=dp;break;case"scroll":y=Hm;break;case"wheel":y=fp;break;case"copy":case"cut":case"paste":y=Zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=pc}var v=(t&4)!==0,j=!v&&e==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var m=u,x;m!==null;){x=m;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,p!==null&&(_=Bn(m,p),_!=null&&v.push(Qn(m,_,x)))),j)break;m=m.return}0<v.length&&(h=new y(h,w,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&r!==Jl&&(w=r.relatedTarget||r.fromElement)&&(tr(w)||w[ht]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?tr(w):null,w!==null&&(j=fr(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(v=fc,_="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=pc,_="onPointerLeave",p="onPointerEnter",m="pointer"),j=y==null?h:Rr(y),x=w==null?h:Rr(w),h=new v(_,m+"leave",y,r,d),h.target=j,h.relatedTarget=x,_=null,tr(d)===u&&(v=new v(p,m+"enter",w,r,d),v.target=x,v.relatedTarget=j,_=v),j=_,y&&w)t:{for(v=y,p=w,m=0,x=v;x;x=br(x))m++;for(x=0,_=p;_;_=br(_))x++;for(;0<m-x;)v=br(v),m--;for(;0<x-m;)p=br(p),x--;for(;m--;){if(v===p||p!==null&&v===p.alternate)break t;v=br(v),p=br(p)}v=null}else v=null;y!==null&&Sc(f,h,y,v,!1),w!==null&&j!==null&&Sc(f,j,w,v,!0)}}e:{if(h=u?Rr(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var E=wp;else if(yc(h))if(Td)E=_p;else{E=bp;var C=jp}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Np);if(E&&(E=E(e,u))){Pd(f,E,r,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&ql(h,"number",h.value)}switch(C=u?Rr(u):window,e){case"focusin":(yc(C)||C.contentEditable==="true")&&(Or=C,ta=u,On=null);break;case"focusout":On=ta=Or=null;break;case"mousedown":ra=!0;break;case"contextmenu":case"mouseup":case"dragend":ra=!1,Nc(f,r,d);break;case"selectionchange":if(Cp)break;case"keydown":case"keyup":Nc(f,r,d)}var g;if(oo)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Tr?Cd(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Sd&&r.locale!=="ko"&&(Tr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Tr&&(g=kd()):(kt=d,io="value"in kt?kt.value:kt.textContent,Tr=!0)),C=ci(u,k),0<C.length&&(k=new mc(k,e,null,r,d),f.push({event:k,listeners:C}),g?k.data=g:(g=Ed(r),g!==null&&(k.data=g)))),(g=pp?gp(e,r):xp(e,r))&&(u=ci(u,"onBeforeInput"),0<u.length&&(d=new mc("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=g))}zd(f,t)})}function Qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ci(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Bn(e,r),l!=null&&n.unshift(Qn(e,l,i)),l=Bn(e,t),l!=null&&n.push(Qn(e,l,i))),e=e.return}return n}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sc(e,t,r,n,i){for(var l=t._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=Bn(r,l),c!=null&&a.unshift(Qn(r,c,o))):i||(c=Bn(r,l),c!=null&&a.push(Qn(r,c,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Op=/\r\n?/g,Ip=/\u0000|\uFFFD/g;function Cc(e){return(typeof e=="string"?e:""+e).replace(Op,`
`).replace(Ip,"")}function Is(e,t,r){if(t=Cc(t),Cc(e)!==t&&r)throw Error(O(425))}function ui(){}var na=null,sa=null;function ia(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var la=typeof setTimeout=="function"?setTimeout:void 0,Rp=typeof clearTimeout=="function"?clearTimeout:void 0,Ec=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof Ec<"u"?function(e){return Ec.resolve(null).then(e).catch(Lp)}:la;function Lp(e){setTimeout(function(){throw e})}function vl(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Vn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Vn(t)}function Ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ln=Math.random().toString(36).slice(2),tt="__reactFiber$"+ln,Gn="__reactProps$"+ln,ht="__reactContainer$"+ln,aa="__reactEvents$"+ln,Ap="__reactListeners$"+ln,Mp="__reactHandles$"+ln;function tr(e){var t=e[tt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ht]||r[tt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Pc(e);e!==null;){if(r=e[tt])return r;e=Pc(e)}return t}e=r,r=e.parentNode}return null}function hs(e){return e=e[tt]||e[ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Ai(e){return e[Gn]||null}var oa=[],$r=-1;function Bt(e){return{current:e}}function J(e){0>$r||(e.current=oa[$r],oa[$r]=null,$r--)}function H(e,t){$r++,oa[$r]=e.current,e.current=t}var Dt={},xe=Bt(Dt),Ce=Bt(!1),lr=Dt;function Kr(e,t){var r=e.type.contextTypes;if(!r)return Dt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in r)i[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ee(e){return e=e.childContextTypes,e!=null}function di(){J(Ce),J(xe)}function Tc(e,t,r){if(xe.current!==Dt)throw Error(O(168));H(xe,t),H(Ce,r)}function Bd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(O(108,jm(e)||"Unknown",i));return Z({},r,n)}function hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dt,lr=xe.current,H(xe,e),H(Ce,Ce.current),!0}function Oc(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=Bd(e,t,lr),n.__reactInternalMemoizedMergedChildContext=e,J(Ce),J(xe),H(xe,e)):J(Ce),H(Ce,r)}var at=null,Mi=!1,wl=!1;function qd(e){at===null?at=[e]:at.push(e)}function Dp(e){Mi=!0,qd(e)}function qt(){if(!wl&&at!==null){wl=!0;var e=0,t=W;try{var r=at;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}at=null,Mi=!1}catch(i){throw at!==null&&(at=at.slice(e+1)),md(to,qt),i}finally{W=t,wl=!1}}return null}var Lr=[],Ar=0,fi=null,mi=0,Ae=[],Me=0,ar=null,ot=1,ct="";function Yt(e,t){Lr[Ar++]=mi,Lr[Ar++]=fi,fi=e,mi=t}function Wd(e,t,r){Ae[Me++]=ot,Ae[Me++]=ct,Ae[Me++]=ar,ar=e;var n=ot;e=ct;var i=32-Ge(n)-1;n&=~(1<<i),r+=1;var l=32-Ge(t)+i;if(30<l){var a=i-i%5;l=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ot=1<<32-Ge(t)+i|r<<i|n,ct=l+e}else ot=1<<l|r<<i|n,ct=e}function uo(e){e.return!==null&&(Yt(e,1),Wd(e,1,0))}function ho(e){for(;e===fi;)fi=Lr[--Ar],Lr[Ar]=null,mi=Lr[--Ar],Lr[Ar]=null;for(;e===ar;)ar=Ae[--Me],Ae[Me]=null,ct=Ae[--Me],Ae[Me]=null,ot=Ae[--Me],Ae[Me]=null}var Ie=null,Oe=null,G=!1,Qe=null;function Vd(e,t){var r=De(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ic(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Oe=Ot(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ar!==null?{id:ot,overflow:ct}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=De(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ie=e,Oe=null,!0):!1;default:return!1}}function ca(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ua(e){if(G){var t=Oe;if(t){var r=t;if(!Ic(e,t)){if(ca(e))throw Error(O(418));t=Ot(r.nextSibling);var n=Ie;t&&Ic(e,t)?Vd(n,r):(e.flags=e.flags&-4097|2,G=!1,Ie=e)}}else{if(ca(e))throw Error(O(418));e.flags=e.flags&-4097|2,G=!1,Ie=e}}}function Rc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function Rs(e){if(e!==Ie)return!1;if(!G)return Rc(e),G=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ia(e.type,e.memoizedProps)),t&&(t=Oe)){if(ca(e))throw Hd(),Error(O(418));for(;t;)Vd(e,t),t=Ot(t.nextSibling)}if(Rc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Oe=Ot(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=Ie?Ot(e.stateNode.nextSibling):null;return!0}function Hd(){for(var e=Oe;e;)e=Ot(e.nextSibling)}function Jr(){Oe=Ie=null,G=!1}function fo(e){Qe===null?Qe=[e]:Qe.push(e)}var Up=gt.ReactCurrentBatchConfig;function yn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var i=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var o=i.refs;a===null?delete o[l]:o[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function $s(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $c(e){var t=e._init;return t(e._payload)}function Kd(e){function t(p,m){if(e){var x=p.deletions;x===null?(p.deletions=[m],p.flags|=16):x.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=Lt(p,m),p.index=0,p.sibling=null,p}function l(p,m,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<m?(p.flags|=2,m):x):(p.flags|=2,m)):(p.flags|=1048576,m)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,m,x,_){return m===null||m.tag!==6?(m=Cl(x,p.mode,_),m.return=p,m):(m=i(m,x),m.return=p,m)}function c(p,m,x,_){var E=x.type;return E===Pr?d(p,m,x.props.children,_,x.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vt&&$c(E)===m.type)?(_=i(m,x.props),_.ref=yn(p,m,x),_.return=p,_):(_=ti(x.type,x.key,x.props,null,p.mode,_),_.ref=yn(p,m,x),_.return=p,_)}function u(p,m,x,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=El(x,p.mode,_),m.return=p,m):(m=i(m,x.children||[]),m.return=p,m)}function d(p,m,x,_,E){return m===null||m.tag!==7?(m=ir(x,p.mode,_,E),m.return=p,m):(m=i(m,x),m.return=p,m)}function f(p,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Cl(""+m,p.mode,x),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ns:return x=ti(m.type,m.key,m.props,null,p.mode,x),x.ref=yn(p,null,m),x.return=p,x;case Er:return m=El(m,p.mode,x),m.return=p,m;case vt:var _=m._init;return f(p,_(m._payload),x)}if(Nn(m)||fn(m))return m=ir(m,p.mode,x,null),m.return=p,m;$s(p,m)}return null}function h(p,m,x,_){var E=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:o(p,m,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ns:return x.key===E?c(p,m,x,_):null;case Er:return x.key===E?u(p,m,x,_):null;case vt:return E=x._init,h(p,m,E(x._payload),_)}if(Nn(x)||fn(x))return E!==null?null:d(p,m,x,_,null);$s(p,x)}return null}function y(p,m,x,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(x)||null,o(m,p,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ns:return p=p.get(_.key===null?x:_.key)||null,c(m,p,_,E);case Er:return p=p.get(_.key===null?x:_.key)||null,u(m,p,_,E);case vt:var C=_._init;return y(p,m,x,C(_._payload),E)}if(Nn(_)||fn(_))return p=p.get(x)||null,d(m,p,_,E,null);$s(m,_)}return null}function w(p,m,x,_){for(var E=null,C=null,g=m,k=m=0,S=null;g!==null&&k<x.length;k++){g.index>k?(S=g,g=null):S=g.sibling;var P=h(p,g,x[k],_);if(P===null){g===null&&(g=S);break}e&&g&&P.alternate===null&&t(p,g),m=l(P,m,k),C===null?E=P:C.sibling=P,C=P,g=S}if(k===x.length)return r(p,g),G&&Yt(p,k),E;if(g===null){for(;k<x.length;k++)g=f(p,x[k],_),g!==null&&(m=l(g,m,k),C===null?E=g:C.sibling=g,C=g);return G&&Yt(p,k),E}for(g=n(p,g);k<x.length;k++)S=y(g,p,k,x[k],_),S!==null&&(e&&S.alternate!==null&&g.delete(S.key===null?k:S.key),m=l(S,m,k),C===null?E=S:C.sibling=S,C=S);return e&&g.forEach(function($){return t(p,$)}),G&&Yt(p,k),E}function v(p,m,x,_){var E=fn(x);if(typeof E!="function")throw Error(O(150));if(x=E.call(x),x==null)throw Error(O(151));for(var C=E=null,g=m,k=m=0,S=null,P=x.next();g!==null&&!P.done;k++,P=x.next()){g.index>k?(S=g,g=null):S=g.sibling;var $=h(p,g,P.value,_);if($===null){g===null&&(g=S);break}e&&g&&$.alternate===null&&t(p,g),m=l($,m,k),C===null?E=$:C.sibling=$,C=$,g=S}if(P.done)return r(p,g),G&&Yt(p,k),E;if(g===null){for(;!P.done;k++,P=x.next())P=f(p,P.value,_),P!==null&&(m=l(P,m,k),C===null?E=P:C.sibling=P,C=P);return G&&Yt(p,k),E}for(g=n(p,g);!P.done;k++,P=x.next())P=y(g,p,k,P.value,_),P!==null&&(e&&P.alternate!==null&&g.delete(P.key===null?k:P.key),m=l(P,m,k),C===null?E=P:C.sibling=P,C=P);return e&&g.forEach(function(z){return t(p,z)}),G&&Yt(p,k),E}function j(p,m,x,_){if(typeof x=="object"&&x!==null&&x.type===Pr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ns:e:{for(var E=x.key,C=m;C!==null;){if(C.key===E){if(E=x.type,E===Pr){if(C.tag===7){r(p,C.sibling),m=i(C,x.props.children),m.return=p,p=m;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vt&&$c(E)===C.type){r(p,C.sibling),m=i(C,x.props),m.ref=yn(p,C,x),m.return=p,p=m;break e}r(p,C);break}else t(p,C);C=C.sibling}x.type===Pr?(m=ir(x.props.children,p.mode,_,x.key),m.return=p,p=m):(_=ti(x.type,x.key,x.props,null,p.mode,_),_.ref=yn(p,m,x),_.return=p,p=_)}return a(p);case Er:e:{for(C=x.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){r(p,m.sibling),m=i(m,x.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=El(x,p.mode,_),m.return=p,p=m}return a(p);case vt:return C=x._init,j(p,m,C(x._payload),_)}if(Nn(x))return w(p,m,x,_);if(fn(x))return v(p,m,x,_);$s(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(r(p,m.sibling),m=i(m,x),m.return=p,p=m):(r(p,m),m=Cl(x,p.mode,_),m.return=p,p=m),a(p)):r(p,m)}return j}var Qr=Kd(!0),Jd=Kd(!1),pi=Bt(null),gi=null,Mr=null,mo=null;function po(){mo=Mr=gi=null}function go(e){var t=pi.current;J(pi),e._currentValue=t}function da(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Wr(e,t){gi=e,mo=Mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Se=!0),e.firstContext=null)}function Fe(e){var t=e._currentValue;if(mo!==e)if(e={context:e,memoizedValue:t,next:null},Mr===null){if(gi===null)throw Error(O(308));Mr=e,gi.dependencies={lanes:0,firstContext:e}}else Mr=Mr.next=e;return t}var rr=null;function xo(e){rr===null?rr=[e]:rr.push(e)}function Qd(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,xo(t)):(r.next=i.next,i.next=r),t.interleaved=r,ft(e,n)}function ft(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wt=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function It(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ft(e,r)}return i=n.interleaved,i===null?(t.next=t,xo(n)):(t.next=i.next,i.next=t),n.interleaved=t,ft(e,r)}function Qs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ro(e,r)}}function Lc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?i=l=a:l=l.next=a,r=r.next}while(r!==null);l===null?i=l=t:l=l.next=t}else i=l=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xi(e,t,r,n){var i=e.updateQueue;wt=!1;var l=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?l=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(l!==null){var f=i.baseState;a=0,d=u=c=null,o=l;do{var h=o.lane,y=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,v=o;switch(h=t,y=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(y,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(y,f,h):w,h==null)break e;f=Z({},f,h);break e;case 2:wt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else y={eventTime:y,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);cr|=a,e.lanes=a,e.memoizedState=f}}function Ac(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(O(191,i));i.call(n)}}}var fs={},nt=Bt(fs),Yn=Bt(fs),Xn=Bt(fs);function nr(e){if(e===fs)throw Error(O(174));return e}function vo(e,t){switch(H(Xn,t),H(Yn,e),H(nt,fs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vl(t,e)}J(nt),H(nt,t)}function Gr(){J(nt),J(Yn),J(Xn)}function Yd(e){nr(Xn.current);var t=nr(nt.current),r=Vl(t,e.type);t!==r&&(H(Yn,e),H(nt,r))}function wo(e){Yn.current===e&&(J(nt),J(Yn))}var Y=Bt(0);function yi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jl=[];function jo(){for(var e=0;e<jl.length;e++)jl[e]._workInProgressVersionPrimary=null;jl.length=0}var Gs=gt.ReactCurrentDispatcher,bl=gt.ReactCurrentBatchConfig,or=0,X=null,ie=null,oe=null,vi=!1,In=!1,Zn=0,zp=0;function fe(){throw Error(O(321))}function bo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xe(e[r],t[r]))return!1;return!0}function No(e,t,r,n,i,l){if(or=l,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gs.current=e===null||e.memoizedState===null?Wp:Vp,e=r(n,i),In){l=0;do{if(In=!1,Zn=0,25<=l)throw Error(O(301));l+=1,oe=ie=null,t.updateQueue=null,Gs.current=Hp,e=r(n,i)}while(In)}if(Gs.current=wi,t=ie!==null&&ie.next!==null,or=0,oe=ie=X=null,vi=!1,t)throw Error(O(300));return e}function _o(){var e=Zn!==0;return Zn=0,e}function et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?X.memoizedState=oe=e:oe=oe.next=e,oe}function Be(){if(ie===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=oe===null?X.memoizedState:oe.next;if(t!==null)oe=t,ie=e;else{if(e===null)throw Error(O(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},oe===null?X.memoizedState=oe=e:oe=oe.next=e}return oe}function es(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=Be(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=ie,i=n.baseQueue,l=r.pending;if(l!==null){if(i!==null){var a=i.next;i.next=l.next,l.next=a}n.baseQueue=i=l,r.pending=null}if(i!==null){l=i.next,n=n.baseState;var o=a=null,c=null,u=l;do{var d=u.lane;if((or&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=n):c=c.next=f,X.lanes|=d,cr|=d}u=u.next}while(u!==null&&u!==l);c===null?a=n:c.next=o,Xe(n,t.memoizedState)||(Se=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do l=i.lane,X.lanes|=l,cr|=l,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _l(e){var t=Be(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,l=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do l=e(l,a.action),a=a.next;while(a!==i);Xe(l,t.memoizedState)||(Se=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Xd(){}function Zd(e,t){var r=X,n=Be(),i=t(),l=!Xe(n.memoizedState,i);if(l&&(n.memoizedState=i,Se=!0),n=n.queue,ko(rh.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||oe!==null&&oe.memoizedState.tag&1){if(r.flags|=2048,ts(9,th.bind(null,r,n,i,t),void 0,null),ce===null)throw Error(O(349));or&30||eh(r,t,i)}return i}function eh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function th(e,t,r,n){t.value=r,t.getSnapshot=n,nh(t)&&sh(e)}function rh(e,t,r){return r(function(){nh(t)&&sh(e)})}function nh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xe(e,r)}catch{return!0}}function sh(e){var t=ft(e,1);t!==null&&Ye(t,e,1,-1)}function Mc(e){var t=et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},t.queue=e,e=e.dispatch=qp.bind(null,X,e),[t.memoizedState,e]}function ts(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ih(){return Be().memoizedState}function Ys(e,t,r,n){var i=et();X.flags|=e,i.memoizedState=ts(1|t,r,void 0,n===void 0?null:n)}function Di(e,t,r,n){var i=Be();n=n===void 0?null:n;var l=void 0;if(ie!==null){var a=ie.memoizedState;if(l=a.destroy,n!==null&&bo(n,a.deps)){i.memoizedState=ts(t,r,l,n);return}}X.flags|=e,i.memoizedState=ts(1|t,r,l,n)}function Dc(e,t){return Ys(8390656,8,e,t)}function ko(e,t){return Di(2048,8,e,t)}function lh(e,t){return Di(4,2,e,t)}function ah(e,t){return Di(4,4,e,t)}function oh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ch(e,t,r){return r=r!=null?r.concat([e]):null,Di(4,4,oh.bind(null,t,e),r)}function So(){}function uh(e,t){var r=Be();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dh(e,t){var r=Be();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hh(e,t,r){return or&21?(Xe(r,t)||(r=xd(),X.lanes|=r,cr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Se=!0),e.memoizedState=r)}function Fp(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=bl.transition;bl.transition={};try{e(!1),t()}finally{W=r,bl.transition=n}}function fh(){return Be().memoizedState}function Bp(e,t,r){var n=$t(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},mh(e))ph(t,r);else if(r=Qd(e,t,r,n),r!==null){var i=ve();Ye(r,e,n,i),gh(r,t,n)}}function qp(e,t,r){var n=$t(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(mh(e))ph(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,o=l(a,r);if(i.hasEagerState=!0,i.eagerState=o,Xe(o,a)){var c=t.interleaved;c===null?(i.next=i,xo(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=Qd(e,t,i,n),r!==null&&(i=ve(),Ye(r,e,n,i),gh(r,t,n))}}function mh(e){var t=e.alternate;return e===X||t!==null&&t===X}function ph(e,t){In=vi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function gh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ro(e,r)}}var wi={readContext:Fe,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},Wp={readContext:Fe,useCallback:function(e,t){return et().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Dc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ys(4194308,4,oh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ys(4,2,e,t)},useMemo:function(e,t){var r=et();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=et();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Bp.bind(null,X,e),[n.memoizedState,e]},useRef:function(e){var t=et();return e={current:e},t.memoizedState=e},useState:Mc,useDebugValue:So,useDeferredValue:function(e){return et().memoizedState=e},useTransition:function(){var e=Mc(!1),t=e[0];return e=Fp.bind(null,e[1]),et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=X,i=et();if(G){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),ce===null)throw Error(O(349));or&30||eh(n,t,r)}i.memoizedState=r;var l={value:r,getSnapshot:t};return i.queue=l,Dc(rh.bind(null,n,l,e),[e]),n.flags|=2048,ts(9,th.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=et(),t=ce.identifierPrefix;if(G){var r=ct,n=ot;r=(n&~(1<<32-Ge(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vp={readContext:Fe,useCallback:uh,useContext:Fe,useEffect:ko,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:dh,useReducer:Nl,useRef:ih,useState:function(){return Nl(es)},useDebugValue:So,useDeferredValue:function(e){var t=Be();return hh(t,ie.memoizedState,e)},useTransition:function(){var e=Nl(es)[0],t=Be().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:Zd,useId:fh,unstable_isNewReconciler:!1},Hp={readContext:Fe,useCallback:uh,useContext:Fe,useEffect:ko,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:dh,useReducer:_l,useRef:ih,useState:function(){return _l(es)},useDebugValue:So,useDeferredValue:function(e){var t=Be();return ie===null?t.memoizedState=e:hh(t,ie.memoizedState,e)},useTransition:function(){var e=_l(es)[0],t=Be().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:Zd,useId:fh,unstable_isNewReconciler:!1};function He(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ha(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Z({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ui={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ve(),i=$t(e),l=ut(n,i);l.payload=t,r!=null&&(l.callback=r),t=It(e,l,i),t!==null&&(Ye(t,e,i,n),Qs(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ve(),i=$t(e),l=ut(n,i);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=It(e,l,i),t!==null&&(Ye(t,e,i,n),Qs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ve(),n=$t(e),i=ut(r,n);i.tag=2,t!=null&&(i.callback=t),t=It(e,i,n),t!==null&&(Ye(t,e,n,r),Qs(t,e,n))}};function Uc(e,t,r,n,i,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,a):t.prototype&&t.prototype.isPureReactComponent?!Kn(r,n)||!Kn(i,l):!0}function xh(e,t,r){var n=!1,i=Dt,l=t.contextType;return typeof l=="object"&&l!==null?l=Fe(l):(i=Ee(t)?lr:xe.current,n=t.contextTypes,l=(n=n!=null)?Kr(e,i):Dt),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ui,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function zc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ui.enqueueReplaceState(t,t.state,null)}function fa(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},yo(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=Fe(l):(l=Ee(t)?lr:xe.current,i.context=Kr(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ha(e,t,l,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ui.enqueueReplaceState(i,i.state,null),xi(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,t){try{var r="",n=t;do r+=wm(n),n=n.return;while(n);var i=r}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function kl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ma(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Kp=typeof WeakMap=="function"?WeakMap:Map;function yh(e,t,r){r=ut(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){bi||(bi=!0,_a=n),ma(e,t)},r}function vh(e,t,r){r=ut(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ma(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){ma(e,t),typeof n!="function"&&(Rt===null?Rt=new Set([this]):Rt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Fc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Kp;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=a0.bind(null,e,t,r),t.then(e,e))}function Bc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qc(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ut(-1,1),t.tag=2,It(r,t,1))),r.lanes|=1),e)}var Jp=gt.ReactCurrentOwner,Se=!1;function ye(e,t,r,n){t.child=e===null?Jd(t,null,r,n):Qr(t,e.child,r,n)}function Wc(e,t,r,n,i){r=r.render;var l=t.ref;return Wr(t,i),n=No(e,t,r,n,l,i),r=_o(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mt(e,t,i)):(G&&r&&uo(t),t.flags|=1,ye(e,t,n,i),t.child)}function Vc(e,t,r,n,i){if(e===null){var l=r.type;return typeof l=="function"&&!$o(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,wh(e,t,l,n,i)):(e=ti(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var a=l.memoizedProps;if(r=r.compare,r=r!==null?r:Kn,r(a,n)&&e.ref===t.ref)return mt(e,t,i)}return t.flags|=1,e=Lt(l,n),e.ref=t.ref,e.return=t,t.child=e}function wh(e,t,r,n,i){if(e!==null){var l=e.memoizedProps;if(Kn(l,n)&&e.ref===t.ref)if(Se=!1,t.pendingProps=n=l,(e.lanes&i)!==0)e.flags&131072&&(Se=!0);else return t.lanes=e.lanes,mt(e,t,i)}return pa(e,t,r,n,i)}function jh(e,t,r){var n=t.pendingProps,i=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Ur,Te),Te|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(Ur,Te),Te|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,H(Ur,Te),Te|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,H(Ur,Te),Te|=n;return ye(e,t,i,r),t.child}function bh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pa(e,t,r,n,i){var l=Ee(r)?lr:xe.current;return l=Kr(t,l),Wr(t,i),r=No(e,t,r,n,l,i),n=_o(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mt(e,t,i)):(G&&n&&uo(t),t.flags|=1,ye(e,t,r,i),t.child)}function Hc(e,t,r,n,i){if(Ee(r)){var l=!0;hi(t)}else l=!1;if(Wr(t,i),t.stateNode===null)Xs(e,t),xh(t,r,n),fa(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fe(u):(u=Ee(r)?lr:xe.current,u=Kr(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==u)&&zc(t,a,n,u),wt=!1;var h=t.memoizedState;a.state=h,xi(t,n,a,i),c=t.memoizedState,o!==n||h!==c||Ce.current||wt?(typeof d=="function"&&(ha(t,r,d,n),c=t.memoizedState),(o=wt||Uc(t,r,o,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Gd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:He(t.type,o),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Fe(c):(c=Ee(r)?lr:xe.current,c=Kr(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&zc(t,a,n,c),wt=!1,h=t.memoizedState,a.state=h,xi(t,n,a,i);var w=t.memoizedState;o!==f||h!==w||Ce.current||wt?(typeof y=="function"&&(ha(t,r,y,n),w=t.memoizedState),(u=wt||Uc(t,r,u,n,h,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),a.props=n,a.state=w,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ga(e,t,r,n,l,i)}function ga(e,t,r,n,i,l){bh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Oc(t,r,!1),mt(e,t,l);n=t.stateNode,Jp.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Qr(t,e.child,null,l),t.child=Qr(t,null,o,l)):ye(e,t,o,l),t.memoizedState=n.state,i&&Oc(t,r,!0),t.child}function Nh(e){var t=e.stateNode;t.pendingContext?Tc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tc(e,t.context,!1),vo(e,t.containerInfo)}function Kc(e,t,r,n,i){return Jr(),fo(i),t.flags|=256,ye(e,t,r,n),t.child}var xa={dehydrated:null,treeContext:null,retryLane:0};function ya(e){return{baseLanes:e,cachePool:null,transitions:null}}function _h(e,t,r){var n=t.pendingProps,i=Y.current,l=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),H(Y,i&1),e===null)return ua(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,l?(n=t.mode,l=t.child,a={mode:"hidden",children:a},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=Bi(a,n,0,null),e=ir(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ya(r),t.memoizedState=xa,e):Co(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Qp(e,t,a,n,o,i,r);if(l){l=n.fallback,a=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Lt(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?l=Lt(o,l):(l=ir(l,a,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,a=e.child.memoizedState,a=a===null?ya(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~r,t.memoizedState=xa,n}return l=e.child,e=l.sibling,n=Lt(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Co(e,t){return t=Bi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ls(e,t,r,n){return n!==null&&fo(n),Qr(t,e.child,null,r),e=Co(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qp(e,t,r,n,i,l,a){if(r)return t.flags&256?(t.flags&=-257,n=kl(Error(O(422))),Ls(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,i=t.mode,n=Bi({mode:"visible",children:n.children},i,0,null),l=ir(l,i,a,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Qr(t,e.child,null,a),t.child.memoizedState=ya(a),t.memoizedState=xa,l);if(!(t.mode&1))return Ls(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(O(419)),n=kl(l,n,void 0),Ls(e,t,a,n)}if(o=(a&e.childLanes)!==0,Se||o){if(n=ce,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,ft(e,i),Ye(n,e,i,-1))}return Ro(),n=kl(Error(O(421))),Ls(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=o0.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,Oe=Ot(i.nextSibling),Ie=t,G=!0,Qe=null,e!==null&&(Ae[Me++]=ot,Ae[Me++]=ct,Ae[Me++]=ar,ot=e.id,ct=e.overflow,ar=t),t=Co(t,n.children),t.flags|=4096,t)}function Jc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),da(e.return,t,r)}function Sl(e,t,r,n,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=i)}function kh(e,t,r){var n=t.pendingProps,i=n.revealOrder,l=n.tail;if(ye(e,t,n.children,r),n=Y.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jc(e,r,t);else if(e.tag===19)Jc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(H(Y,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&yi(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Sl(t,!1,i,r,l);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&yi(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Sl(t,!0,r,null,l);break;case"together":Sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=Lt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Gp(e,t,r){switch(t.tag){case 3:Nh(t),Jr();break;case 5:Yd(t);break;case 1:Ee(t.type)&&hi(t);break;case 4:vo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;H(pi,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(H(Y,Y.current&1),t.flags|=128,null):r&t.child.childLanes?_h(e,t,r):(H(Y,Y.current&1),e=mt(e,t,r),e!==null?e.sibling:null);H(Y,Y.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kh(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(Y,Y.current),n)break;return null;case 22:case 23:return t.lanes=0,jh(e,t,r)}return mt(e,t,r)}var Sh,va,Ch,Eh;Sh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};va=function(){};Ch=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,nr(nt.current);var l=null;switch(r){case"input":i=Fl(e,i),n=Fl(e,n),l=[];break;case"select":i=Z({},i,{value:void 0}),n=Z({},n,{value:void 0}),l=[];break;case"textarea":i=Wl(e,i),n=Wl(e,n),l=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ui)}Hl(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zn.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(l||(l=[]),l.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&K("scroll",e),l||o===c||(l=[])):(l=l||[]).push(u,c))}r&&(l=l||[]).push("style",r);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Eh=function(e,t,r,n){r!==n&&(t.flags|=4)};function vn(e,t){if(!G)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function me(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Yp(e,t,r){var n=t.pendingProps;switch(ho(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(t),null;case 1:return Ee(t.type)&&di(),me(t),null;case 3:return n=t.stateNode,Gr(),J(Ce),J(xe),jo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qe!==null&&(Ca(Qe),Qe=null))),va(e,t),me(t),null;case 5:wo(t);var i=nr(Xn.current);if(r=t.type,e!==null&&t.stateNode!=null)Ch(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return me(t),null}if(e=nr(nt.current),Rs(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[tt]=t,n[Gn]=l,e=(t.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(i=0;i<kn.length;i++)K(kn[i],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":nc(n,l),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},K("invalid",n);break;case"textarea":ic(n,l),K("invalid",n)}Hl(r,l),i=null;for(var a in l)if(l.hasOwnProperty(a)){var o=l[a];a==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&Is(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Is(n.textContent,o,e),i=["children",""+o]):zn.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&K("scroll",n)}switch(r){case"input":_s(n),sc(n,l,!0);break;case"textarea":_s(n),lc(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=ui)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[tt]=t,e[Gn]=n,Sh(e,t,!1,!1),t.stateNode=e;e:{switch(a=Kl(r,n),r){case"dialog":K("cancel",e),K("close",e),i=n;break;case"iframe":case"object":case"embed":K("load",e),i=n;break;case"video":case"audio":for(i=0;i<kn.length;i++)K(kn[i],e);i=n;break;case"source":K("error",e),i=n;break;case"img":case"image":case"link":K("error",e),K("load",e),i=n;break;case"details":K("toggle",e),i=n;break;case"input":nc(e,n),i=Fl(e,n),K("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Z({},n,{value:void 0}),K("invalid",e);break;case"textarea":ic(e,n),i=Wl(e,n),K("invalid",e);break;default:i=n}Hl(r,i),o=i;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?id(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nd(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Fn(e,c):typeof c=="number"&&Fn(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(zn.hasOwnProperty(l)?c!=null&&l==="onScroll"&&K("scroll",e):c!=null&&Ga(e,l,c,a))}switch(r){case"input":_s(e),sc(e,n,!1);break;case"textarea":_s(e),lc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mt(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?zr(e,!!n.multiple,l,!1):n.defaultValue!=null&&zr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return me(t),null;case 6:if(e&&t.stateNode!=null)Eh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=nr(Xn.current),nr(nt.current),Rs(t)){if(n=t.stateNode,r=t.memoizedProps,n[tt]=t,(l=n.nodeValue!==r)&&(e=Ie,e!==null))switch(e.tag){case 3:Is(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[tt]=t,t.stateNode=n}return me(t),null;case 13:if(J(Y),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(G&&Oe!==null&&t.mode&1&&!(t.flags&128))Hd(),Jr(),t.flags|=98560,l=!1;else if(l=Rs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(O(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(O(317));l[tt]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),l=!1}else Qe!==null&&(Ca(Qe),Qe=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?le===0&&(le=3):Ro())),t.updateQueue!==null&&(t.flags|=4),me(t),null);case 4:return Gr(),va(e,t),e===null&&Jn(t.stateNode.containerInfo),me(t),null;case 10:return go(t.type._context),me(t),null;case 17:return Ee(t.type)&&di(),me(t),null;case 19:if(J(Y),l=t.memoizedState,l===null)return me(t),null;if(n=(t.flags&128)!==0,a=l.rendering,a===null)if(n)vn(l,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=yi(e),a!==null){for(t.flags|=128,vn(l,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return H(Y,Y.current&1|2),t.child}e=e.sibling}l.tail!==null&&re()>Xr&&(t.flags|=128,n=!0,vn(l,!1),t.lanes=4194304)}else{if(!n)if(e=yi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!G)return me(t),null}else 2*re()-l.renderingStartTime>Xr&&r!==1073741824&&(t.flags|=128,n=!0,vn(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(r=l.last,r!==null?r.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=re(),t.sibling=null,r=Y.current,H(Y,n?r&1|2:r&1),t):(me(t),null);case 22:case 23:return Io(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Te&1073741824&&(me(t),t.subtreeFlags&6&&(t.flags|=8192)):me(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Xp(e,t){switch(ho(t),t.tag){case 1:return Ee(t.type)&&di(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),J(Ce),J(xe),jo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wo(t),null;case 13:if(J(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(Y),null;case 4:return Gr(),null;case 10:return go(t.type._context),null;case 22:case 23:return Io(),null;case 24:return null;default:return null}}var As=!1,ge=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,R=null;function Dr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){te(e,t,n)}else r.current=null}function wa(e,t,r){try{r()}catch(n){te(e,t,n)}}var Qc=!1;function e0(e,t){if(na=ai,e=Rd(),co(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var y;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==l||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===r&&++u===i&&(o=a),h===l&&++d===n&&(c=a),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(sa={focusedElem:e,selectionRange:r},ai=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,j=w.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:He(t.type,v),j);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(_){te(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return w=Qc,Qc=!1,w}function Rn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&wa(t,r,l)}i=i.next}while(i!==n)}}function zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ja(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ph(e){var t=e.alternate;t!==null&&(e.alternate=null,Ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tt],delete t[Gn],delete t[aa],delete t[Ap],delete t[Mp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Th(e){return e.tag===5||e.tag===3||e.tag===4}function Gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ba(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ui));else if(n!==4&&(e=e.child,e!==null))for(ba(e,t,r),e=e.sibling;e!==null;)ba(e,t,r),e=e.sibling}function Na(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Na(e,t,r),e=e.sibling;e!==null;)Na(e,t,r),e=e.sibling}var ue=null,Ke=!1;function xt(e,t,r){for(r=r.child;r!==null;)Oh(e,t,r),r=r.sibling}function Oh(e,t,r){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Ii,r)}catch{}switch(r.tag){case 5:ge||Dr(r,t);case 6:var n=ue,i=Ke;ue=null,xt(e,t,r),ue=n,Ke=i,ue!==null&&(Ke?(e=ue,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ue.removeChild(r.stateNode));break;case 18:ue!==null&&(Ke?(e=ue,r=r.stateNode,e.nodeType===8?vl(e.parentNode,r):e.nodeType===1&&vl(e,r),Vn(e)):vl(ue,r.stateNode));break;case 4:n=ue,i=Ke,ue=r.stateNode.containerInfo,Ke=!0,xt(e,t,r),ue=n,Ke=i;break;case 0:case 11:case 14:case 15:if(!ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var l=i,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&wa(r,t,a),i=i.next}while(i!==n)}xt(e,t,r);break;case 1:if(!ge&&(Dr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){te(r,t,o)}xt(e,t,r);break;case 21:xt(e,t,r);break;case 22:r.mode&1?(ge=(n=ge)||r.memoizedState!==null,xt(e,t,r),ge=n):xt(e,t,r);break;default:xt(e,t,r)}}function Yc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Zp),t.forEach(function(n){var i=c0.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function We(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var l=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:ue=o.stateNode,Ke=!1;break e;case 3:ue=o.stateNode.containerInfo,Ke=!0;break e;case 4:ue=o.stateNode.containerInfo,Ke=!0;break e}o=o.return}if(ue===null)throw Error(O(160));Oh(l,a,i),ue=null,Ke=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){te(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ih(t,e),t=t.sibling}function Ih(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(We(t,e),Ze(e),n&4){try{Rn(3,e,e.return),zi(3,e)}catch(v){te(e,e.return,v)}try{Rn(5,e,e.return)}catch(v){te(e,e.return,v)}}break;case 1:We(t,e),Ze(e),n&512&&r!==null&&Dr(r,r.return);break;case 5:if(We(t,e),Ze(e),n&512&&r!==null&&Dr(r,r.return),e.flags&32){var i=e.stateNode;try{Fn(i,"")}catch(v){te(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,a=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&ed(i,l),Kl(o,a);var u=Kl(o,l);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?id(i,f):d==="dangerouslySetInnerHTML"?nd(i,f):d==="children"?Fn(i,f):Ga(i,d,f,u)}switch(o){case"input":Bl(i,l);break;case"textarea":td(i,l);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var y=l.value;y!=null?zr(i,!!l.multiple,y,!1):h!==!!l.multiple&&(l.defaultValue!=null?zr(i,!!l.multiple,l.defaultValue,!0):zr(i,!!l.multiple,l.multiple?[]:"",!1))}i[Gn]=l}catch(v){te(e,e.return,v)}}break;case 6:if(We(t,e),Ze(e),n&4){if(e.stateNode===null)throw Error(O(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(v){te(e,e.return,v)}}break;case 3:if(We(t,e),Ze(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vn(t.containerInfo)}catch(v){te(e,e.return,v)}break;case 4:We(t,e),Ze(e);break;case 13:We(t,e),Ze(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(To=re())),n&4&&Yc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ge=(u=ge)||d,We(t,e),ge=u):We(t,e),Ze(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(f=R=d;R!==null;){switch(h=R,y=h.child,h.tag){case 0:case 11:case 14:case 15:Rn(4,h,h.return);break;case 1:Dr(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){te(n,r,v)}}break;case 5:Dr(h,h.return);break;case 22:if(h.memoizedState!==null){Zc(f);continue}}y!==null?(y.return=h,R=y):Zc(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=sd("display",a))}catch(v){te(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){te(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:We(t,e),Ze(e),n&4&&Yc(e);break;case 21:break;default:We(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Th(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Fn(i,""),n.flags&=-33);var l=Gc(e);Na(e,l,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Gc(e);ba(e,o,a);break;default:throw Error(O(161))}}catch(c){te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function t0(e,t,r){R=e,Rh(e)}function Rh(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var i=R,l=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||As;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||ge;o=As;var u=ge;if(As=a,(ge=c)&&!u)for(R=i;R!==null;)a=R,c=a.child,a.tag===22&&a.memoizedState!==null?eu(i):c!==null?(c.return=a,R=c):eu(i);for(;l!==null;)R=l,Rh(l),l=l.sibling;R=i,As=o,ge=u}Xc(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,R=l):Xc(e)}}function Xc(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ge||zi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ge)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:He(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Ac(t,l,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ac(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}ge||t.flags&512&&ja(t)}catch(h){te(t,t.return,h)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function Zc(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function eu(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zi(4,t)}catch(c){te(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){te(t,i,c)}}var l=t.return;try{ja(t)}catch(c){te(t,l,c)}break;case 5:var a=t.return;try{ja(t)}catch(c){te(t,a,c)}}}catch(c){te(t,t.return,c)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var r0=Math.ceil,ji=gt.ReactCurrentDispatcher,Eo=gt.ReactCurrentOwner,Ue=gt.ReactCurrentBatchConfig,q=0,ce=null,ne=null,de=0,Te=0,Ur=Bt(0),le=0,rs=null,cr=0,Fi=0,Po=0,$n=null,_e=null,To=0,Xr=1/0,it=null,bi=!1,_a=null,Rt=null,Ms=!1,St=null,Ni=0,Ln=0,ka=null,Zs=-1,ei=0;function ve(){return q&6?re():Zs!==-1?Zs:Zs=re()}function $t(e){return e.mode&1?q&2&&de!==0?de&-de:Up.transition!==null?(ei===0&&(ei=xd()),ei):(e=W,e!==0||(e=window.event,e=e===void 0?16:_d(e.type)),e):1}function Ye(e,t,r,n){if(50<Ln)throw Ln=0,ka=null,Error(O(185));us(e,r,n),(!(q&2)||e!==ce)&&(e===ce&&(!(q&2)&&(Fi|=r),le===4&&Nt(e,de)),Pe(e,n),r===1&&q===0&&!(t.mode&1)&&(Xr=re()+500,Mi&&qt()))}function Pe(e,t){var r=e.callbackNode;Um(e,t);var n=li(e,e===ce?de:0);if(n===0)r!==null&&cc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&cc(r),t===1)e.tag===0?Dp(tu.bind(null,e)):qd(tu.bind(null,e)),$p(function(){!(q&6)&&qt()}),r=null;else{switch(yd(n)){case 1:r=to;break;case 4:r=pd;break;case 16:r=ii;break;case 536870912:r=gd;break;default:r=ii}r=Fh(r,$h.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $h(e,t){if(Zs=-1,ei=0,q&6)throw Error(O(327));var r=e.callbackNode;if(Vr()&&e.callbackNode!==r)return null;var n=li(e,e===ce?de:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_i(e,n);else{t=n;var i=q;q|=2;var l=Ah();(ce!==e||de!==t)&&(it=null,Xr=re()+500,sr(e,t));do try{i0();break}catch(o){Lh(e,o)}while(!0);po(),ji.current=l,q=i,ne!==null?t=0:(ce=null,de=0,t=le)}if(t!==0){if(t===2&&(i=Xl(e),i!==0&&(n=i,t=Sa(e,i))),t===1)throw r=rs,sr(e,0),Nt(e,n),Pe(e,re()),r;if(t===6)Nt(e,n);else{if(i=e.current.alternate,!(n&30)&&!n0(i)&&(t=_i(e,n),t===2&&(l=Xl(e),l!==0&&(n=l,t=Sa(e,l))),t===1))throw r=rs,sr(e,0),Nt(e,n),Pe(e,re()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:Xt(e,_e,it);break;case 3:if(Nt(e,n),(n&130023424)===n&&(t=To+500-re(),10<t)){if(li(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ve(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=la(Xt.bind(null,e,_e,it),t);break}Xt(e,_e,it);break;case 4:if(Nt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Ge(n);l=1<<a,a=t[a],a>i&&(i=a),n&=~l}if(n=i,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*r0(n/1960))-n,10<n){e.timeoutHandle=la(Xt.bind(null,e,_e,it),n);break}Xt(e,_e,it);break;case 5:Xt(e,_e,it);break;default:throw Error(O(329))}}}return Pe(e,re()),e.callbackNode===r?$h.bind(null,e):null}function Sa(e,t){var r=$n;return e.current.memoizedState.isDehydrated&&(sr(e,t).flags|=256),e=_i(e,t),e!==2&&(t=_e,_e=r,t!==null&&Ca(t)),e}function Ca(e){_e===null?_e=e:_e.push.apply(_e,e)}function n0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],l=i.getSnapshot;i=i.value;try{if(!Xe(l(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nt(e,t){for(t&=~Po,t&=~Fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ge(t),n=1<<r;e[r]=-1,t&=~n}}function tu(e){if(q&6)throw Error(O(327));Vr();var t=li(e,0);if(!(t&1))return Pe(e,re()),null;var r=_i(e,t);if(e.tag!==0&&r===2){var n=Xl(e);n!==0&&(t=n,r=Sa(e,n))}if(r===1)throw r=rs,sr(e,0),Nt(e,t),Pe(e,re()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xt(e,_e,it),Pe(e,re()),null}function Oo(e,t){var r=q;q|=1;try{return e(t)}finally{q=r,q===0&&(Xr=re()+500,Mi&&qt())}}function ur(e){St!==null&&St.tag===0&&!(q&6)&&Vr();var t=q;q|=1;var r=Ue.transition,n=W;try{if(Ue.transition=null,W=1,e)return e()}finally{W=n,Ue.transition=r,q=t,!(q&6)&&qt()}}function Io(){Te=Ur.current,J(Ur)}function sr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Rp(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(ho(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&di();break;case 3:Gr(),J(Ce),J(xe),jo();break;case 5:wo(n);break;case 4:Gr();break;case 13:J(Y);break;case 19:J(Y);break;case 10:go(n.type._context);break;case 22:case 23:Io()}r=r.return}if(ce=e,ne=e=Lt(e.current,null),de=Te=t,le=0,rs=null,Po=Fi=cr=0,_e=$n=null,rr!==null){for(t=0;t<rr.length;t++)if(r=rr[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,l=r.pending;if(l!==null){var a=l.next;l.next=i,n.next=a}r.pending=n}rr=null}return e}function Lh(e,t){do{var r=ne;try{if(po(),Gs.current=wi,vi){for(var n=X.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}vi=!1}if(or=0,oe=ie=X=null,In=!1,Zn=0,Eo.current=null,r===null||r.return===null){le=1,rs=t,ne=null;break}e:{var l=e,a=r.return,o=r,c=t;if(t=de,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Bc(a);if(y!==null){y.flags&=-257,qc(y,a,o,l,t),y.mode&1&&Fc(l,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){Fc(l,u,t),Ro();break e}c=Error(O(426))}}else if(G&&o.mode&1){var j=Bc(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),qc(j,a,o,l,t),fo(Yr(c,o));break e}}l=c=Yr(c,o),le!==4&&(le=2),$n===null?$n=[l]:$n.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=yh(l,c,t);Lc(l,p);break e;case 1:o=c;var m=l.type,x=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Rt===null||!Rt.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t;var _=vh(l,o,t);Lc(l,_);break e}}l=l.return}while(l!==null)}Dh(r)}catch(E){t=E,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function Ah(){var e=ji.current;return ji.current=wi,e===null?wi:e}function Ro(){(le===0||le===3||le===2)&&(le=4),ce===null||!(cr&268435455)&&!(Fi&268435455)||Nt(ce,de)}function _i(e,t){var r=q;q|=2;var n=Ah();(ce!==e||de!==t)&&(it=null,sr(e,t));do try{s0();break}catch(i){Lh(e,i)}while(!0);if(po(),q=r,ji.current=n,ne!==null)throw Error(O(261));return ce=null,de=0,le}function s0(){for(;ne!==null;)Mh(ne)}function i0(){for(;ne!==null&&!Tm();)Mh(ne)}function Mh(e){var t=zh(e.alternate,e,Te);e.memoizedProps=e.pendingProps,t===null?Dh(e):ne=t,Eo.current=null}function Dh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Xp(r,t),r!==null){r.flags&=32767,ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,ne=null;return}}else if(r=Yp(r,t,Te),r!==null){ne=r;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);le===0&&(le=5)}function Xt(e,t,r){var n=W,i=Ue.transition;try{Ue.transition=null,W=1,l0(e,t,r,n)}finally{Ue.transition=i,W=n}return null}function l0(e,t,r,n){do Vr();while(St!==null);if(q&6)throw Error(O(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(zm(e,l),e===ce&&(ne=ce=null,de=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ms||(Ms=!0,Fh(ii,function(){return Vr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Ue.transition,Ue.transition=null;var a=W;W=1;var o=q;q|=4,Eo.current=null,e0(e,r),Ih(r,e),Sp(sa),ai=!!na,sa=na=null,e.current=r,t0(r),Om(),q=o,W=a,Ue.transition=l}else e.current=r;if(Ms&&(Ms=!1,St=e,Ni=i),l=e.pendingLanes,l===0&&(Rt=null),$m(r.stateNode),Pe(e,re()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(bi)throw bi=!1,e=_a,_a=null,e;return Ni&1&&e.tag!==0&&Vr(),l=e.pendingLanes,l&1?e===ka?Ln++:(Ln=0,ka=e):Ln=0,qt(),null}function Vr(){if(St!==null){var e=yd(Ni),t=Ue.transition,r=W;try{if(Ue.transition=null,W=16>e?16:e,St===null)var n=!1;else{if(e=St,St=null,Ni=0,q&6)throw Error(O(331));var i=q;for(q|=4,R=e.current;R!==null;){var l=R,a=l.child;if(R.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Rn(8,d,l)}var f=d.child;if(f!==null)f.return=d,R=f;else for(;R!==null;){d=R;var h=d.sibling,y=d.return;if(Ph(d),d===u){R=null;break}if(h!==null){h.return=y,R=h;break}R=y}}}var w=l.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}R=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,R=a;else e:for(;R!==null;){if(l=R,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Rn(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,R=p;break e}R=l.return}}var m=e.current;for(R=m;R!==null;){a=R;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,R=x;else e:for(a=m;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:zi(9,o)}}catch(E){te(o,o.return,E)}if(o===a){R=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,R=_;break e}R=o.return}}if(q=i,qt(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Ii,e)}catch{}n=!0}return n}finally{W=r,Ue.transition=t}}return!1}function ru(e,t,r){t=Yr(r,t),t=yh(e,t,1),e=It(e,t,1),t=ve(),e!==null&&(us(e,1,t),Pe(e,t))}function te(e,t,r){if(e.tag===3)ru(e,e,r);else for(;t!==null;){if(t.tag===3){ru(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rt===null||!Rt.has(n))){e=Yr(r,e),e=vh(t,e,1),t=It(t,e,1),e=ve(),t!==null&&(us(t,1,e),Pe(t,e));break}}t=t.return}}function a0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ve(),e.pingedLanes|=e.suspendedLanes&r,ce===e&&(de&r)===r&&(le===4||le===3&&(de&130023424)===de&&500>re()-To?sr(e,0):Po|=r),Pe(e,t)}function Uh(e,t){t===0&&(e.mode&1?(t=Cs,Cs<<=1,!(Cs&130023424)&&(Cs=4194304)):t=1);var r=ve();e=ft(e,t),e!==null&&(us(e,t,r),Pe(e,r))}function o0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Uh(e,r)}function c0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),Uh(e,r)}var zh;zh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ce.current)Se=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Se=!1,Gp(e,t,r);Se=!!(e.flags&131072)}else Se=!1,G&&t.flags&1048576&&Wd(t,mi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xs(e,t),e=t.pendingProps;var i=Kr(t,xe.current);Wr(t,r),i=No(null,t,n,e,i,r);var l=_o();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ee(n)?(l=!0,hi(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yo(t),i.updater=Ui,t.stateNode=i,i._reactInternals=t,fa(t,n,e,r),t=ga(null,t,n,!0,l,r)):(t.tag=0,G&&l&&uo(t),ye(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=d0(n),e=He(n,e),i){case 0:t=pa(null,t,n,e,r);break e;case 1:t=Hc(null,t,n,e,r);break e;case 11:t=Wc(null,t,n,e,r);break e;case 14:t=Vc(null,t,n,He(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:He(n,i),pa(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:He(n,i),Hc(e,t,n,i,r);case 3:e:{if(Nh(t),e===null)throw Error(O(387));n=t.pendingProps,l=t.memoizedState,i=l.element,Gd(e,t),xi(t,n,null,r);var a=t.memoizedState;if(n=a.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=Yr(Error(O(423)),t),t=Kc(e,t,n,r,i);break e}else if(n!==i){i=Yr(Error(O(424)),t),t=Kc(e,t,n,r,i);break e}else for(Oe=Ot(t.stateNode.containerInfo.firstChild),Ie=t,G=!0,Qe=null,r=Jd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),n===i){t=mt(e,t,r);break e}ye(e,t,n,r)}t=t.child}return t;case 5:return Yd(t),e===null&&ua(t),n=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,a=i.children,ia(n,i)?a=null:l!==null&&ia(n,l)&&(t.flags|=32),bh(e,t),ye(e,t,a,r),t.child;case 6:return e===null&&ua(t),null;case 13:return _h(e,t,r);case 4:return vo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qr(t,null,n,r):ye(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:He(n,i),Wc(e,t,n,i,r);case 7:return ye(e,t,t.pendingProps,r),t.child;case 8:return ye(e,t,t.pendingProps.children,r),t.child;case 12:return ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,l=t.memoizedProps,a=i.value,H(pi,n._currentValue),n._currentValue=a,l!==null)if(Xe(l.value,a)){if(l.children===i.children&&!Ce.current){t=mt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){a=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=ut(-1,r&-r),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),da(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(O(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),da(a,r,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}ye(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Wr(t,r),i=Fe(i),n=n(i),t.flags|=1,ye(e,t,n,r),t.child;case 14:return n=t.type,i=He(n,t.pendingProps),i=He(n.type,i),Vc(e,t,n,i,r);case 15:return wh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:He(n,i),Xs(e,t),t.tag=1,Ee(n)?(e=!0,hi(t)):e=!1,Wr(t,r),xh(t,n,i),fa(t,n,i,r),ga(null,t,n,!0,e,r);case 19:return kh(e,t,r);case 22:return jh(e,t,r)}throw Error(O(156,t.tag))};function Fh(e,t){return md(e,t)}function u0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(e,t,r,n){return new u0(e,t,r,n)}function $o(e){return e=e.prototype,!(!e||!e.isReactComponent)}function d0(e){if(typeof e=="function")return $o(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xa)return 11;if(e===Za)return 14}return 2}function Lt(e,t){var r=e.alternate;return r===null?(r=De(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ti(e,t,r,n,i,l){var a=2;if(n=e,typeof e=="function")$o(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Pr:return ir(r.children,i,l,t);case Ya:a=8,i|=8;break;case Ml:return e=De(12,r,t,i|2),e.elementType=Ml,e.lanes=l,e;case Dl:return e=De(13,r,t,i),e.elementType=Dl,e.lanes=l,e;case Ul:return e=De(19,r,t,i),e.elementType=Ul,e.lanes=l,e;case Yu:return Bi(r,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qu:a=10;break e;case Gu:a=9;break e;case Xa:a=11;break e;case Za:a=14;break e;case vt:a=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=De(a,r,t,i),t.elementType=e,t.type=n,t.lanes=l,t}function ir(e,t,r,n){return e=De(7,e,n,t),e.lanes=r,e}function Bi(e,t,r,n){return e=De(22,e,n,t),e.elementType=Yu,e.lanes=r,e.stateNode={isHidden:!1},e}function Cl(e,t,r){return e=De(6,e,null,t),e.lanes=r,e}function El(e,t,r){return t=De(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function h0(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lo(e,t,r,n,i,l,a,o,c){return e=new h0(e,t,r,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=De(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yo(l),e}function f0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Bh(e){if(!e)return Dt;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ee(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(Ee(r))return Bd(e,r,t)}return t}function qh(e,t,r,n,i,l,a,o,c){return e=Lo(r,n,!0,e,i,l,a,o,c),e.context=Bh(null),r=e.current,n=ve(),i=$t(r),l=ut(n,i),l.callback=t??null,It(r,l,i),e.current.lanes=i,us(e,i,n),Pe(e,n),e}function qi(e,t,r,n){var i=t.current,l=ve(),a=$t(i);return r=Bh(r),t.context===null?t.context=r:t.pendingContext=r,t=ut(l,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=It(i,t,a),e!==null&&(Ye(e,i,a,l),Qs(e,i,a)),a}function ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ao(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function m0(){return null}var Wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mo(e){this._internalRoot=e}Wi.prototype.render=Mo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));qi(e,t,null,null)};Wi.prototype.unmount=Mo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ur(function(){qi(null,e,null,null)}),t[ht]=null}};function Wi(e){this._internalRoot=e}Wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=jd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bt.length&&t!==0&&t<bt[r].priority;r++);bt.splice(r,0,e),r===0&&Nd(e)}};function Do(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function su(){}function p0(e,t,r,n,i){if(i){if(typeof n=="function"){var l=n;n=function(){var u=ki(a);l.call(u)}}var a=qh(t,n,e,0,null,!1,!1,"",su);return e._reactRootContainer=a,e[ht]=a.current,Jn(e.nodeType===8?e.parentNode:e),ur(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=ki(c);o.call(u)}}var c=Lo(e,0,!1,null,null,!1,!1,"",su);return e._reactRootContainer=c,e[ht]=c.current,Jn(e.nodeType===8?e.parentNode:e),ur(function(){qi(t,c,r,n)}),c}function Hi(e,t,r,n,i){var l=r._reactRootContainer;if(l){var a=l;if(typeof i=="function"){var o=i;i=function(){var c=ki(a);o.call(c)}}qi(t,a,e,i)}else a=p0(r,t,e,i,n);return ki(a)}vd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_n(t.pendingLanes);r!==0&&(ro(t,r|1),Pe(t,re()),!(q&6)&&(Xr=re()+500,qt()))}break;case 13:ur(function(){var n=ft(e,1);if(n!==null){var i=ve();Ye(n,e,1,i)}}),Ao(e,1)}};no=function(e){if(e.tag===13){var t=ft(e,134217728);if(t!==null){var r=ve();Ye(t,e,134217728,r)}Ao(e,134217728)}};wd=function(e){if(e.tag===13){var t=$t(e),r=ft(e,t);if(r!==null){var n=ve();Ye(r,e,t,n)}Ao(e,t)}};jd=function(){return W};bd=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};Ql=function(e,t,r){switch(t){case"input":if(Bl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ai(n);if(!i)throw Error(O(90));Zu(n),Bl(n,i)}}}break;case"textarea":td(e,r);break;case"select":t=r.value,t!=null&&zr(e,!!r.multiple,t,!1)}};od=Oo;cd=ur;var g0={usingClientEntryPoint:!1,Events:[hs,Rr,Ai,ld,ad,Oo]},wn={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x0={bundleType:wn.bundleType,version:wn.version,rendererPackageName:wn.rendererPackageName,rendererConfig:wn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hd(e),e===null?null:e.stateNode},findFiberByHostInstance:wn.findFiberByHostInstance||m0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Ii=Ds.inject(x0),rt=Ds}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g0;$e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Do(t))throw Error(O(200));return f0(e,t,null,r)};$e.createRoot=function(e,t){if(!Do(e))throw Error(O(299));var r=!1,n="",i=Wh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Lo(e,1,!1,null,null,r,!1,n,i),e[ht]=t.current,Jn(e.nodeType===8?e.parentNode:e),new Mo(t)};$e.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=hd(t),e=e===null?null:e.stateNode,e};$e.flushSync=function(e){return ur(e)};$e.hydrate=function(e,t,r){if(!Vi(t))throw Error(O(200));return Hi(null,e,t,!0,r)};$e.hydrateRoot=function(e,t,r){if(!Do(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,i=!1,l="",a=Wh;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=qh(t,null,e,1,r??null,i,!1,l,a),e[ht]=t.current,Jn(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Wi(t)};$e.render=function(e,t,r){if(!Vi(t))throw Error(O(200));return Hi(null,e,t,!1,r)};$e.unmountComponentAtNode=function(e){if(!Vi(e))throw Error(O(40));return e._reactRootContainer?(ur(function(){Hi(null,null,e,!1,function(){e._reactRootContainer=null,e[ht]=null})}),!0):!1};$e.unstable_batchedUpdates=Oo;$e.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vi(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Hi(e,t,r,!1,n)};$e.version="18.3.1-next-f1338f8080-20240426";function Vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vh)}catch(e){console.error(e)}}Vh(),Vu.exports=$e;var y0=Vu.exports,Hh,iu=y0;Hh=iu.createRoot,iu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(this,arguments)}var Ct;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ct||(Ct={}));const lu="popstate";function v0(e){e===void 0&&(e={});function t(n,i){let{pathname:l,search:a,hash:o}=n.location;return Ea("",{pathname:l,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Si(i)}return j0(t,r,null,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w0(){return Math.random().toString(36).substr(2,8)}function au(e,t){return{usr:e.state,key:e.key,idx:t}}function Ea(e,t,r,n){return r===void 0&&(r=null),ns({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?an(t):t,{state:r,key:t&&t.key||n||w0()})}function Si(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function an(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function j0(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:l=!1}=n,a=i.history,o=Ct.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ns({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Ct.Pop;let j=d(),p=j==null?null:j-u;u=j,c&&c({action:o,location:v.location,delta:p})}function h(j,p){o=Ct.Push;let m=Ea(v.location,j,p);u=d()+1;let x=au(m,u),_=v.createHref(m);try{a.pushState(x,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(_)}l&&c&&c({action:o,location:v.location,delta:1})}function y(j,p){o=Ct.Replace;let m=Ea(v.location,j,p);u=d();let x=au(m,u),_=v.createHref(m);a.replaceState(x,"",_),l&&c&&c({action:o,location:v.location,delta:0})}function w(j){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof j=="string"?j:Si(j);return m=m.replace(/ $/,"%20"),se(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let v={get action(){return o},get location(){return e(i,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(lu,f),c=j,()=>{i.removeEventListener(lu,f),c=null}},createHref(j){return t(i,j)},createURL:w,encodeLocation(j){let p=w(j);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:y,go(j){return a.go(j)}};return v}var ou;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ou||(ou={}));function b0(e,t,r){return r===void 0&&(r="/"),N0(e,t,r,!1)}function N0(e,t,r,n){let i=typeof t=="string"?an(t):t,l=Uo(i.pathname||"/",r);if(l==null)return null;let a=Jh(e);_0(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=L0(l);o=R0(a[c],u,n)}return o}function Jh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(l,a,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};c.relativePath.startsWith("/")&&(se(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=At([n,c.relativePath]),d=r.concat(c);l.children&&l.children.length>0&&(se(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jh(l.children,t,d,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:O0(u,l.index),routesMeta:d})};return e.forEach((l,a)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))i(l,a);else for(let c of Qh(l.path))i(l,a,c)}),t}function Qh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let a=Qh(n.join("/")),o=[];return o.push(...a.map(c=>c===""?l:[l,c].join("/"))),i&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function _0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:I0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const k0=/^:[\w-]+$/,S0=3,C0=2,E0=1,P0=10,T0=-2,cu=e=>e==="*";function O0(e,t){let r=e.split("/"),n=r.length;return r.some(cu)&&(n+=T0),t&&(n+=C0),r.filter(i=>!cu(i)).reduce((i,l)=>i+(k0.test(l)?S0:l===""?E0:P0),n)}function I0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function R0(e,t,r){let{routesMeta:n}=e,i={},l="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=l==="/"?t:t.slice(l.length)||"/",f=uu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=uu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:At([l,f.pathname]),pathnameBase:U0(At([l,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(l=At([l,f.pathnameBase]))}return a}function uu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$0(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let l=i[0],a=l.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let v=o[f]||"";a=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const w=o[f];return y&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:a,pattern:e}}function $0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function L0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Uo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function A0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?an(e):e;return{pathname:r?r.startsWith("/")?r:M0(r,t):t,search:z0(n),hash:F0(i)}}function M0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Pl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gh(e,t){let r=D0(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yh(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=an(e):(i=ns({},e),se(!i.pathname||!i.pathname.includes("?"),Pl("?","pathname","search",i)),se(!i.pathname||!i.pathname.includes("#"),Pl("#","pathname","hash",i)),se(!i.search||!i.search.includes("#"),Pl("#","search","hash",i)));let l=e===""||i.pathname==="",a=l?"/":i.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=A0(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(l||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const At=e=>e.join("/").replace(/\/\/+/g,"/"),U0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,F0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function B0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xh=["post","put","patch","delete"];new Set(Xh);const q0=["get",...Xh];new Set(q0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(this,arguments)}const zo=b.createContext(null),W0=b.createContext(null),mr=b.createContext(null),Ki=b.createContext(null),Wt=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Zh=b.createContext(null);function V0(e,t){let{relative:r}=t===void 0?{}:t;ms()||se(!1);let{basename:n,navigator:i}=b.useContext(mr),{hash:l,pathname:a,search:o}=tf(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:At([n,a])),i.createHref({pathname:c,search:o,hash:l})}function ms(){return b.useContext(Ki)!=null}function on(){return ms()||se(!1),b.useContext(Ki).location}function ef(e){b.useContext(mr).static||b.useLayoutEffect(e)}function pr(){let{isDataRoute:e}=b.useContext(Wt);return e?sg():H0()}function H0(){ms()||se(!1);let e=b.useContext(zo),{basename:t,future:r,navigator:n}=b.useContext(mr),{matches:i}=b.useContext(Wt),{pathname:l}=on(),a=JSON.stringify(Gh(i,r.v7_relativeSplatPath)),o=b.useRef(!1);return ef(()=>{o.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Yh(u,JSON.parse(a),l,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:At([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,l,e])}function Fo(){let{matches:e}=b.useContext(Wt),t=e[e.length-1];return t?t.params:{}}function tf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(mr),{matches:i}=b.useContext(Wt),{pathname:l}=on(),a=JSON.stringify(Gh(i,n.v7_relativeSplatPath));return b.useMemo(()=>Yh(e,JSON.parse(a),l,r==="path"),[e,a,l,r])}function K0(e,t){return J0(e,t)}function J0(e,t,r,n){ms()||se(!1);let{navigator:i}=b.useContext(mr),{matches:l}=b.useContext(Wt),a=l[l.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=on(),d;if(t){var f;let j=typeof t=="string"?an(t):t;c==="/"||(f=j.pathname)!=null&&f.startsWith(c)||se(!1),d=j}else d=u;let h=d.pathname||"/",y=h;if(c!=="/"){let j=c.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=b0(e,{pathname:y}),v=Z0(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:At([c,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:At([c,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,r,n);return t&&v?b.createElement(Ki.Provider,{value:{location:ss({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ct.Pop}},v):v}function Q0(){let e=ng(),t=B0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:i},r):null,null)}const G0=b.createElement(Q0,null);class Y0 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(Wt.Provider,{value:this.props.routeContext},b.createElement(Zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X0(e){let{routeContext:t,match:r,children:n}=e,i=b.useContext(zo);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Wt.Provider,{value:t},n)}function Z0(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||se(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:y}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let y,w=!1,v=null,j=null;r&&(y=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||G0,c&&(u<0&&h===0?(w=!0,j=null):u===h&&(w=!0,j=f.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,h+1)),m=()=>{let x;return y?x=v:w?x=j:f.route.Component?x=b.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,b.createElement(X0,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(Y0,{location:r.location,revalidation:r.revalidation,component:v,error:y,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var rf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rf||{}),Ci=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ci||{});function eg(e){let t=b.useContext(zo);return t||se(!1),t}function tg(e){let t=b.useContext(W0);return t||se(!1),t}function rg(e){let t=b.useContext(Wt);return t||se(!1),t}function nf(e){let t=rg(),r=t.matches[t.matches.length-1];return r.route.id||se(!1),r.route.id}function ng(){var e;let t=b.useContext(Zh),r=tg(Ci.UseRouteError),n=nf(Ci.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function sg(){let{router:e}=eg(rf.UseNavigateStable),t=nf(Ci.UseNavigateStable),r=b.useRef(!1);return ef(()=>{r.current=!0}),b.useCallback(function(i,l){l===void 0&&(l={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ss({fromRouteId:t},l)))},[e,t])}function ig(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Q(e){se(!1)}function lg(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Ct.Pop,navigator:l,static:a=!1,future:o}=e;ms()&&se(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:l,static:a,future:ss({v7_relativeSplatPath:!1},o)}),[c,o,l,a]);typeof n=="string"&&(n=an(n));let{pathname:d="/",search:f="",hash:h="",state:y=null,key:w="default"}=n,v=b.useMemo(()=>{let j=Uo(d,c);return j==null?null:{location:{pathname:j,search:f,hash:h,state:y,key:w},navigationType:i}},[c,d,f,h,y,w,i]);return v==null?null:b.createElement(mr.Provider,{value:u},b.createElement(Ki.Provider,{children:r,value:v}))}function Pa(e){let{children:t,location:r}=e;return K0(Ta(t),r)}new Promise(()=>{});function Ta(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,i)=>{if(!b.isValidElement(n))return;let l=[...t,i];if(n.type===b.Fragment){r.push.apply(r,Ta(n.props.children,l));return}n.type!==Q&&se(!1),!n.props.index||!n.props.children||se(!1);let a={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Ta(n.props.children,l)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(this,arguments)}function ag(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function og(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cg(e,t){return e.button===0&&(!t||t==="_self")&&!og(e)}function Ia(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function ug(e,t){let r=Ia(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(l=>{r.append(i,l)})}),r}const dg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hg="6";try{window.__reactRouterVersion=hg}catch{}const fg="startTransition",du=am[fg];function mg(e){let{basename:t,children:r,future:n,window:i}=e,l=b.useRef();l.current==null&&(l.current=v0({window:i,v5Compat:!0}));let a=l.current,[o,c]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&du?du(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.useEffect(()=>ig(n),[n]),b.createElement(lg,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const pg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A=b.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:l,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=ag(t,dg),{basename:y}=b.useContext(mr),w,v=!1;if(typeof u=="string"&&gg.test(u)&&(w=u,pg))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),E=Uo(_.pathname,y);_.origin===x.origin&&E!=null?u=E+_.search+_.hash:v=!0}catch{}let j=V0(u,{relative:i}),p=xg(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function m(x){n&&n(x),x.defaultPrevented||p(x)}return b.createElement("a",Oa({},h,{href:w||j,onClick:v||l?n:m,ref:r,target:c}))});var hu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hu||(hu={}));var fu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fu||(fu={}));function xg(e,t){let{target:r,replace:n,state:i,preventScrollReset:l,relative:a,viewTransition:o}=t===void 0?{}:t,c=pr(),u=on(),d=tf(e,{relative:a});return b.useCallback(f=>{if(cg(f,r)){f.preventDefault();let h=n!==void 0?n:Si(u)===Si(d);c(e,{replace:h,state:i,preventScrollReset:l,relative:a,viewTransition:o})}},[u,c,d,n,i,r,e,l,a,o])}function yg(e){let t=b.useRef(Ia(e)),r=b.useRef(!1),n=on(),i=b.useMemo(()=>ug(n.search,r.current?null:t.current),[n.search]),l=pr(),a=b.useCallback((o,c)=>{const u=Ia(typeof o=="function"?o(i):o);r.current=!0,l("?"+u,c)},[l,i]);return[i,a]}const sf=b.createContext(null),vg=(e,t)=>{switch(t.type){case"ADD_ITEM":{if(e.items.find(i=>i.product.id===t.payload.id)){const i=e.items.map(l=>l.product.id===t.payload.id?{...l,quantity:l.quantity+1}:l);return{...e,items:i,total:i.reduce((l,a)=>l+a.product.price*a.quantity,0),itemCount:i.reduce((l,a)=>l+a.quantity,0)}}const n=[...e.items,{product:t.payload,quantity:1}];return{...e,items:n,total:n.reduce((i,l)=>i+l.product.price*l.quantity,0),itemCount:n.reduce((i,l)=>i+l.quantity,0)}}case"REMOVE_ITEM":{const r=e.items.filter(n=>n.product.id!==t.payload);return{...e,items:r,total:r.reduce((n,i)=>n+i.product.price*i.quantity,0),itemCount:r.reduce((n,i)=>n+i.quantity,0)}}case"UPDATE_QUANTITY":{const r=e.items.map(n=>n.product.id===t.payload.id?{...n,quantity:Math.max(0,t.payload.quantity)}:n).filter(n=>n.quantity>0);return{...e,items:r,total:r.reduce((n,i)=>n+i.product.price*i.quantity,0),itemCount:r.reduce((n,i)=>n+i.quantity,0)}}case"CLEAR_CART":return{items:[],total:0,itemCount:0};default:return e}},wg=({children:e})=>{const[t,r]=b.useReducer(vg,{items:[],total:0,itemCount:0});return s.jsx(sf.Provider,{value:{state:t,dispatch:r},children:e})},Vt=()=>{const e=b.useContext(sf);if(!e)throw new Error("useCart must be used within a CartProvider");return e},lf=b.createContext(null),jg=(e,t)=>{switch(t.type){case"ADD_ITEM":{if(e.items.find(i=>i.id===t.payload.id))return e;const n=[...e.items,t.payload];return localStorage.setItem("wishlist",JSON.stringify(n)),{...e,items:n,itemCount:n.length}}case"REMOVE_ITEM":{const r=e.items.filter(n=>n.id!==t.payload);return localStorage.setItem("wishlist",JSON.stringify(r)),{...e,items:r,itemCount:r.length}}case"CLEAR_WISHLIST":return localStorage.removeItem("wishlist"),{items:[],itemCount:0};case"LOAD_WISHLIST":return{items:t.payload,itemCount:t.payload.length};default:return e}},bg=({children:e})=>{const[t,r]=b.useReducer(jg,{items:[],itemCount:0});return b.useEffect(()=>{const n=localStorage.getItem("wishlist");if(n)try{const i=JSON.parse(n);r({type:"LOAD_WISHLIST",payload:i})}catch(i){console.error("Error loading wishlist from localStorage:",i)}},[]),s.jsx(lf.Provider,{value:{state:t,dispatch:r},children:e})},cn=()=>{const e=b.useContext(lf);if(!e)throw new Error("useWishlist must be used within a WishlistProvider");return e},Ng="modulepreload",_g=function(e){return"/"+e},mu={},ps=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=_g(c),c in mu)return;mu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Ng,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,y)=>{f.addEventListener("load",h),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&l(o.reason);return t().catch(l)})},kg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ps(async()=>{const{default:n}=await Promise.resolve().then(()=>un);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Bo extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Sg extends Bo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cg extends Bo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Eg extends Bo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ra;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ra||(Ra={}));var Pg=function(e,t,r,n){function i(l){return l instanceof r?l:new r(function(a){a(l)})}return new(r||(r=Promise))(function(l,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?l(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class Tg{constructor(t,{headers:r={},customFetch:n,region:i=Ra.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=kg(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Pg(this,void 0,void 0,function*(){try{const{headers:i,method:l,body:a}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:u}).catch(w=>{throw new Sg(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Cg(d);if(!d.ok)throw new Eg(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return h==="application/json"?y=yield d.json():h==="application/octet-stream"?y=yield d.blob():h==="text/event-stream"?y=d:h==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var ke={},qo={},Ji={},gs={},Qi={},Gi={},Og=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zr=Og();const Ig=Zr.fetch,af=Zr.fetch.bind(Zr),of=Zr.Headers,Rg=Zr.Request,$g=Zr.Response,un=Object.freeze(Object.defineProperty({__proto__:null,Headers:of,Request:Rg,Response:$g,default:af,fetch:Ig},Symbol.toStringTag,{value:"Module"})),Lg=Wf(un);var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});let Ag=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Yi.default=Ag;var cf=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gi,"__esModule",{value:!0});const Mg=cf(Lg),Dg=cf(Yi);let Ug=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Mg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var a,o,c;let u=null,d=null,f=null,h=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const p=await l.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),j=(o=l.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&j&&j.length>1&&(f=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await l.text();try{u=JSON.parse(v),Array.isArray(u)&&l.status===404&&(d=[],u=null,h=200,y="OK")}catch{l.status===404&&v===""?(h=204,y="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,y="OK"),u&&this.shouldThrowOnError)throw new Dg.default(u)}return{error:u,data:d,count:f,status:h,statusText:y}});return this.shouldThrowOnError||(i=i.catch(l=>{var a,o,c;return{error:{message:`${(a=l==null?void 0:l.name)!==null&&a!==void 0?a:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(o=l==null?void 0:l.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=l==null?void 0:l.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Gi.default=Ug;var zg=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qi,"__esModule",{value:!0});const Fg=zg(Gi);let Bg=class extends Fg.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:l=i}={}){const a=l?`${l}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:l=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,l?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qi.default=Bg;var qg=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gs,"__esModule",{value:!0});const Wg=qg(Qi);let Vg=class extends Wg.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let l="";i==="plain"?l="pl":i==="phrase"?l="ph":i==="websearch"&&(l="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${l}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};gs.default=Vg;var Hg=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ji,"__esModule",{value:!0});const jn=Hg(gs);let Kg=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let l=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!l?"":(o==='"'&&(l=!l),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new jn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),n||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new jn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:l=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),l||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new jn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new jn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new jn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ji.default=Kg;var Xi={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.version=void 0;Zi.version="0.0.0-automated";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.DEFAULT_HEADERS=void 0;const Jg=Zi;Xi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Jg.version}`};var uf=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qo,"__esModule",{value:!0});const Qg=uf(Ji),Gg=uf(gs),Yg=Xi;let Xg=class df{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Yg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new Qg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new df(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:l}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return l&&(u.Prefer=`count=${l}`),new Gg.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};qo.default=Xg;var dn=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const hf=dn(qo);ke.PostgrestClient=hf.default;const ff=dn(Ji);ke.PostgrestQueryBuilder=ff.default;const mf=dn(gs);ke.PostgrestFilterBuilder=mf.default;const pf=dn(Qi);ke.PostgrestTransformBuilder=pf.default;const gf=dn(Gi);ke.PostgrestBuilder=gf.default;const xf=dn(Yi);ke.PostgrestError=xf.default;var Zg=ke.default={PostgrestClient:hf.default,PostgrestQueryBuilder:ff.default,PostgrestFilterBuilder:mf.default,PostgrestTransformBuilder:pf.default,PostgrestBuilder:gf.default,PostgrestError:xf.default};const{PostgrestClient:ex,PostgrestQueryBuilder:Jv,PostgrestFilterBuilder:Qv,PostgrestTransformBuilder:Gv,PostgrestBuilder:Yv,PostgrestError:Xv}=Zg;function tx(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const rx=tx(),nx="2.11.15",sx=`realtime-js/${nx}`,ix="1.0.0",yf=1e4,lx=1e3;var An;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(An||(An={}));var pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pe||(pe={}));var Je;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Je||(Je={}));var $a;(function(e){e.websocket="websocket"})($a||($a={}));var er;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(er||(er={}));class ax{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),l=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+l));a=a+l;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class vf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(V||(V={}));const pu=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((l,a)=>(l[a]=ox(a,e,t,i),l),{})},ox=(e,t,r,n)=>{const i=t.find(o=>o.name===e),l=i==null?void 0:i.type,a=r[e];return l&&!n.includes(l)?wf(l,a):La(a)},wf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return hx(t,r)}switch(e){case V.bool:return cx(t);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return ux(t);case V.json:case V.jsonb:return dx(t);case V.timestamp:return fx(t);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return La(t);default:return La(t)}},La=e=>e,cx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ux=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},hx=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let l;const a=e.slice(1,r);try{l=JSON.parse("["+a+"]")}catch{l=a?a.split(","):[]}return l.map(o=>wf(t,o))}return e},fx=e=>typeof e=="string"?e.replace(" ","T"):e,jf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Tl{constructor(t,r,n={},i=yf){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gu||(gu={}));class Mn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:l,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mn.syncState(this.state,i,l,a),this.pendingDiffs.forEach(c=>{this.state=Mn.syncDiff(this.state,c,l,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:l,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mn.syncDiff(this.state,i,l,a),o())}),this.onJoin((i,l,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:a})}),this.onLeave((i,l,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const l=this.cloneDeep(t),a=this.transformState(r),o={},c={};return this.map(l,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=l[u];if(f){const h=d.map(j=>j.presence_ref),y=f.map(j=>j.presence_ref),w=d.filter(j=>y.indexOf(j.presence_ref)<0),v=f.filter(j=>h.indexOf(j.presence_ref)<0);w.length>0&&(o[u]=w),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(l,{joins:o,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:l,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(l,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(y=>y.presence_ref),h=d.filter(y=>f.indexOf(y.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xu||(xu={}));var yu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yu||(yu={}));var lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(lt||(lt={}));class Wo{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tl(this,Je.join,this.params,this.timeout),this.rejoinTimer=new vf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Mn(this),this.broadcastEndpointURL=jf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:l,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(lt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(lt.CLOSED));const c={},u={broadcast:l,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(lt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,y=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let v=0;v<y;v++){const j=h[v],{filter:{event:p,schema:m,table:x,filter:_}}=j,E=d&&d[v];if(E&&E.event===p&&E.schema===m&&E.table===x&&E.filter===_)w.push(Object.assign(Object.assign({},j),{id:E.id}));else{this.unsubscribe(),this.state=pe.errored,t==null||t(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(lt.SUBSCRIBED);return}}).receive("error",d=>{this.state=pe.errored,t==null||t(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var a,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&l("ok"),u.receive("ok",()=>l("ok")),u.receive("error",()=>l("error")),u.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Tl(this,Je.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,l=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Tl(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,l;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Je;if(n&&[o,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var w,v,j;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(v=y.filter)===null||v===void 0?void 0:v.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(y=>y.callback(h,n)):(l=this.bindings[a])===null||l===void 0||l.filter(y=>{var w,v,j,p,m,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const _=y.id,E=(w=y.filter)===null||w===void 0?void 0:w.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const _=(m=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:v,table:j,commit_timestamp:p,type:m,errors:x}=w;h=Object.assign(Object.assign({},{schema:v,table:j,commit_timestamp:p,eventType:m,new:{},old:{},errors:x}),this._getPayloadRecords(w))}y.callback(h,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),l={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&Wo.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Je.close,{},t)}_onError(t){this._on(Je.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=pu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=pu(t.columns,t.old_record)),r}}const vu=()=>{},mx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class px{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vu,this.ref=0,this.logger=vu,this.conn=null,this.sendBuffer=[],this.serializer=new ax,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...o)=>ps(async()=>{const{default:c}=await Promise.resolve().then(()=>un);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${$a.websocket}`,this.httpEndpoint=jf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(l,a)=>a(JSON.stringify(l)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=rx),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ix}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return er.Connecting;case An.open:return er.Open;case An.closing:return er.Closing;default:return er.Closed}}isConnected(){return this.connectionState()===er.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(l=>l.topic===n);if(i)return i;{const l=new Wo(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:n,payload:i,ref:l}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${l})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:sx};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Je.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(lx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:l,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,l),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,l,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Je.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([mx],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Vo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gx extends Vo{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Aa extends Vo{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var xx=function(e,t,r,n){function i(l){return l instanceof r?l:new r(function(a){a(l)})}return new(r||(r=Promise))(function(l,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?l(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const bf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ps(async()=>{const{default:n}=await Promise.resolve().then(()=>un);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yx=()=>xx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ps(()=>Promise.resolve().then(()=>un),void 0)).Response:Response}),Ma=e=>{if(Array.isArray(e))return e.map(r=>Ma(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[i]=Ma(n)}),t};var gr=function(e,t,r,n){function i(l){return l instanceof r?l:new r(function(a){a(l)})}return new(r||(r=Promise))(function(l,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?l(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Ol=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vx=(e,t,r)=>gr(void 0,void 0,void 0,function*(){const n=yield yx();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new gx(Ol(i),e.status||500))}).catch(i=>{t(new Aa(Ol(i),i))}):t(new Aa(Ol(e),e))}),wx=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function xs(e,t,r,n,i,l){return gr(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,wx(t,n,i,l)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>vx(c,o,n))})})}function Ei(e,t,r,n){return gr(this,void 0,void 0,function*(){return xs(e,"GET",t,r,n)})}function jt(e,t,r,n,i){return gr(this,void 0,void 0,function*(){return xs(e,"POST",t,n,i,r)})}function jx(e,t,r,n,i){return gr(this,void 0,void 0,function*(){return xs(e,"PUT",t,n,i,r)})}function bx(e,t,r,n){return gr(this,void 0,void 0,function*(){return xs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Nf(e,t,r,n,i){return gr(this,void 0,void 0,function*(){return xs(e,"DELETE",t,n,i,r)})}var Ne=function(e,t,r,n){function i(l){return l instanceof r?l:new r(function(a){a(l)})}return new(r||(r=Promise))(function(l,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?l(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Nx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _x{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=bf(i)}uploadOrUpdate(t,r,n,i){return Ne(this,void 0,void 0,function*(){try{let l;const a=Object.assign(Object.assign({},wu),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",a.cacheControl),c&&l.append("metadata",this.encodeMetadata(c)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",a.cacheControl),c&&l.append("metadata",this.encodeMetadata(c))):(l=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:l,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}upload(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ne(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),a=this._getFinalPath(l),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:wu.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:l,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(ae(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const l=yield jt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+l.url),o=a.searchParams.get("token");if(!o)throw new Vo("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ne(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),l=yield jt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${a}`)},{data:l,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ne(this,void 0,void 0,function*(){try{const i=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${l}`):null})),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}download(t,r){return Ne(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=l?`?${l}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Ei(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ae(o))return{data:null,error:o};throw o}})}info(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ei(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ma(n),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}exists(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield bx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ae(n)&&n instanceof Aa){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ne(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Nx),r),{prefix:t||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const kx="2.7.1",Sx={"X-Client-Info":`storage-js/${kx}`};var Nr=function(e,t,r,n){function i(l){return l instanceof r?l:new r(function(a){a(l)})}return new(r||(r=Promise))(function(l,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?l(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class Cx{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Sx),r),this.fetch=bf(n)}listBuckets(){return Nr(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}})}getBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Nr(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Nr(this,void 0,void 0,function*(){try{return{data:yield jx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}}class Ex extends Cx{constructor(t,r={},n){super(t,r,n)}from(t){return new _x(this.url,this.headers,t,this.fetch)}}const Px="2.50.2";let Sn="";typeof Deno<"u"?Sn="deno":typeof document<"u"?Sn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sn="react-native":Sn="node";const Tx={"X-Client-Info":`supabase-js-${Sn}/${Px}`},Ox={headers:Tx},Ix={schema:"public"},Rx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$x={};var Lx=function(e,t,r,n){function i(l){return l instanceof r?l:new r(function(a){a(l)})}return new(r||(r=Promise))(function(l,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?l(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Ax=e=>{let t;return e?t=e:typeof fetch>"u"?t=af:t=fetch,(...r)=>t(...r)},Mx=()=>typeof Headers>"u"?of:Headers,Dx=(e,t,r)=>{const n=Ax(r),i=Mx();return(l,a)=>Lx(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(l,Object.assign(Object.assign({},a),{headers:u}))})};var Ux=function(e,t,r,n){function i(l){return l instanceof r?l:new r(function(a){a(l)})}return new(r||(r=Promise))(function(l,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?l(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function zx(e){return e.endsWith("/")?e:e+"/"}function Fx(e,t){var r,n;const{db:i,auth:l,realtime:a,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),l),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ux(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const _f="2.70.0",Cr=30*1e3,Da=3,Il=Da*Cr,Bx="http://localhost:9999",qx="supabase.auth.token",Wx={"X-Client-Info":`gotrue-js/${_f}`},Ua="X-Supabase-Api-Version",kf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hx=6e5;class Ho extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Kx extends Ho{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Jx(e){return M(e)&&e.name==="AuthApiError"}class Sf extends Ho{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ht extends Ho{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class yt extends Ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qx(e){return M(e)&&e.name==="AuthSessionMissingError"}class Us extends Ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zs extends Ht{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fs extends Ht{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gx(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}class ju extends Ht{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class za extends Ht{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Rl(e){return M(e)&&e.name==="AuthRetryableFetchError"}class bu extends Ht{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Dn extends Ht{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nu=` 	
\r=`.split(""),Yx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Nu.length;t+=1)e[Nu[t].charCodeAt(0)]=-2;for(let t=0;t<Pi.length;t+=1)e[Pi[t].charCodeAt(0)]=t;return e})();function _u(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pi[n]),t.queuedBits-=6}}function Cf(e,t,r){const n=Yx[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ku(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=a=>{ey(a,n,r)};for(let a=0;a<e.length;a+=1)Cf(e.charCodeAt(a),i,l);return t.join("")}function Xx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Zx(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Xx(n,t)}}function ey(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ty(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Cf(e.charCodeAt(i),r,n);return new Uint8Array(t)}function ry(e){const t=[];return Zx(e,r=>t.push(r)),new Uint8Array(t)}function ny(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>_u(i,r,n)),_u(null,r,n),t.join("")}function sy(e){return Math.round(Date.now()/1e3)+e}function iy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ve=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},Un=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function ly(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{t[l]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Ef=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ps(async()=>{const{default:n}=await Promise.resolve().then(()=>un);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ay=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qs=async(e,t)=>{await e.removeItem(t)};class el{constructor(){this.promise=new el.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}el.promiseConstructor=Promise;function $l(e){const t=e.split(".");if(t.length!==3)throw new Dn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Vx.test(t[n]))throw new Dn("JWT not in base64url format");return{header:JSON.parse(ku(t[0])),payload:JSON.parse(ku(t[1])),signature:ty(t[2]),raw:{header:t[0],payload:t[1]}}}async function oy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cy(e,t){return new Promise((n,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const a=await e(l);if(!t(l,null,a)){n(a);return}}catch(a){if(!t(l,a)){i(a);return}}})()})}function uy(e){return("0"+e.toString(16)).substr(-2)}function dy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,uy).join("")}async function hy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function fy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _r(e,t,r=!1){const n=dy();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Pf(e,`${t}-code-verifier`,i);const l=await fy(n);return[l,n===l?"plain":"s256"]}const my=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function py(e){const t=e.headers.get(Ua);if(!t||!t.match(my))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kr(e){if(!yy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var vy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Zt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wy=[502,503,504];async function Su(e){var t;if(!ay(e))throw new za(Zt(e),0);if(wy.includes(e.status))throw new za(Zt(e),e.status);let r;try{r=await e.json()}catch(l){throw new Sf(Zt(l),l)}let n;const i=py(e);if(i&&i.getTime()>=kf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bu(Zt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new yt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,a)=>l&&typeof a=="string",!0))throw new bu(Zt(r),e.status,r.weak_password.reasons);throw new Kx(Zt(r),e.status||500,n)}const jy=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function D(e,t,r,n){var i;const l=Object.assign({},n==null?void 0:n.headers);l[Ua]||(l[Ua]=kf["2024-01-01"].name),n!=null&&n.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await by(e,t,r+o,{headers:l,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function by(e,t,r,n,i,l){const a=jy(t,n,i,l);let o;try{o=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new za(Zt(c),0)}if(o.ok||await Su(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Su(c)}}function st(e){var t;let r=null;Sy(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=sy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Cu(e){const t=st(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _t(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ny(e){return{data:e,error:null}}function _y(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l}=e,a=vy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function ky(e){return e}function Sy(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ll=["global","local","others"];var Cy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Ey{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ef(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ll[0]){if(Ll.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ll.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_t})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Cy(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_y,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_t})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,l,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:ky});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){kr(t);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_t})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){kr(t);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_t})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){kr(t);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_t})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){kr(t.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(t){kr(t.userId),kr(t.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}const Py={getItem:e=>Un()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Un()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Un()&&globalThis.localStorage.removeItem(e)}};function Eu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ty(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sr={debug:!!(globalThis&&Un()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Oy extends Tf{}async function Iy(e,t,r){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Oy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ty();const Ry={url:Bx,storageKey:qx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pu(e,t,r){return await r()}class is{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=is.nextInstanceID,is.nextInstanceID+=1,this.instanceID>0&&Ve()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ry),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ey({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ef(i.fetch),this.lock=i.lock||Pu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ve()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Iy:this.lock=Pu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Un()?this.storage=Py:(this.memoryStorage={},this.storage=Eu(this.memoryStorage)):(this.memoryStorage={},this.storage=Eu(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_f}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ly(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ve()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Gx(l)){const c=(t=l.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new Sf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const l=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:st}),{data:a,error:o}=l;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(l){if(M(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var r,n,i;try{let l;if("email"in t){const{email:d,password:f,options:h}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await _r(this.storage,this.storageKey)),l=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:w},xform:st})}else if("phone"in t){const{phone:d,password:f,options:h}=t;l=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:st})}else throw new zs("You must provide either an email or phone number and a password");const{data:a,error:o}=l;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(l){if(M(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:a,options:o}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Cu})}else if("phone"in t){const{phone:l,password:a,options:o}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Cu})}else throw new zs("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Us}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,l,a,o,c,u,d,f,h,y;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:j,wallet:p,statement:m,options:x}=t;let _;if(Ve())if(typeof p=="object")_=p;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const E=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),m?{statement:m}:null));let g;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")g=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)g=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in g&&"signature"in g&&(typeof g.signedMessage=="string"||g.signedMessage instanceof Uint8Array)&&g.signature instanceof Uint8Array)w=typeof g.signedMessage=="string"?g.signedMessage:new TextDecoder().decode(g.signedMessage),v=g.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(g=>`- ${g}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=C}}try{const{data:j,error:p}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ny(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:st});if(p)throw p;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Us}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:p})}catch(j){if(M(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await Bs(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:l,error:a}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:st});if(await qs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Us}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:a})}catch(l){if(M(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:l,nonce:a}=t,o=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:l,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:st}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Us}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,l,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _r(this.storage,this.storageKey));const{error:f}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(l=c==null?void 0:c.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new zs("You must provide either an email or phone number.")}catch(o){if(M(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,l;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:st});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let l=null,a=null;return this.flowType==="pkce"&&([l,a]=await _r(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:a}),headers:this.headers,xform:Ny})}catch(l){if(M(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new yt;const{error:i}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:l}=t,{error:a}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:l}=t,{data:a,error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new zs("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Il:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_t}):await this._useSession(async r=>{var n,i,l;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:_t})})}catch(r){if(M(r))return Qx(r)&&(await this._removeSession(),await qs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:l}=n;if(l)throw l;if(!i.session)throw new yt;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await _r(this.storage,this.storageKey));const{data:u,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:_t});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yt;const r=Date.now()/1e3;let n=r,i=!0,l=null;const{payload:a}=$l(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};l=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;l={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new yt;const{session:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ve())throw new Fs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ju("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ju("No code detected.");const{data:m,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:l,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!l||!o||!a||!u)throw new Fs("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const y=h-d;y*1e3<=Cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:v,error:j}=await this._getUser(l);if(j)throw j;const p={provider_token:n,provider_refresh_token:i,access_token:l,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(M(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Bs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return{error:l};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Jx(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await qs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=iy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:l},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await _r(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(M(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async l=>{var a,o,c,u,d;const{data:f,error:h}=l;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ve()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(M(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:l,error:a}=r;if(a)throw a;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cy(async i=>(i>0&&await oy(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:st})),(i,l)=>{const a=200*Math.pow(2,i);return l&&Rl(l)&&Date.now()+a-n<Cr})}catch(n){if(this._debug(r,"error",n),M(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ve()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Bs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Il;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Il}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:l}=await this._callRefreshToken(n.refresh_token);l&&(console.error(l),Rl(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new el;const{data:l,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!l.session)throw new yt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const o={session:l.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(l){if(this._debug(i,"error",l),M(l)){const a={session:null,error:l};return Rl(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){l.push(c)}});if(await Promise.all(a),l.length>0){for(let o=0;o<l.length;o+=1)console.error(l[o]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Pf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await qs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cr}ms, refresh threshold is ${Da} ticks`),i<=Da&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Tf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,a]=await _r(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const l=new URLSearchParams(n.queryParams);i.push(l.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;return l?{data:null,error:l}:await D(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:l,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return{data:null,error:l};const{data:a,error:o}=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;return l?{data:null,error:l}:await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),l=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:l}=t;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=$l(i.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Hx>Date.now()))return n;const{data:i,error:l}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!i.keys||i.keys.length===0)throw new Dn("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(a=>a.kid===t),!n)throw new Dn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};n=y.session.access_token}const{header:i,payload:l,signature:a,raw:{header:o,payload:c}}=$l(n);if(gy(l.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:l,header:i,signature:a},error:null}}const u=xy(i.alg),d=await this.fetchJwk(i.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,ry(`${o}.${c}`)))throw new Dn("Invalid JWT signature");return{data:{claims:l,header:i,signature:a},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}is.nextInstanceID=0;const $y=is;class Ly extends $y{constructor(t){super(t)}}var Ay=function(e,t,r,n){function i(l){return l instanceof r?l:new r(function(a){a(l)})}return new(r||(r=Promise))(function(l,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?l(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class My{constructor(t,r,n){var i,l,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=zx(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Ix,realtime:$x,auth:Object.assign(Object.assign({},Rx),{storageKey:u}),global:Ox},f=Fx(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=f.global.headers)!==null&&l!==void 0?l:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=Dx(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new ex(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Tg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ex(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Ay(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:l,flowType:a,lock:o,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ly({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new px(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dy=(e,t,r)=>new My(e,t,r),Uy="https://hcvnesbtgdgjrhogquja.supabase.co",zy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhjdm5lc2J0Z2RnanJob2dxdWphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExNzU2NDEsImV4cCI6MjA2Njc1MTY0MX0.o9MgbbjE2aa2D781080g0l6jO2Cu-sNDNEf77oavpgI",B=Dy(Uy,zy),Of=b.createContext(void 0),Fy=({children:e})=>{const[t,r]=b.useState(null),[n,i]=b.useState(null),[l,a]=b.useState(!0),[o,c]=b.useState(!1);b.useEffect(()=>{B.auth.getSession().then(({data:{session:w}})=>{i(w),r((w==null?void 0:w.user)??null),u(w==null?void 0:w.user),a(!1)});const{data:{subscription:y}}=B.auth.onAuthStateChange(async(w,v)=>{i(v),r((v==null?void 0:v.user)??null),u(v==null?void 0:v.user),a(!1)});return()=>y.unsubscribe()},[]);const u=async y=>{if(!y){c(!1);return}try{const{data:w,error:v}=await B.from("admin_users").select("id").eq("user_id",y.id).maybeSingle();c(!v&&!!w)}catch{c(!1)}},d=async(y,w)=>{const{error:v}=await B.auth.signInWithPassword({email:y,password:w});return{error:v}},f=async(y,w,v)=>{try{const{data:j,error:p}=await B.auth.signUp({email:y,password:w});if(p)return{error:p};if(j.user&&v)try{await new Promise(x=>setTimeout(x,1e3));const{error:m}=await B.from("user_profiles").update({first_name:v.first_name||"",last_name:v.last_name||"",phone:v.phone||"",address:v.address||"",city:v.city||"",postal_code:v.postal_code||"",newsletter_subscribed:!1}).eq("id",j.user.id);m&&console.error("Error updating user profile:",m);try{(await fetch("https://hcvnesbtgdgjrhogquja.supabase.co/functions/v1/send-welcome-email",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhjdm5lc2J0Z2RnanJob2dxdWphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExNzU2NDEsImV4cCI6MjA2Njc1MTY0MX0.o9MgbbjE2aa2D781080g0l6jO2Cu-sNDNEf77oavpgI","Content-Type":"application/json"},body:JSON.stringify({email:y,firstName:v.first_name||"Потребител"})})).ok||console.error("Failed to send welcome email")}catch(x){console.error("Error sending welcome email:",x)}}catch(m){console.error("Error in post-signup process:",m)}return{error:null}}catch(j){return{error:j}}},h=async()=>{await B.auth.signOut()};return s.jsx(Of.Provider,{value:{user:t,session:n,loading:l,signIn:d,signUp:f,signOut:h,isAdmin:o},children:e})},xr=()=>{const e=b.useContext(Of);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},If=b.createContext(void 0),By=({children:e})=>{const[t,r]=b.useState("лв");b.useEffect(()=>{const i=localStorage.getItem("currencySymbol");i&&r(i)},[]);const n=i=>{r(i),localStorage.setItem("currencySymbol",i)};return s.jsx(If.Provider,{value:{currencySymbol:t,setCurrencySymbol:n},children:e})},qe=()=>{const e=b.useContext(If);if(e===void 0)throw new Error("useCurrency must be used within a CurrencyProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),L=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:o="",children:c,...u},d)=>b.createElement("svg",{ref:d,...qy,width:i,height:i,stroke:n,strokeWidth:a?Number(l)*24/Number(i):l,className:["lucide",`lucide-${Wy(e)}`,o].join(" "),...u},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=L("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=L("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=L("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=L("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=L("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=L("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=L("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=L("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=L("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=L("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=L("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=L("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=L("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=L("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=L("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=L("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=L("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=L("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=L("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=L("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=L("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=L("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=L("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=L("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=L("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=L("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=L("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=L("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=L("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=L("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=L("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=L("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=L("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=L("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=L("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=L("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=L("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=L("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=L("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=L("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=L("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=L("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=L("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=L("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=L("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=L("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=L("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=L("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=L("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=L("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Kt=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[i,l]=b.useState(null),a=async()=>{try{n(!0);const{data:o,error:c}=await B.from("products").select("*").order("created_at",{ascending:!1});if(c)throw c;t(o||[])}catch(o){l(o instanceof Error?o.message:"Unknown error")}finally{n(!1)}};return b.useEffect(()=>{a()},[]),{products:e,loading:r,error:i,refetch:a}},vr=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[i,l]=b.useState(null),a=async()=>{try{n(!0);const{data:o,error:c}=await B.from("categories").select("*").order("sort_order",{ascending:!0});if(c)throw c;t(o||[])}catch(o){l(o instanceof Error?o.message:"Unknown error")}finally{n(!1)}};return b.useEffect(()=>{a()},[]),{categories:e,loading:r,error:i,refetch:a}},Ff=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[i,l]=b.useState(null),a=async()=>{try{n(!0);const{data:o,error:c}=await B.from("orders").select("*").order("created_at",{ascending:!1});if(c)throw c;t(o||[])}catch(o){l(o instanceof Error?o.message:"Unknown error")}finally{n(!1)}};return b.useEffect(()=>{a()},[]),{orders:e,loading:r,error:i,refetch:a}},Iu=({className:e="",placeholder:t="Търсете продукти..."})=>{const[r,n]=b.useState(""),[i,l]=b.useState(!1),[a,o]=b.useState([]),{products:c}=Kt(),u=b.useRef(null),d=b.useRef(null),f=pr();b.useEffect(()=>{if(r.trim().length>=2){const p=c.filter(m=>m.name.toLowerCase().includes(r.toLowerCase())||m.brand.toLowerCase().includes(r.toLowerCase())||m.description.toLowerCase().includes(r.toLowerCase())).slice(0,6);o(p),l(!0)}else o([]),l(!1)},[r,c]),b.useEffect(()=>{const p=m=>{u.current&&!u.current.contains(m.target)&&l(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const h=()=>{var p;n(""),l(!1),(p=d.current)==null||p.focus()},y=()=>{n(""),l(!1)},w=p=>{var m;p.key==="Escape"?(n(""),l(!1),(m=d.current)==null||m.blur()):p.key==="Enter"&&(p.preventDefault(),r.trim()&&v())},v=()=>{r.trim()&&(l(!1),f(`/products?search=${encodeURIComponent(r.trim())}`))},j=p=>{p.preventDefault(),v()};return s.jsxs("div",{ref:u,className:`relative ${e}`,children:[s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:d,type:"text",value:r,onChange:p=>n(p.target.value),onKeyDown:w,placeholder:t,className:"flex-1 px-4 py-2 pr-24 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),r&&s.jsx("button",{onClick:h,className:"absolute right-20 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 p-1 z-10",type:"button",children:s.jsx(pt,{className:"w-4 h-4"})}),s.jsx("button",{onClick:j,type:"button",className:"px-6 py-2 bg-blue-500 text-white rounded-r-lg hover:bg-blue-600 transition-colors flex items-center justify-center",children:s.jsx(as,{className:"w-5 h-5"})})]}),i&&a.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"text-xs text-gray-500 mb-2 px-2",children:["Намерени ",a.length," резултата"]}),a.map(p=>s.jsxs(A,{to:`/product/${p.id}`,onClick:y,className:"flex items-center p-3 hover:bg-gray-50 rounded-lg transition-colors group",children:[s.jsx("img",{src:p.image,alt:p.name,className:"w-12 h-12 object-cover rounded-lg mr-3 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:p.name}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:p.brand}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[p.price.toFixed(2)," лв"]}),p.original_price&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[p.original_price.toFixed(2)," лв"]})]})]}),s.jsx("div",{className:"flex-shrink-0 ml-2",children:p.stock_quantity>0?s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"В наличност"}):s.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Изчерпан"})})]},p.id)),s.jsx("div",{className:"border-t mt-2 pt-2",children:s.jsxs(A,{to:`/products?search=${encodeURIComponent(r)}`,onClick:y,className:"block w-full text-center py-2 text-blue-600 hover:text-blue-800 font-medium text-sm",children:['Виж всички резултати за "',r,'"']})})]})}),i&&r.length>=2&&a.length===0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(as,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),s.jsxs("p",{children:['Няма намерени продукти за "',r,'"']}),s.jsx("p",{className:"text-sm mt-1",children:"Опитайте с други ключови думи"})]})})]})},gv=()=>{var P;const[e,t]=b.useState(!1),[r,n]=b.useState(null),[i,l]=b.useState(null),[a,o]=b.useState(!1),[c,u]=b.useState("login"),{state:d}=Vt(),{state:f}=cn(),{user:h,signOut:y,signIn:w,signUp:v}=xr(),j=on(),{categories:p}=vr(),m=$=>j.pathname===$,_=p.filter(z=>!z.parent_id&&z.is_visible).sort((z,be)=>(z.sort_order||0)-(be.sort_order||0)).map(z=>({...z,children:p.filter(be=>be.parent_id===z.id&&be.is_visible).sort((be,wr)=>(be.sort_order||0)-(wr.sort_order||0))})),E=$=>{i&&(clearTimeout(i),l(null)),n($)},C=()=>{const $=setTimeout(()=>{n(null)},150);l($)},g=()=>{i&&(clearTimeout(i),l(null))},k=()=>{n(null)},S=async()=>{await y(),o(!1)};return b.useEffect(()=>()=>{i&&clearTimeout(i)},[i]),b.useEffect(()=>{const $=()=>n(null);return document.addEventListener("click",$),()=>document.removeEventListener("click",$)},[]),s.jsxs("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:[s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between py-2 text-sm text-gray-600 border-b",children:[s.jsx("div",{className:"hidden md:block",children:"Безплатна доставка при поръчки над 50 лв/€"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{children:"📞 0888 123 456"}),s.jsx("span",{children:"✉️ info@zoobutik-iv.bg"})]})]}),s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs(A,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"🐾"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"ЗООБУТИК ИВ"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Всичко за вашия любимец"})]})]}),s.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:s.jsx(Iu,{className:"w-full"})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[h?s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{className:"hidden md:flex items-center space-x-1 text-gray-600 hover:text-blue-500 transition-colors",children:[s.jsx(os,{className:"w-5 h-5"}),s.jsx("span",{children:(P=h.email)==null?void 0:P.split("@")[0]}),s.jsx(Fa,{className:"w-4 h-4"})]}),s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[s.jsx(A,{to:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50",children:"Моят профил"}),s.jsx(A,{to:"/orders",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50",children:"Моите поръчки"}),s.jsx("button",{onClick:S,className:"block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50",children:"Изход"})]})]}):s.jsxs("button",{onClick:()=>o(!0),className:"hidden md:flex items-center space-x-1 text-gray-600 hover:text-blue-500 transition-colors",children:[s.jsx(os,{className:"w-5 h-5"}),s.jsx("span",{children:"Вход"})]}),s.jsxs(A,{to:"/wishlist",className:"relative text-gray-600 hover:text-red-500 transition-colors",children:[s.jsx(yr,{className:"w-6 h-6"}),f.itemCount>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:f.itemCount})]}),s.jsxs(A,{to:"/cart",className:"relative text-gray-600 hover:text-blue-500 transition-colors",children:[s.jsx(zt,{className:"w-6 h-6"}),d.itemCount>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:d.itemCount})]}),s.jsx("button",{className:"md:hidden",onClick:()=>t(!e),children:e?s.jsx(pt,{className:"w-6 h-6"}):s.jsx(lv,{className:"w-6 h-6"})})]})]}),s.jsx("div",{className:"md:hidden pb-4",children:s.jsx(Iu,{className:"w-full"})}),s.jsx("nav",{className:`${e?"block":"hidden"} md:block pb-4`,children:s.jsx("ul",{className:"flex flex-col md:flex-row md:space-x-2 space-y-2 md:space-y-0",children:_.map($=>s.jsx("li",{className:"relative",children:$.children.length>0?s.jsxs("div",{className:"relative",onMouseEnter:()=>E($.id),onMouseLeave:C,children:[s.jsxs(A,{to:`/category/${$.slug}`,className:`flex items-center py-2 px-3 font-medium transition-colors rounded-lg ${m(`/category/${$.slug}`)?"text-blue-500 bg-blue-50":"text-gray-700 hover:text-blue-500 hover:bg-gray-50"}`,children:[$.icon&&s.jsx("span",{className:"mr-2",children:$.icon}),$.name,s.jsx(Fa,{className:`w-4 h-4 ml-1 transition-transform ${r===$.id?"rotate-180":""}`})]}),r===$.id&&s.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",onMouseEnter:g,onMouseLeave:k,children:$.children.map(z=>s.jsxs(A,{to:`/category/${z.slug}`,className:"block px-4 py-2 text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors",children:[z.icon&&s.jsx("span",{className:"mr-2",children:z.icon}),z.name]},z.id))})]}):s.jsxs(A,{to:$.external_url||`/category/${$.slug}`,className:`flex items-center py-2 px-3 font-medium transition-colors rounded-lg ${m(`/category/${$.slug}`)?"text-blue-500 bg-blue-50":"text-gray-700 hover:text-blue-500 hover:bg-gray-50"}`,...$.external_url?{target:"_blank",rel:"noopener noreferrer"}:{},children:[$.icon&&s.jsx("span",{className:"mr-2",children:$.icon}),$.name]})},$.id))})})]}),a&&s.jsx(xv,{mode:c,onClose:()=>o(!1),onSwitchMode:$=>u($),signIn:w,signUp:v})]})},xv=({mode:e,onClose:t,onSwitchMode:r,signIn:n,signUp:i})=>{const[l,a]=b.useState(""),[o,c]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(""),[y,w]=b.useState(""),[v,j]=b.useState(""),[p,m]=b.useState(""),[x,_]=b.useState(""),[E,C]=b.useState(!1),[g,k]=b.useState(""),S=async P=>{P.preventDefault(),C(!0),k("");try{if(e==="login"){const{error:$}=await n(l,o);$?k("Невалиден имейл или парола"):t()}else{const $={first_name:u,last_name:f,phone:y,address:v,city:p,postal_code:x},{error:z}=await i(l,o,$);z?k("Грешка при регистрацията"):t()}}catch{k("Възникна грешка")}finally{C(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:e==="login"?"Вход в профила":"Създаване на профил"}),s.jsx("p",{className:"text-gray-600",children:e==="login"?"Влезте в профила си за по-бързо пазаруване":"Създайте профил за персонализирано изживяване"})]}),g&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:g}),s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e==="register"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Име *"}),s.jsx("input",{type:"text",value:u,onChange:P=>d(P.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Фамилия *"}),s.jsx("input",{type:"text",value:f,onChange:P=>h(P.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Телефон"}),s.jsx("input",{type:"tel",value:y,onChange:P=>w(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Град"}),s.jsx("input",{type:"text",value:p,onChange:P=>m(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Адрес"}),s.jsx("input",{type:"text",value:v,onChange:P=>j(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Пощенски код"}),s.jsx("input",{type:"text",value:x,onChange:P=>_(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Имейл адрес *"}),s.jsx("input",{type:"email",value:l,onChange:P=>a(P.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Парола *"}),s.jsx("input",{type:"password",value:o,onChange:P=>c(P.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsx("button",{type:"submit",disabled:E,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50",children:E?"Моля изчакайте...":e==="login"?"Влез":"Регистрирай се"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{onClick:()=>r(e==="login"?"register":"login"),className:"text-blue-500 hover:text-blue-600",children:e==="login"?"Нямате профил? Регистрирайте се":"Имате профил? Влезте"})}),s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:s.jsx(pt,{className:"w-6 h-6"})})]})})},yv=()=>s.jsx("footer",{className:"bg-gray-900 text-white",children:s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"🐾"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold",children:"ЗООБУТИК ИВ"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Всичко за вашия любимец"})]})]}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Ние сме водещият зоомагазин в България. Предлагаме качествени продукти и професионални съвети за грижа за животните."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors",children:s.jsx(ev,{className:"w-5 h-5"})}),s.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-pink-600 transition-colors",children:s.jsx(iv,{className:"w-5 h-5"})}),s.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-blue-400 transition-colors",children:s.jsx(fv,{className:"w-5 h-5"})}),s.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:s.jsx(pv,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-6",children:"Бързи връзки"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"За нас"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Продукти"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Промоции"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Блог"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Контакти"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Кариери"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-6",children:"Категории"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Храна за кучета"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Храна за котки"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Играчки"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Аксесоари"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Грижа и хигиена"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Легла и къщички"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-6",children:"Контакти"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ls,{className:"w-5 h-5 text-blue-400 mt-1 flex-shrink-0"}),s.jsx("div",{children:s.jsxs("p",{className:"text-gray-300",children:['ул. "Иван Вазов" 15',s.jsx("br",{}),"Пловдив, България"]})})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(tl,{className:"w-5 h-5 text-blue-400 flex-shrink-0"}),s.jsx("p",{className:"text-gray-300",children:"0888 123 456"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ut,{className:"w-5 h-5 text-blue-400 flex-shrink-0"}),s.jsx("p",{className:"text-gray-300",children:"info@zoobutik-iv.bg"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h5",{className:"font-semibold mb-2",children:"Работно време:"}),s.jsxs("p",{className:"text-gray-300 text-sm",children:["Понеделник - Петък: 9:00 - 18:00",s.jsx("br",{}),"Събота: 10:00 - 16:00",s.jsx("br",{}),"Неделя: Почивен ден"]})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"© 2024 ЗООБУТИК ИВ. Всички права запазени."}),s.jsxs("div",{className:"flex space-x-6 text-sm",children:[s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Условия за ползване"}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Политика за поверителност"}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Cookies"})]})]})})]})}),vv=()=>s.jsx("section",{className:"relative bg-gradient-to-r from-blue-50 to-purple-50 py-20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-800 leading-tight",children:["Всичко за вашия",s.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-600",children:[" ","любимец"]})]}),s.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"Открийте най-качествените продукти за домашни любимци. От храна до играчки - всичко на едно място с бърза доставка."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(A,{to:"/products",children:s.jsxs("button",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-4 rounded-lg font-semibold hover:shadow-lg         transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center space-x-2",children:[s.jsx("span",{children:"Разгледай продуктите"}),s.jsx(Hy,{className:"w-5 h-5"})]})}),s.jsx(A,{to:"/contact",children:s.jsx("button",{className:"border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-lg font-semibold hover:border-blue-500 hover:text-blue-500 transition-colors",children:"Свържи се с нас"})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"relative z-10",children:s.jsx("img",{src:"https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg?auto=compress&cs=tinysrgb&w=600",alt:"Щастливо куче с играчка",className:"rounded-2xl shadow-2xl w-full h-96 object-cover"})}),s.jsx("div",{className:"absolute -bottom-4 -right-4 w-full h-full bg-gradient-to-r from-blue-200 to-purple-200 rounded-2xl -z-10"})]})]})})}),wv=()=>{const{dispatch:e}=Vt(),{state:t,dispatch:r}=cn(),{currencySymbol:n}=qe(),{products:i,loading:l}=Kt(),o=(()=>{try{const h=localStorage.getItem("featuredProducts");return h?JSON.parse(h):[]}catch{return[]}})(),c=i.filter(h=>o.includes(h.id)).slice(0,4),u=h=>{e({type:"ADD_ITEM",payload:{id:h.id,name:h.name,brand:h.brand,price:h.price,originalPrice:h.original_price,rating:h.rating,reviews:h.reviews,image:h.image,images:h.images,badge:h.badge,badgeColor:h.badge_color,category:h.category_id.toString(),description:h.description,features:h.features,inStock:h.in_stock,stockQuantity:h.stock_quantity}})},d=h=>{if(t.items.some(w=>w.id===h.id))r({type:"REMOVE_ITEM",payload:h.id});else{const w={id:h.id,name:h.name,brand:h.brand,price:h.price,originalPrice:h.original_price,rating:h.rating,reviews:h.reviews,image:h.image,images:h.images,badge:h.badge,badgeColor:h.badge_color,category:h.category_id.toString(),description:h.description,features:h.features,inStock:h.in_stock,stockQuantity:h.stock_quantity};r({type:"ADD_ITEM",payload:w})}},f=h=>h===0?{text:"Изчерпан",color:"text-red-600"}:h<=5?{text:"Ограничена наличност",color:"text-orange-600"}:{text:"В наличност",color:"text-green-600"};return l?s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Препоръчани продукти"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Най-качествените и популярни продукти, избрани специално за вас"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[...Array(4)].map((h,y)=>s.jsx("div",{className:"bg-gray-200 rounded-2xl h-96 animate-pulse"},y))})]})}):c.length===0?null:s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Препоръчани продукти"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Най-качествените и популярни продукти, избрани специално за вас"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:c.map(h=>{const y=f(h.stock_quantity||0),w=t.items.some(v=>v.id===h.id);return s.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx(A,{to:`/product/${h.id}`,children:s.jsx("img",{src:h.image,alt:h.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"})}),h.badge&&s.jsx("div",{className:`absolute top-3 left-3 ${h.badge_color} text-white px-2 py-1 rounded-full text-xs font-medium`,children:h.badge}),s.jsx("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),d(h)},className:`absolute top-3 right-3 w-8 h-8 rounded-full flex items-center justify-center shadow-md transition-all duration-300 ${w?"bg-red-500 text-white opacity-100":"bg-white text-gray-600 opacity-0 group-hover:opacity-100 hover:bg-red-50 hover:text-red-500"}`,children:s.jsx(yr,{className:`w-4 h-4 ${w?"fill-current":""}`})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:h.brand}),s.jsx(A,{to:`/product/${h.id}`,children:s.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:h.name})}),s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:`text-sm font-medium ${y.color}`,children:y.text})}),h.price.toFixed(2)," ",n,s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[h.price.toFixed(2)," ",n]}),h.original_price&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[h.original_price.toFixed(2)," ",n]})]})}),s.jsxs("button",{onClick:()=>u(h),disabled:h.stock_quantity===0,className:`w-full py-3 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 ${h.stock_quantity===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:[s.jsx(zt,{className:"w-4 h-4"}),s.jsx("span",{children:h.stock_quantity===0?"Изчерпан":"Добави в количката"})]})]})]},h.id)})}),s.jsx("div",{className:"text-center mt-12",children:s.jsx(A,{to:"/products",className:"bg-gray-100 text-gray-800 px-8 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Виж всички продукти"})})]})})},jv=()=>{const e=[{icon:rn,title:"Безплатна доставка",description:"При поръчки над 50 лв/€ в цялата страна",color:"text-blue-500"},{icon:Uf,title:"Гаранция за качество",description:"100% оригинални продукти от проверени марки",color:"text-green-500"},{icon:nv,title:"24/7 Поддръжка",description:"Винаги сме тук да ви помогнем",color:"text-purple-500"},{icon:Ky,title:"Най-добри цени",description:"Конкурентни цени и редовни промоции",color:"text-orange-500"},{icon:en,title:"Бърза доставка",description:"До 48 часа в София, до 72 часа в страната",color:"text-red-500"},{icon:yr,title:"Грижа за любимците",description:"Експертни съвети за здравето на животните",color:"text-pink-500"}];return s.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Защо да изберете нас?"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Ние се грижим за вашите домашни любимци като за наши собствени"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>s.jsxs("div",{className:"group bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2",children:[s.jsx("div",{className:`w-16 h-16 ${t.color} bg-opacity-10 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:s.jsx(t.icon,{className:`w-8 h-8 ${t.color}`})}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-blue-600 transition-colors",children:t.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"При поръчки над 50 лв/€ в цялата страна"})]},r))})]})})},bv=()=>{const{user:e}=xr(),[t,r]=b.useState(""),[n,i]=b.useState(!1),[l,a]=b.useState(!1),[o,c]=b.useState(""),[u,d]=b.useState(""),f=async h=>{if(h.preventDefault(),!e){d("Моля, влезте в профила си, за да се абонирате за бюлетина.");return}i(!0),d("");try{const{data:y}=await B.from("newsletter_subscribers").select("id, discount_code").eq("email",e.email).maybeSingle();if(y){d("Този имейл вече е абониран за нашия бюлетин.");return}const{data:w,error:v}=await B.from("newsletter_subscribers").insert([{email:e.email}]).select("discount_code").single();if(v)throw console.error("Newsletter subscription error:",v),new Error("Грешка при абонирането за бюлетин");const{error:j}=await B.from("user_profiles").update({newsletter_subscribed:!0,discount_code:w.discount_code}).eq("id",e.id);j&&console.error("Profile update error:",j);try{(await fetch("https://hcvnesbtgdgjrhogquja.supabase.co/functions/v1/send-newsletter-email",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhjdm5lc2J0Z2RnanJob2dxdWphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExNzU2NDEsImV4cCI6MjA2Njc1MTY0MX0.o9MgbbjE2aa2D781080g0l6jO2Cu-sNDNEf77oavpgI","Content-Type":"application/json"},body:JSON.stringify({email:e.email,discountCode:w.discount_code})})).ok||console.error("Failed to send newsletter email")}catch(p){console.error("Error sending newsletter email:",p)}a(!0),c(w.discount_code||"NEWSLETTER10"),r("")}catch(y){console.error("Newsletter subscription error:",y),d("Възникна грешка при абонирането. Моля, опитайте отново.")}finally{i(!1)}};return l?s.jsx("section",{className:"py-20 bg-gradient-to-r from-green-600 to-emerald-700",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(Gy,{className:"w-10 h-10 text-white"})})}),s.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Благодарим ви за абонирането!"}),s.jsx("p",{className:"text-xl text-green-100 mb-8 max-w-2xl mx-auto",children:"Вашият код за 10% отстъпка е готов! Използвайте го при следващата си поръчка."}),s.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-6 max-w-md mx-auto mb-8",children:[s.jsx("p",{className:"text-green-100 mb-2",children:"Вашият код за отстъпка:"}),s.jsx("div",{className:"bg-white text-green-700 text-2xl font-bold py-3 px-6 rounded-lg",children:o}),s.jsx("p",{className:"text-green-100 text-sm mt-2",children:"Валиден 30 дни от днес"})]}),s.jsx("p",{className:"text-green-100 text-sm mb-6",children:"Изпратихме ви имейл с кода за отстъпка и допълнителна информация."}),s.jsx("button",{onClick:()=>a(!1),className:"bg-white text-green-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Затвори"})]})})}):s.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-700",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(rv,{className:"w-10 h-10 text-white"})})}),s.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Получете 10% отстъпка"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Абонирайте се за нашия бюлетин и получете ексклузивни оферти, съвети за грижа за домашни любимци и първи достъп до нови продукти"}),u&&s.jsx("div",{className:"bg-red-500 bg-opacity-20 border border-red-300 text-white px-4 py-3 rounded-lg mb-6 max-w-md mx-auto",children:u}),e?s.jsxs("form",{onSubmit:f,className:"max-w-md mx-auto",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-blue-100 mb-2",children:["Абониране с имейл: ",e.email]})}),s.jsx("button",{type:"submit",disabled:n,className:"w-full bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-gray-100 transition-colors transform hover:scale-105 duration-300 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Абониране...":"Абонирай се за бюлетина"})]}):s.jsxs("div",{className:"bg-yellow-500 bg-opacity-20 border border-yellow-300 text-white px-4 py-3 rounded-lg mb-6 max-w-md mx-auto",children:[s.jsx("p",{className:"mb-4",children:"Моля, влезте в профила си, за да се абонирате за бюлетина."}),s.jsx("p",{className:"text-sm",children:"Само регистрирани потребители могат да получават кодове за отстъпка."})]}),s.jsx("p",{className:"text-blue-100 text-sm mt-4",children:"* Можете да се отпишете по всяко време. Не споделяме вашите данни."}),s.jsxs("div",{className:"flex justify-center items-center space-x-8 mt-12 text-blue-100",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"15,000+"}),s.jsx("div",{className:"text-sm",children:"Абонати"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"98%"}),s.jsx("div",{className:"text-sm",children:"Доволни клиенти"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"5★"}),s.jsx("div",{className:"text-sm",children:"Средна оценка"})]})]})]})})})},Nv=()=>s.jsxs(s.Fragment,{children:[s.jsx(vv,{}),s.jsx(wv,{}),s.jsx(jv,{}),s.jsx(bv,{})]}),_v=()=>{const{products:e}=Kt(),{categories:t}=vr(),{currencySymbol:r}=qe(),[n]=yg(),i=n.get("search")||"",[l,a]=b.useState("all"),[o,c]=b.useState("all"),[u,d]=b.useState("name"),[f,h]=b.useState([0,200]),[y,w]=b.useState("grid"),{dispatch:v}=Vt(),{state:j,dispatch:p}=cn();b.useEffect(()=>{i&&window.scrollTo({top:0,behavior:"smooth"})},[i]);const m=b.useMemo(()=>[...new Set(e.map(k=>k.brand))].sort(),[e]),x=b.useMemo(()=>{let g=e;if(i.trim()&&(g=g.filter(k=>k.name.toLowerCase().includes(i.toLowerCase())||k.brand.toLowerCase().includes(i.toLowerCase())||k.description.toLowerCase().includes(i.toLowerCase()))),l!=="all"){const k=parseInt(l);g=g.filter(S=>S.category_id===k)}switch(o!=="all"&&(g=g.filter(k=>k.brand===o)),g=g.filter(k=>k.price>=f[0]&&k.price<=f[1]),u){case"price-low":g.sort((k,S)=>k.price-S.price);break;case"price-high":g.sort((k,S)=>S.price-k.price);break;case"name":default:g.sort((k,S)=>k.name.localeCompare(S.name));break}return g},[e,i,l,o,u,f]),_=g=>{v({type:"ADD_ITEM",payload:{id:g.id,name:g.name,brand:g.brand,price:g.price,originalPrice:g.original_price,rating:g.rating,reviews:g.reviews,image:g.image,images:g.images,badge:g.badge,badgeColor:g.badge_color,category:g.category_id.toString(),description:g.description,features:g.features,inStock:g.in_stock,stockQuantity:g.stock_quantity}})},E=g=>{if(j.items.some(S=>S.id===g.id))p({type:"REMOVE_ITEM",payload:g.id});else{const S={id:g.id,name:g.name,brand:g.brand,price:g.price,originalPrice:g.original_price,rating:g.rating,reviews:g.reviews,image:g.image,images:g.images,badge:g.badge,badgeColor:g.badge_color,category:g.category_id.toString(),description:g.description,features:g.features,inStock:g.in_stock,stockQuantity:g.stock_quantity};p({type:"ADD_ITEM",payload:S})}},C=g=>g===0?{text:"Изчерпан",color:"text-red-600"}:g<=5?{text:"Ограничена наличност",color:"text-orange-600"}:{text:"В наличност",color:"text-green-600"};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:i?`Резултати за "${i}"`:"Всички продукти"}),s.jsx("p",{className:"text-gray-600",children:i?`Намерени ${x.length} продукта за "${i}"`:"Открийте най-качествените продукти за вашия домашен любимец"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("div",{className:"lg:w-1/4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Rf,{className:"w-5 h-5 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Филтри"})]}),i&&s.jsxs("div",{className:"mb-6 p-3 bg-blue-50 rounded-lg",children:[s.jsxs("p",{className:"text-sm text-blue-800",children:["Търсене за: ",s.jsxs("strong",{children:['"',i,'"']})]}),s.jsx(A,{to:"/products",className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Изчисти търсенето"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Категория"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"category",value:"all",checked:l==="all",onChange:g=>a(g.target.value),className:"mr-2"}),"Всички"]}),t.map(g=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"category",value:g.id.toString(),checked:l===g.id.toString(),onChange:k=>a(k.target.value),className:"mr-2"}),g.name]},g.id))]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Марка"}),s.jsxs("select",{value:o,onChange:g=>c(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Всички марки"}),m.map(g=>s.jsx("option",{value:g,children:g},g))]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Ценови диапазон"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"range",min:"0",max:"200",value:f[1],onChange:g=>h([f[0],parseInt(g.target.value)]),className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsxs("span",{children:[f[0]," лв"]}),s.jsxs("span",{children:[f[1]," лв"]})]})]})]})]})}),s.jsxs("div",{className:"lg:w-3/4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("span",{className:"text-gray-600",children:["Показани ",x.length," продукта"]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:u,onChange:g=>d(g.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"name",children:"Сортирай по име"}),s.jsx("option",{value:"price-low",children:"Цена: ниска към висока"}),s.jsx("option",{value:"price-high",children:"Цена: висока към ниска"})]}),s.jsxs("div",{className:"flex border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>w("grid"),className:`p-2 ${y==="grid"?"bg-blue-500 text-white":"text-gray-600"}`,children:s.jsx($f,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>w("list"),className:`p-2 ${y==="list"?"bg-blue-500 text-white":"text-gray-600"}`,children:s.jsx(Lf,{className:"w-4 h-4"})})]})]})]})}),s.jsx("div",{className:y==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:x.map(g=>{const k=C(g.stock_quantity||0),S=j.items.some(P=>P.id===g.id);return s.jsxs("div",{className:`group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100 ${y==="list"?"flex":""}`,children:[s.jsxs("div",{className:`relative overflow-hidden ${y==="list"?"w-48 flex-shrink-0":""}`,children:[s.jsx(A,{to:`/product/${g.id}`,children:s.jsx("img",{src:g.image,alt:g.name,className:`object-cover group-hover:scale-105 transition-transform duration-300 ${y==="list"?"w-full h-full":"w-full h-48"}`})}),g.badge&&s.jsx("div",{className:`absolute top-3 left-3 ${g.badge_color} text-white px-2 py-1 rounded-full text-xs font-medium`,children:g.badge}),s.jsx("button",{onClick:P=>{P.preventDefault(),P.stopPropagation(),E(g)},className:`absolute top-3 right-3 w-8 h-8 rounded-full flex items-center justify-center shadow-md transition-all duration-300 ${S?"bg-red-500 text-white opacity-100":"bg-white text-gray-600 opacity-0 group-hover:opacity-100 hover:bg-red-50 hover:text-red-500"}`,children:s.jsx(yr,{className:`w-4 h-4 ${S?"fill-current":""}`})})]}),s.jsxs("div",{className:"p-6 flex-1",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:g.brand}),s.jsx(A,{to:`/product/${g.id}`,children:s.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:g.name})}),s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:`text-sm font-medium ${k.color}`,children:k.text})}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[g.price.toFixed(2)," ",r]}),g.original_price&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[g.original_price.toFixed(2)," ",r]})]})}),s.jsxs("button",{onClick:()=>_(g),disabled:g.stock_quantity===0,className:`w-full py-3 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 ${g.stock_quantity===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:[s.jsx(zt,{className:"w-4 h-4"}),s.jsx("span",{children:g.stock_quantity===0?"Изчерпан":"Добави в количката"})]})]})]},g.id)})}),x.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-500 text-lg",children:i?`Няма намерени продукти за "${i}".`:"Няма намерени продукти с тези филтри."}),i&&s.jsx(A,{to:"/products",className:"text-blue-500 hover:text-blue-600 underline mt-2 inline-block",children:"Виж всички продукти"})]})]})]})]})})},kv=()=>{const{id:e}=Fo(),{products:t}=Kt(),{categories:r}=vr(),{currencySymbol:n}=qe(),i=t.find(S=>S.id===parseInt(e||"0")),[l,a]=b.useState(0),[o,c]=b.useState(1),[u,d]=b.useState(!1),{dispatch:f}=Vt(),{state:h,dispatch:y}=cn();if(b.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e]),b.useEffect(()=>{const S=P=>{if(!i)return;const $=[i.image,...i.images||[]].filter(Boolean);P.key==="ArrowLeft"?(P.preventDefault(),a(z=>(z-1+$.length)%$.length)):P.key==="ArrowRight"?(P.preventDefault(),a(z=>(z+1)%$.length)):P.key==="Escape"&&(P.preventDefault(),u&&d(!1))};return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[i,u]),!i)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Продуктът не е намерен"}),s.jsx(A,{to:"/products",className:"text-blue-500 hover:underline",children:"Върни се към продуктите"})]})});const w=()=>{const S={id:i.id,name:i.name,brand:i.brand,price:i.price,originalPrice:i.original_price,rating:i.rating,reviews:i.reviews,image:i.image,images:i.images,badge:i.badge,badgeColor:i.badge_color,category:i.category_id.toString(),description:i.description,features:i.features,inStock:i.in_stock,stockQuantity:i.stock_quantity};for(let P=0;P<o;P++)f({type:"ADD_ITEM",payload:S})},v=()=>{if(h.items.some(P=>P.id===i.id))y({type:"REMOVE_ITEM",payload:i.id});else{const P={id:i.id,name:i.name,brand:i.brand,price:i.price,originalPrice:i.original_price,rating:i.rating,reviews:i.reviews,image:i.image,images:i.images,badge:i.badge,badgeColor:i.badge_color,category:i.category_id.toString(),description:i.description,features:i.features,inStock:i.in_stock,stockQuantity:i.stock_quantity};y({type:"ADD_ITEM",payload:P})}},j=h.items.some(S=>S.id===i.id),m=(S=>S===0?{text:"Изчерпан",color:"text-red-600"}:S<=5?{text:"Ограничена наличност",color:"text-orange-600"}:{text:"В наличност",color:"text-green-600"})(i.stock_quantity||0),x=t.filter(S=>S.category_id===i.category_id&&S.id!==i.id).slice(0,4),_=r.find(S=>S.id===i.category_id),E=[i.image,...i.images||[]].filter(Boolean),C=()=>{a(S=>(S+1)%E.length)},g=()=>{a(S=>(S-1+E.length)%E.length)},k=S=>{a(S),d(!0)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("nav",{className:"mb-8",children:s.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx("li",{children:s.jsx(A,{to:"/",className:"hover:text-blue-500",children:"Начало"})}),s.jsx("li",{children:"/"}),s.jsx("li",{children:s.jsx(A,{to:"/products",className:"hover:text-blue-500",children:"Продукти"})}),_&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"/"}),s.jsx("li",{children:s.jsx(A,{to:`/category/${_.slug}`,className:"hover:text-blue-500",children:_.name})})]}),s.jsx("li",{children:"/"}),s.jsx("li",{className:"text-gray-800",children:i.name})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative aspect-square bg-white rounded-2xl shadow-lg overflow-hidden group",children:[s.jsx("img",{src:E[l],alt:i.name,className:"w-full h-full object-cover cursor-zoom-in",onClick:()=>k(l)}),E.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:g,className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-black bg-opacity-60 hover:bg-opacity-80 text-white rounded-full flex items-center justify-center shadow-xl opacity-0 group-hover:opacity-100 transition-all duration-300 z-10 backdrop-blur-sm border-2 border-white border-opacity-20",title:"Предишна снимка (←)",children:s.jsx(Tu,{className:"w-6 h-6"})}),s.jsx("button",{onClick:C,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-black bg-opacity-60 hover:bg-opacity-80 text-white rounded-full flex items-center justify-center shadow-xl opacity-0 group-hover:opacity-100 transition-all duration-300 z-10 backdrop-blur-sm border-2 border-white border-opacity-20",title:"Следваща снимка (→)",children:s.jsx(Ba,{className:"w-6 h-6"})})]}),E.length>1&&s.jsxs("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm backdrop-blur-sm",children:[l+1," / ",E.length]}),i.badge&&s.jsx("div",{className:`absolute top-4 left-4 ${i.badge_color} text-white px-3 py-1 rounded-full text-sm font-medium`,children:i.badge}),E.length>1&&s.jsx("div",{className:"absolute top-4 right-4 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-300 backdrop-blur-sm",children:"← → ESC"})]}),E.length>1&&s.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:E.map((S,P)=>s.jsx("button",{onClick:()=>a(P),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all duration-200 ${l===P?"border-blue-500 ring-2 ring-blue-200 scale-105":"border-gray-200 hover:border-gray-300 hover:scale-102"}`,children:s.jsx("img",{src:S,alt:`${i.name} ${P+1}`,className:"w-full h-full object-cover"})},P))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-2",children:i.brand}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:i.name}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:`text-lg font-medium ${m.color}`,children:m.text})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-4xl font-bold text-gray-800",children:[i.price.toFixed(2)," ",n]}),i.original_price&&s.jsxs("span",{className:"text-xl text-gray-500 line-through",children:[i.original_price.toFixed(2)," ",n]})]}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Характеристики:"}),s.jsx("ul",{className:"space-y-2",children:i.features.map((S,P)=>s.jsxs("li",{className:"flex items-center text-gray-600",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),S]},P))})]}),s.jsxs("div",{className:"space-y-4",children:[i.stock_quantity>0&&s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"font-medium",children:"Количество:"}),s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>c(Math.max(1,o-1)),className:"p-2 hover:bg-gray-100",children:s.jsx(Af,{className:"w-4 h-4"})}),s.jsx("span",{className:"px-4 py-2 font-medium",children:o}),s.jsx("button",{onClick:()=>c(Math.min(i.stock_quantity||1,o+1)),className:"p-2 hover:bg-gray-100",children:s.jsx(dr,{className:"w-4 h-4"})})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(макс. ",i.stock_quantity,")"]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("button",{onClick:w,disabled:i.stock_quantity===0,className:`flex-1 py-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 ${i.stock_quantity===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:[s.jsx(zt,{className:"w-5 h-5"}),s.jsx("span",{children:i.stock_quantity===0?"Изчерпан":"Добави в количката"})]}),s.jsx("button",{onClick:v,className:`w-12 h-12 border border-gray-300 rounded-lg flex items-center justify-center transition-colors ${j?"bg-red-50 border-red-300 text-red-500":"hover:bg-red-50 hover:border-red-300 hover:text-red-500"}`,children:s.jsx(yr,{className:`w-5 h-5 ${j?"fill-current":""}`})})]})]}),s.jsxs("div",{className:"border-t pt-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(rn,{className:"w-5 h-5 text-blue-500"}),s.jsx("span",{className:"text-gray-600",children:"Безплатна доставка при поръчки над 50 лв"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Uf,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-600",children:"Гаранция за качество"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ov,{className:"w-5 h-5 text-orange-500"}),s.jsx("span",{className:"text-gray-600",children:"14 дни за връщане"})]})]})]})]}),x.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Свързани продукти"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map(S=>s.jsxs(A,{to:`/product/${S.id}`,className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("img",{src:S.image,alt:S.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),S.badge&&s.jsxs("div",{className:`absolute top-3 left-3 ${S.badge_color} text-white px-2 py-1 rounded-full text-xs font-medium`,children:[S.price.toFixed(2)," ",n]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:S.brand}),s.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:S.name}),s.jsxs("div",{className:"text-xl font-bold text-gray-800",children:[S.price.toFixed(2)," ",n]})]})]},S.id))})]})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-50",children:s.jsxs("div",{className:"relative max-w-4xl max-h-full p-4",children:[s.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 w-12 h-12 bg-black bg-opacity-60 hover:bg-opacity-80 rounded-full flex items-center justify-center text-white z-10 backdrop-blur-sm border-2 border-white border-opacity-20",title:"Затвори (ESC)",children:s.jsx(pt,{className:"w-6 h-6"})}),E.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:g,className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-16 h-16 bg-black bg-opacity-60 hover:bg-opacity-80 rounded-full flex items-center justify-center text-white z-10 backdrop-blur-sm border-2 border-white border-opacity-20",title:"Предишна снимка (←)",children:s.jsx(Tu,{className:"w-8 h-8"})}),s.jsx("button",{onClick:C,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-16 h-16 bg-black bg-opacity-60 hover:bg-opacity-80 rounded-full flex items-center justify-center text-white z-10 backdrop-blur-sm border-2 border-white border-opacity-20",title:"Следваща снимка (→)",children:s.jsx(Ba,{className:"w-8 h-8"})})]}),s.jsx("img",{src:E[l],alt:i.name,className:"max-w-full max-h-full object-contain"}),s.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center space-x-4",children:[E.length>1&&s.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-4 py-2 rounded-full backdrop-blur-sm",children:[l+1," / ",E.length]}),s.jsx("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm backdrop-blur-sm",children:"← → ESC"})]})]})})]})},Sv=()=>{const{slug:e}=Fo(),{categories:t}=vr(),{products:r}=Kt(),{currencySymbol:n}=qe(),i=t.find(g=>g.slug===e),[l,a]=b.useState("name"),[o,c]=b.useState("all"),[u,d]=b.useState([0,200]),[f,h]=b.useState("grid"),{dispatch:y}=Vt(),{state:w,dispatch:v}=cn();b.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e]);const j=b.useMemo(()=>{if(!i)return[];let g=[i.id];if(!i.parent_id){const S=t.filter(P=>P.parent_id===i.id);g=[...g,...S.map(P=>P.id)]}let k=r.filter(S=>g.includes(S.category_id));switch(o!=="all"&&(k=k.filter(S=>S.brand===o)),k=k.filter(S=>S.price>=u[0]&&S.price<=u[1]),l){case"price-low":k.sort((S,P)=>S.price-P.price);break;case"price-high":k.sort((S,P)=>P.price-S.price);break;case"name":default:k.sort((S,P)=>S.name.localeCompare(P.name));break}return k},[i,t,r,l,o,u]),p=b.useMemo(()=>{if(!i)return[];let g=[i.id];if(!i.parent_id){const P=t.filter($=>$.parent_id===i.id);g=[...g,...P.map($=>$.id)]}const k=r.filter(P=>g.includes(P.category_id));return[...new Set(k.map(P=>P.brand))].sort()},[i,t,r]),m=g=>{y({type:"ADD_ITEM",payload:{id:g.id,name:g.name,brand:g.brand,price:g.price,originalPrice:g.original_price,rating:g.rating,reviews:g.reviews,image:g.image,images:g.images,badge:g.badge,badgeColor:g.badge_color,category:g.category_id.toString(),description:g.description,features:g.features,inStock:g.in_stock,stockQuantity:g.stock_quantity}})},x=g=>{if(w.items.some(S=>S.id===g.id))v({type:"REMOVE_ITEM",payload:g.id});else{const S={id:g.id,name:g.name,brand:g.brand,price:g.price,originalPrice:g.original_price,rating:g.rating,reviews:g.reviews,image:g.image,images:g.images,badge:g.badge,badgeColor:g.badge_color,category:g.category_id.toString(),description:g.description,features:g.features,inStock:g.in_stock,stockQuantity:g.stock_quantity};v({type:"ADD_ITEM",payload:S})}},_=g=>g===0?{text:"Изчерпан",color:"text-red-600"}:g<=5?{text:"Ограничена наличност",color:"text-orange-600"}:{text:"В наличност",color:"text-green-600"};if(!i)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Категорията не е намерена"}),s.jsx(A,{to:"/products",className:"text-blue-500 hover:underline",children:"Върни се към продуктите"})]})});const E=t.filter(g=>g.parent_id===i.id),C=!i.parent_id;return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"relative mb-12 rounded-2xl overflow-hidden",children:s.jsxs("div",{className:`h-64 bg-gradient-to-r ${i.color} flex items-center justify-center relative`,children:[i.image&&s.jsx("img",{src:i.image,alt:i.name,className:"absolute inset-0 w-full h-full object-cover opacity-30"}),s.jsxs("div",{className:"text-center text-white relative z-10 max-w-4xl mx-auto px-4",children:[s.jsx("h1",{className:"text-5xl font-bold mb-4",children:i.name}),i.description&&s.jsx("p",{className:"text-xl opacity-90 leading-relaxed",children:i.description})]})]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("div",{className:"lg:w-1/4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Rf,{className:"w-5 h-5 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Филтри"})]}),C&&E.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Подкатегории"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(A,{to:`/category/${i.slug}`,className:"block text-blue-600 hover:text-blue-800 font-medium",children:["Всички ",i.name.toLowerCase()]}),E.map(g=>s.jsx(A,{to:`/category/${g.slug}`,className:"block text-gray-600 hover:text-blue-600 transition-colors",children:g.name},g.id))]})]}),p.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Марка"}),s.jsxs("select",{value:o,onChange:g=>c(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Всички марки"}),p.map(g=>s.jsx("option",{value:g,children:g},g))]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Ценови диапазон"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"range",min:"0",max:"200",value:u[1],onChange:g=>d([u[0],parseInt(g.target.value)]),className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsxs("span",{children:[u[0]," лв"]}),s.jsxs("span",{children:[u[1]," лв"]})]})]})]})]})}),s.jsxs("div",{className:"lg:w-3/4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("span",{className:"text-gray-600",children:["Показани ",j.length," продукта"]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:l,onChange:g=>a(g.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"name",children:"Сортирай по име"}),s.jsx("option",{value:"price-low",children:"Цена: ниска към висока"}),s.jsx("option",{value:"price-high",children:"Цена: висока към ниска"})]}),s.jsxs("div",{className:"flex border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>h("grid"),className:`p-2 ${f==="grid"?"bg-blue-500 text-white":"text-gray-600"}`,children:s.jsx($f,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>h("list"),className:`p-2 ${f==="list"?"bg-blue-500 text-white":"text-gray-600"}`,children:s.jsx(Lf,{className:"w-4 h-4"})})]})]})]})}),s.jsx("div",{className:f==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:j.map(g=>{const k=_(g.stock_quantity||0),S=w.items.some(P=>P.id===g.id);return s.jsxs("div",{className:`group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100 ${f==="list"?"flex":""}`,children:[s.jsxs("div",{className:`relative overflow-hidden ${f==="list"?"w-48 flex-shrink-0":""}`,children:[s.jsx(A,{to:`/product/${g.id}`,children:s.jsx("img",{src:g.image,alt:g.name,className:`object-cover group-hover:scale-105 transition-transform duration-300 ${f==="list"?"w-full h-full":"w-full h-48"}`})}),g.badge&&s.jsx("div",{className:`absolute top-3 left-3 ${g.badge_color} text-white px-2 py-1 rounded-full text-xs font-medium`,children:g.badge}),s.jsx("button",{onClick:P=>{P.preventDefault(),P.stopPropagation(),x(g)},className:`absolute top-3 right-3 w-8 h-8 rounded-full flex items-center justify-center shadow-md transition-all duration-300 ${S?"bg-red-500 text-white opacity-100":"bg-white text-gray-600 opacity-0 group-hover:opacity-100 hover:bg-red-50 hover:text-red-500"}`,children:s.jsx(yr,{className:`w-4 h-4 ${S?"fill-current":""}`})})]}),s.jsxs("div",{className:"p-6 flex-1",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:g.brand}),s.jsx(A,{to:`/product/${g.id}`,children:s.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:g.name})}),s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:`text-sm font-medium ${k.color}`,children:k.text})}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[g.price.toFixed(2)," ",n]}),g.original_price&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[g.original_price.toFixed(2)," ",n]})]})}),s.jsxs("button",{onClick:()=>m(g),disabled:g.stock_quantity===0,className:`w-full py-3 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 ${g.stock_quantity===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:[s.jsx(zt,{className:"w-4 h-4"}),s.jsx("span",{children:g.stock_quantity===0?"Изчерпан":"Добави в количката"})]})]})]},g.id)})}),j.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-500 text-lg",children:"Няма намерени продукти в тази категория."}),C&&s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Опитайте да добавите продукти в подкатегориите или в главната категория."})]})]})]})]})})},Cv=()=>{const{state:e,dispatch:t}=Vt(),{currencySymbol:r}=qe(),n=(a,o)=>{t({type:"UPDATE_QUANTITY",payload:{id:a,quantity:o}})},i=a=>{t({type:"REMOVE_ITEM",payload:a})},l=()=>{t({type:"CLEAR_CART"})};return e.items.length===0?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(cv,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Количката е празна"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Добавете продукти, за да започнете пазаруването"}),s.jsx(A,{to:"/products",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300",children:"Разгледай продуктите"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Количка"}),s.jsx("button",{onClick:l,className:"text-red-500 hover:text-red-700 font-medium",children:"Изчисти количката"})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.items.map(a=>s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(A,{to:`/product/${a.product.id}`,children:s.jsx("img",{src:a.product.image,alt:a.product.name,className:"w-20 h-20 object-cover rounded-lg"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(A,{to:`/product/${a.product.id}`,children:s.jsx("h3",{className:"font-semibold text-gray-800 hover:text-blue-600 transition-colors",children:a.product.name})}),s.jsx("p",{className:"text-sm text-gray-500",children:a.product.brand}),s.jsxs("p",{className:"text-lg font-bold text-gray-800 mt-1",children:[a.product.price.toFixed(2)," ",r]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>n(a.product.id,a.quantity-1),className:"p-2 hover:bg-gray-100",children:s.jsx(Af,{className:"w-4 h-4"})}),s.jsx("span",{className:"px-4 py-2 font-medium",children:a.quantity}),s.jsx("button",{onClick:()=>n(a.product.id,a.quantity+1),className:"p-2 hover:bg-gray-100",children:s.jsx(dr,{className:"w-4 h-4"})})]}),s.jsx("button",{onClick:()=>i(a.product.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:s.jsx(Qo,{className:"w-5 h-5"})})]})]})},a.product.id))}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Обобщение на поръчката"}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Междинна сума:"}),s.jsxs("span",{className:"font-medium",children:[e.total.toFixed(2)," ",r]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Доставка:"}),s.jsx("span",{className:"font-medium",children:e.total>=50?"Безплатна":`5.99 ${r}`})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"Общо:"}),s.jsxs("span",{children:[(e.total+(e.total>=50?0:5.99)).toFixed(2)," ",r]})]})})]}),e.total<50&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-blue-800",children:["Добавете още ",(50-e.total).toFixed(2)," ",r," за безплатна доставка!"]})}),s.jsx(A,{to:"/checkout",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 flex items-center justify-center",children:"Продължи към плащане"}),s.jsx(A,{to:"/products",className:"w-full mt-4 border border-gray-300 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center justify-center",children:"Продължи пазаруването"})]})})]})]})})},Ev=()=>{const{state:e,dispatch:t}=Vt(),{currencySymbol:r}=qe(),{user:n}=xr(),i=pr(),[l,a]=b.useState({firstName:"",lastName:"",email:(n==null?void 0:n.email)||"",phone:"",address:"",city:"",postalCode:"",paymentMethod:"pickup",discountCode:""}),[o,c]=b.useState(!1),[u,d]=b.useState(""),[f,h]=b.useState(!1),[y,w]=b.useState(0),[v,j]=b.useState(null);b.useEffect(()=>{n&&p()},[n]);const p=async()=>{try{const{data:k,error:S}=await B.from("user_profiles").select("*").eq("id",n==null?void 0:n.id).maybeSingle();if(S){console.error("Error fetching user profile:",S);return}k&&(j(k),a(P=>({...P,firstName:k.first_name||"",lastName:k.last_name||"",phone:k.phone||"",address:k.address||"",city:k.city||"",postalCode:k.postal_code||""})))}catch(k){console.error("Error fetching user profile:",k)}},m=k=>{a({...l,[k.target.name]:k.target.value})},x=async()=>{if(l.discountCode.trim())try{const{data:k,error:S}=await B.from("discount_codes").select("*").eq("code",l.discountCode.trim().toUpperCase()).eq("is_active",!0).maybeSingle();if(S){console.error("Error checking discount code:",S),d("Грешка при проверка на кода");return}if(!k){d("Невалиден код за отстъпка");return}if(k.expires_at&&new Date(k.expires_at)<new Date){d("Кодът за отстъпка е изтекъл");return}h(!0),w(k.discount_percent),d("")}catch(k){console.error("Error applying discount:",k),d("Грешка при проверка на кода")}},_=()=>{h(!1),w(0),a(k=>({...k,discountCode:""}))},E=()=>{const k=e.total,S=(l.paymentMethod==="pickup",0),P=l.paymentMethod==="cash"?5:0,$=f?k*y/100:0;return{subtotal:k,shipping:S,cashFee:P,discount:$,total:k+S+P-$}},C=async k=>{k.preventDefault(),c(!0),d("");try{const S=E(),P={user_id:(n==null?void 0:n.id)||null,customer_name:`${l.firstName} ${l.lastName}`,customer_email:l.email,customer_phone:l.phone,shipping_address:{address:l.address,city:l.city,postalCode:l.postalCode},items:e.items.map(z=>({id:z.product.id,name:z.product.name,brand:z.product.brand,price:z.product.price,quantity:z.quantity,image:z.product.image})),total:S.total,payment_method:l.paymentMethod},{error:$}=await B.from("orders").insert([P]);if($)throw $;f&&l.discountCode&&await B.from("discount_codes").update({is_active:!1}).eq("code",l.discountCode.trim().toUpperCase()),t({type:"CLEAR_CART"}),i("/order-success")}catch(S){console.error("Error creating order:",S),d("Възникна грешка при създаването на поръчката. Моля, опитайте отново.")}finally{c(!1)}};if(e.items.length===0)return i("/cart"),null;const g=E();return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8",children:"Финализиране на поръчката"}),u&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:u}),s.jsx("form",{onSubmit:C,children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(os,{className:"w-5 h-5 mr-2 text-blue-500"}),s.jsx("h3",{className:"text-xl font-semibold",children:"Лични данни"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Име *"}),s.jsx("input",{type:"text",name:"firstName",value:l.firstName,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Фамилия *"}),s.jsx("input",{type:"text",name:"lastName",value:l.lastName,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Имейл *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"email",name:"email",value:l.email,onChange:m,required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Телефон *"}),s.jsxs("div",{className:"relative",children:[s.jsx(tl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:m,required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),l.paymentMethod==="cash"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(ls,{className:"w-5 h-5 mr-2 text-blue-500"}),s.jsx("h3",{className:"text-xl font-semibold",children:"Адрес за доставка"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Адрес *"}),s.jsx("input",{type:"text",name:"address",value:l.address,onChange:m,required:l.paymentMethod==="cash",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Град *"}),s.jsx("input",{type:"text",name:"city",value:l.city,onChange:m,required:l.paymentMethod==="cash",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Пощенски код *"}),s.jsx("input",{type:"text",name:"postalCode",value:l.postalCode,onChange:m,required:l.paymentMethod==="cash",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Код за отстъпка"}),f?s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex justify-between items-center",children:[s.jsx("div",{children:s.jsxs("span",{className:"text-green-700 font-medium",children:['Код "',l.discountCode,'" приложен - ',y,"% отстъпка"]})}),s.jsx("button",{type:"button",onClick:_,className:"text-red-500 hover:text-red-700",children:"Премахни"})]}):s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",name:"discountCode",value:l.discountCode,onChange:m,placeholder:"Въведете код за отстъпка",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Приложи"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Начин на получаване"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"pickup",checked:l.paymentMethod==="pickup",onChange:m,className:"mr-3"}),s.jsx(uv,{className:"w-5 h-5 mr-3 text-blue-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Вземи от нашия магазин"}),s.jsx("p",{className:"text-sm text-gray-500",children:'бул. "Витоша" 15, София (безплатно)'})]})]}),s.jsxs("label",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:l.paymentMethod==="cash",onChange:m,className:"mr-3"}),s.jsx(ls,{className:"w-5 h-5 mr-3 text-orange-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Наложен платеж"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Плащане при доставка (+5 лв такса)"})]})]})]})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Вашата поръчка"}),s.jsx("div",{className:"space-y-4 mb-6",children:e.items.map(k=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:k.product.image,alt:k.product.name,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm",children:k.product.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Количество: ",k.quantity]})]}),s.jsxs("span",{className:"font-medium",children:[(k.product.price*k.quantity).toFixed(2)," ",r]})]},k.product.id))}),s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Междинна сума:"}),s.jsxs("span",{className:"font-medium",children:[g.subtotal.toFixed(2)," ",r]})]}),g.cashFee>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Такса наложен платеж:"}),s.jsxs("span",{className:"font-medium",children:[g.cashFee.toFixed(2)," ",r]})]}),g.discount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Отстъпка (",y,"%):"]}),s.jsxs("span",{className:"font-medium",children:["-",g.discount.toFixed(2)," ",r]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[s.jsx("span",{children:"Общо:"}),s.jsxs("span",{children:[g.total.toFixed(2)," ",r]})]})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full mt-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Обработване...":"Завърши поръчката"})]})})]})})]})})},Pv=()=>{const e=Math.random().toString(36).substr(2,9).toUpperCase();return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Ko,{className:"w-12 h-12 text-green-500"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Поръчката е успешна!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Благодарим ви за поръчката! Ще получите имейл с потвърждение скоро."}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Номер на поръчката:"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800",children:["#",e]})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-left",children:[s.jsx(tn,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800",children:"Обработка на поръчката"}),s.jsx("p",{className:"text-sm text-gray-600",children:"1-2 работни дни"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-left",children:[s.jsx(rn,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800",children:"Доставка"}),s.jsx("p",{className:"text-sm text-gray-600",children:"2-3 работни дни"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(A,{to:"/products",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 block",children:"Продължи пазаруването"}),s.jsx(A,{to:"/",className:"w-full border border-gray-300 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors block",children:"Към началната страница"})]})]})})},Tv=()=>{const[e,t]=b.useState({name:"",email:"",subject:"",message:""}),r=i=>{t({...e,[i.target.name]:i.target.value})},n=i=>{i.preventDefault(),console.log("Contact form submitted:",e),t({name:"",email:"",subject:"",message:""})};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-700 text-white py-20",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Свържете се с нас"}),s.jsx("p",{className:"text-xl max-w-2xl mx-auto",children:"Имате въпроси? Нуждаете се от съвет? Нашият екип е тук, за да ви помогне!"})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Как да ни намерите"}),s.jsx("p",{className:"text-gray-600 leading-relaxed mb-8",children:"Ние сме тук, за да отговорим на всички ваши въпроси относно продуктите ни, доставката или грижата за домашни любимци. Свържете се с нас по удобния за вас начин."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(ls,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Адрес"}),s.jsxs("p",{className:"text-gray-600",children:['ул. "Иван Вазов" 15',s.jsx("br",{}),"Пловдив, България"]}),s.jsx("a",{href:"https://maps.app.goo.gl/ccPdytiCiuJhNSnq8",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 text-sm mt-2 inline-block",children:"Виж в Google Maps →"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(tl,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Телефон"}),s.jsx("p",{className:"text-gray-600",children:"0888 123 456"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Пон-Пет: 9:00 - 18:00"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Ut,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Имейл"}),s.jsx("p",{className:"text-gray-600",children:"info@zoobutik-iv.bg"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Отговаряме в рамките на 24 часа"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(en,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Работно време"}),s.jsxs("div",{className:"text-gray-600 space-y-1",children:[s.jsx("p",{children:"Понеделник - Петък: 9:00 - 18:00"}),s.jsx("p",{children:"Събота: 10:00 - 16:00"}),s.jsx("p",{children:"Неделя: Почивен ден"})]})]})]})]}),s.jsx("div",{className:"bg-gray-200 rounded-2xl h-64 overflow-hidden",children:s.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2943.123456789!2d24.745!3d42.145!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDLCsDA4JzQyLjAiTiAyNMKwNDQnNDIuMCJF!5e0!3m2!1sen!2sbg!4v1234567890",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"ЗООБУТИК ИВ Location"})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Изпратете ни съобщение"}),s.jsxs("form",{onSubmit:n,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Име *"}),s.jsx("input",{type:"text",name:"name",value:e.name,onChange:r,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Вашето име"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Имейл *"}),s.jsx("input",{type:"email",name:"email",value:e.email,onChange:r,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Тема"}),s.jsxs("select",{name:"subject",value:e.subject,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Изберете тема"}),s.jsx("option",{value:"product",children:"Въпрос за продукт"}),s.jsx("option",{value:"order",children:"Въпрос за поръчка"}),s.jsx("option",{value:"delivery",children:"Доставка"}),s.jsx("option",{value:"return",children:"Връщане/Рекламация"}),s.jsx("option",{value:"advice",children:"Съвет за домашен любимец"}),s.jsx("option",{value:"other",children:"Друго"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Съобщение *"}),s.jsx("textarea",{name:"message",value:e.message,onChange:r,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Опишете вашия въпрос или проблем..."})]}),s.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 flex items-center justify-center space-x-2",children:[s.jsx(Df,{className:"w-5 h-5"}),s.jsx("span",{children:"Изпрати съобщение"})]})]})]})]}),s.jsxs("div",{className:"mt-20",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-800 text-center mb-12",children:"Често задавани въпроси"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Как мога да проследя поръчката си?"}),s.jsx("p",{className:"text-gray-600",children:'След потвърждаване на поръчката ще получите имейл с номер за проследяване. Можете да проследите статуса в секция "Моите поръчки" в профила си.'})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Какви са условията за връщане?"}),s.jsx("p",{className:"text-gray-600",children:"Можете да върнете продукти в рамките на 14 дни от получаването им, при условие че са в оригиналната си опаковка и не са използвани."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Предлагате ли консултации?"}),s.jsx("p",{className:"text-gray-600",children:"Да! Нашият екип от специалисти може да ви консултира относно избора на храна, аксесоари и грижа за вашия домашен любимец."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Има ли отстъпки за постоянни клиенти?"}),s.jsx("p",{className:"text-gray-600",children:"Да! Имаме програма за лоялност с ексклузивни отстъпки и ранен достъп до промоции."})]})]})]})]})]})},Ov=()=>{const{user:e}=xr(),[t,r]=b.useState({first_name:"",last_name:"",phone:"",address:"",city:"",postal_code:"",newsletter_subscribed:!1}),[n,i]=b.useState(!0),[l,a]=b.useState(!1),[o,c]=b.useState(""),[u,d]=b.useState(!1);b.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{const{data:w,error:v}=await B.from("user_profiles").select("*").eq("id",e==null?void 0:e.id).single();if(v&&v.code!=="PGRST116")throw v;w&&r(w)}catch(w){console.error("Error fetching profile:",w)}finally{i(!1)}},h=async()=>{a(!0),c("");try{const{error:w}=await B.from("user_profiles").upsert({id:e==null?void 0:e.id,...t});if(w)throw w;c("Профилът е запазен успешно!"),d(!1)}catch(w){console.error("Error saving profile:",w),c("Грешка при запазване на профила")}finally{a(!1)}},y=w=>{const{name:v,value:j,type:p,checked:m}=w.target;r(x=>({...x,[v]:p==="checkbox"?m:j}))};return e?n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Зареждане на профила..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(os,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:t.first_name&&t.last_name?`${t.first_name} ${t.last_name}`:"Моят профил"}),s.jsx("p",{className:"text-blue-100",children:e.email})]})]}),s.jsxs("button",{onClick:()=>d(!u),className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Jo,{className:"w-4 h-4"}),s.jsx("span",{children:u?"Отказ":"Редактирай"})]})]})}),s.jsxs("div",{className:"p-8",children:[o&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${o.includes("успешно")?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:o}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(os,{className:"w-5 h-5 mr-2"}),"Лична информация"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Име"}),s.jsx("input",{type:"text",name:"first_name",value:t.first_name||"",onChange:y,disabled:!u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Фамилия"}),s.jsx("input",{type:"text",name:"last_name",value:t.last_name||"",onChange:y,disabled:!u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(tl,{className:"w-5 h-5 mr-2"}),"Контактна информация"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Имейл адрес"}),s.jsx("input",{type:"email",value:e.email||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Имейлът не може да бъде променен"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Телефон"}),s.jsx("input",{type:"tel",name:"phone",value:t.phone||"",onChange:y,disabled:!u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(ls,{className:"w-5 h-5 mr-2"}),"Адрес за доставка"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Адрес"}),s.jsx("input",{type:"text",name:"address",value:t.address||"",onChange:y,disabled:!u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Град"}),s.jsx("input",{type:"text",name:"city",value:t.city||"",onChange:y,disabled:!u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Пощенски код"}),s.jsx("input",{type:"text",name:"postal_code",value:t.postal_code||"",onChange:y,disabled:!u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Ut,{className:"w-5 h-5 mr-2"}),"Настройки за бюлетин"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"newsletter_subscribed",checked:t.newsletter_subscribed,onChange:y,disabled:!u,className:"mr-3"}),s.jsx("span",{className:"text-gray-700",children:"Искам да получавам бюлетин с оферти и новини"})]})]}),u&&s.jsx("div",{className:"pt-6 border-t",children:s.jsxs("button",{onClick:h,disabled:l,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 flex items-center justify-center space-x-2",children:[s.jsx(Mf,{className:"w-5 h-5"}),s.jsx("span",{children:l?"Запазване...":"Запази промените"})]})})]})]})]})})})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Моля, влезте в профила си"}),s.jsx("p",{className:"text-gray-600",children:"За да видите тази страница, трябва да сте влезли в профила си."})]})})},Iv=()=>{const{user:e}=xr(),{currencySymbol:t}=qe(),[r,n]=b.useState([]),[i,l]=b.useState(!0);b.useEffect(()=>{e&&a()},[e]);const a=async()=>{try{const{data:d,error:f}=await B.from("orders").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(f)throw f;n(d||[])}catch(d){console.error("Error fetching orders:",d)}finally{l(!1)}},o=d=>{switch(d){case"pending":return s.jsx(en,{className:"w-5 h-5 text-yellow-500"});case"processing":return s.jsx(tn,{className:"w-5 h-5 text-blue-500"});case"shipped":return s.jsx(rn,{className:"w-5 h-5 text-purple-500"});case"delivered":return s.jsx(Ko,{className:"w-5 h-5 text-green-500"});case"cancelled":return s.jsx(zf,{className:"w-5 h-5 text-red-500"});default:return s.jsx(en,{className:"w-5 h-5 text-gray-500"})}},c=d=>{switch(d){case"pending":return"Чакаща";case"processing":return"Обработва се";case"shipped":return"Изпратена";case"delivered":return"Доставена";case"cancelled":return"Отказана";default:return d}},u=d=>{switch(d){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e?i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Зареждане на поръчките..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Моите поръчки"}),s.jsx("p",{className:"text-gray-600",children:"Преглед на всички ваши поръчки и тяхното състояние"})]}),r.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[s.jsx(tn,{className:"w-16 h-16 text-gray-300 mx-auto mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Няма поръчки"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Все още не сте направили нито една поръчка."}),s.jsx("a",{href:"/products",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300",children:"Започнете пазаруването"})]}):s.jsx("div",{className:"space-y-6",children:r.map(d=>s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[o(d.status),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u(d.status)}`,children:c(d.status)})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-800",children:["Поръчка #",d.id]}),s.jsx("p",{className:"text-sm text-gray-600",children:new Date(d.created_at).toLocaleDateString("bg-BG",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),s.jsxs("div",{className:"mt-4 md:mt-0 text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[d.total.toFixed(2)," ",t]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[d.items.length," продукта"]})]})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Продукти"}),s.jsx("div",{className:"space-y-3",children:d.items.map((f,h)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:f.image,alt:f.name,className:"w-12 h-12 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-800",children:f.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[f.quantity,"x ",f.price.toFixed(2)," лв"]})]})]},h))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Адрес за доставка"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:d.shipping_address.address}),s.jsxs("p",{children:[d.shipping_address.city," ",d.shipping_address.postalCode]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[s.jsx(Yy,{className:"w-4 h-4 mr-2"}),"Начин на плащане"]}),s.jsx("p",{className:"text-sm text-gray-600",children:d.payment_method==="card"?"Кредитна/дебитна карта":d.payment_method==="cash"?"Наложен платеж":d.payment_method==="bank"?"Банков превод":d.payment_method})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[s.jsx(Qy,{className:"w-4 h-4 mr-2"}),"Контакт"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:d.customer_name}),s.jsx("p",{children:d.customer_phone}),s.jsx("p",{children:d.customer_email})]})]})]})]})})]},d.id))})]})})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Моля, влезте в профила си"}),s.jsx("p",{className:"text-gray-600",children:"За да видите поръчките си, трябва да сте влезли в профила си."})]})})},Rv=()=>{const{state:e,dispatch:t}=cn(),{dispatch:r}=Vt(),{currencySymbol:n}=qe(),i=o=>{t({type:"REMOVE_ITEM",payload:o})},l=o=>{r({type:"ADD_ITEM",payload:o})},a=o=>o===0?{text:"Изчерпан",color:"text-red-600"}:o<=5?{text:"Ограничена наличност",color:"text-orange-600"}:{text:"В наличност",color:"text-green-600"};return e.items.length===0?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(yr,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Списъкът с желания е празен"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Добавете продукти, които харесвате, за да ги запазите за по-късно"}),s.jsx(A,{to:"/products",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300",children:"Разгледай продуктите"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Списък с желания"}),s.jsx("button",{onClick:()=>t({type:"CLEAR_WISHLIST"}),className:"text-red-500 hover:text-red-700 font-medium",children:"Изчисти списъка"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.items.map(o=>{const c=a(o.stockQuantity||0);return s.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx(A,{to:`/product/${o.id}`,children:s.jsx("img",{src:o.image,alt:o.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"})}),o.badge&&s.jsx("div",{className:`absolute top-3 left-3 ${o.badgeColor} text-white px-2 py-1 rounded-full text-xs font-medium`,children:o.badge}),s.jsx("button",{onClick:()=>i(o.id),className:"absolute top-3 right-3 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center shadow-md hover:bg-red-600 transition-colors",children:s.jsx(pt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:o.brand}),s.jsx(A,{to:`/product/${o.id}`,children:s.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:o.name})}),s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:`text-sm font-medium ${c.color}`,children:c.text})}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[o.price.toFixed(2)," ",n]}),o.originalPrice&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[o.originalPrice.toFixed(2)," ",n]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>l(o),disabled:o.stockQuantity===0,className:`w-full py-3 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 ${o.stockQuantity===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:[s.jsx(zt,{className:"w-4 h-4"}),s.jsx("span",{children:o.stockQuantity===0?"Изчерпан":"Добави в количката"})]}),s.jsx("button",{onClick:()=>i(o.id),className:"w-full py-2 text-red-500 hover:text-red-700 font-medium transition-colors",children:"Премахни от списъка"})]})]})]},o.id)})})]})})},$v=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(""),[i,l]=b.useState(!1),[a,o]=b.useState(!1),[c,u]=b.useState(""),{signIn:d}=xr(),f=pr(),h=async y=>{y.preventDefault(),o(!0),u("");try{const{error:w}=await d(e,r);w?u("Невалиден имейл или парола"):f("/admin")}catch{u("Възникна грешка при влизането")}finally{o(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ou,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Административен вход"}),s.jsx("p",{className:"text-gray-600",children:"Влезте в административния панел"})]}),c&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Имейл адрес"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"email",value:e,onChange:y=>t(y.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@petstore.bg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Парола"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ou,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:i?"text":"password",value:r,onChange:y=>n(y.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"}),s.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?s.jsx(Zy,{className:"w-5 h-5"}):s.jsx(ys,{className:"w-5 h-5"})})]})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Влизане...":"Влез"})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx(A,{to:"/",className:"text-gray-600 hover:text-gray-800 text-sm",children:"← Върни се към сайта"})})]})})},Lv=()=>{const{products:e,loading:t,refetch:r}=Kt(),{categories:n}=vr(),{currencySymbol:i}=qe(),[l,a]=b.useState(""),[o,c]=b.useState("all"),[u,d]=b.useState(null),f=e.filter(j=>{const p=j.name.toLowerCase().includes(l.toLowerCase())||j.brand.toLowerCase().includes(l.toLowerCase()),m=o==="all"||j.category_id===parseInt(o);return p&&m}),h=async j=>{try{const{error:p}=await B.from("products").delete().eq("id",j);if(p)throw p;r(),d(null)}catch(p){console.error("Error deleting product:",p),alert("Грешка при изтриване на продукта")}},y=async(j,p)=>{try{const{error:m}=await B.from("products").update({in_stock:!p}).eq("id",j);if(m)throw m;r()}catch(m){console.error("Error updating stock:",m)}},w=async(j,p)=>{try{const{error:m}=await B.from("products").update({stock_quantity:p}).eq("id",j);if(m)throw m;r()}catch(m){console.error("Error updating stock quantity:",m)}},v=j=>j===0?{text:"Изчерпан",color:"bg-red-100 text-red-800"}:j<=5?{text:"Ограничена наличност",color:"bg-orange-100 text-orange-800"}:{text:"В наличност",color:"bg-green-100 text-green-800"};return t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Зареждане на продукти..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Управление на продукти"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Добавяйте, редактирайте и управлявайте продуктите в магазина"})]}),s.jsxs(A,{to:"/admin/products/new",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 flex items-center space-x-2",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsx("span",{children:"Добави продукт"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Търсете продукти...",value:l,onChange:j=>a(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsx("div",{className:"md:w-64",children:s.jsxs("select",{value:o,onChange:j=>c(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Всички категории"}),n.map(j=>s.jsx("option",{value:j.id.toString(),children:j.name},j.id))]})})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Продукти (",f.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Продукт"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Категория"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Цена"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Наличност"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Количество"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Действия"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(j=>{const p=n.find(x=>x.id===j.category_id),m=v(j.stock_quantity||0);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:j.image,alt:j.name,className:"w-12 h-12 rounded-lg object-cover mr-4"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name}),s.jsx("div",{className:"text-sm text-gray-500",children:j.brand})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:(p==null?void 0:p.name)||"Неизвестна"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[j.price.toFixed(2)," ",i]}),j.original_price&&s.jsxs("div",{className:"text-sm text-gray-500 line-through",children:[j.original_price.toFixed(2)," ",i]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("button",{onClick:()=>y(j.id,j.in_stock),className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.in_stock?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"} transition-colors cursor-pointer`,children:j.in_stock?"Активен":"Неактивен"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",min:"0",value:j.stock_quantity||0,onChange:x=>w(j.id,parseInt(x.target.value)||0),className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${m.color}`,children:m.text})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(A,{to:`/product/${j.id}`,className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"Преглед",children:s.jsx(ys,{className:"w-4 h-4"})}),s.jsx(A,{to:`/admin/products/edit/${j.id}`,className:"text-indigo-600 hover:text-indigo-900 p-1 rounded",title:"Редактиране",children:s.jsx(Jo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>d(j.id),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Изтриване",children:s.jsx(Qo,{className:"w-4 h-4"})})]})})]},j.id)})})]})}),f.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Няма намерени продукти"})})]})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Потвърдете изтриването"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Сигурни ли сте, че искате да изтриете този продукт? Това действие не може да бъде отменено."}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Отказ"}),s.jsx("button",{onClick:()=>h(u),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Изтрий"})]})]})})]})},Ru=()=>{const{id:e}=Fo(),t=pr(),{categories:r}=vr(),n=!!e,[i,l]=b.useState({name:"",brand:"",price:"",original_price:"",rating:"4.5",reviews:"0",image:"",images:[],badge:"",badge_color:"",category_id:"",description:"",features:[],in_stock:!0,stock_quantity:"0"}),[a,o]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(!1),[h,y]=b.useState("");b.useEffect(()=>{n&&e&&w()},[e,n]);const w=async()=>{var C,g,k;try{const{data:S,error:P}=await B.from("products").select("*").eq("id",e).single();if(P)throw P;l({name:S.name,brand:S.brand,price:S.price.toString(),original_price:((C=S.original_price)==null?void 0:C.toString())||"",rating:S.rating.toString(),reviews:S.reviews.toString(),image:S.image,images:S.images||[],badge:S.badge||"",badge_color:S.badge_color||"",category_id:((g=S.category_id)==null?void 0:g.toString())||"",description:S.description,features:S.features||[],in_stock:S.in_stock,stock_quantity:((k=S.stock_quantity)==null?void 0:k.toString())||"0"})}catch(S){console.error("Error fetching product:",S),y("Грешка при зареждане на продукта")}},v=C=>{const{name:g,value:k,type:S}=C.target;l(P=>({...P,[g]:S==="checkbox"?C.target.checked:k}))},j=()=>{a.trim()&&(l(C=>({...C,features:[...C.features,a.trim()]})),o(""))},p=C=>{l(g=>({...g,features:g.features.filter((k,S)=>S!==C)}))},m=()=>{c.trim()&&(l(C=>({...C,images:[...C.images,c.trim()]})),u(""))},x=C=>{l(g=>({...g,images:g.images.filter((k,S)=>S!==C)}))},_=async C=>{C.preventDefault(),f(!0),y("");try{const g={name:i.name,brand:i.brand,price:parseFloat(i.price),original_price:i.original_price?parseFloat(i.original_price):null,rating:parseFloat(i.rating),reviews:parseInt(i.reviews),image:i.image,images:i.images.length>0?i.images:null,badge:i.badge||null,badge_color:i.badge_color||null,category_id:parseInt(i.category_id),description:i.description,features:i.features,in_stock:i.in_stock,stock_quantity:parseInt(i.stock_quantity)};let k;if(n?k=await B.from("products").update(g).eq("id",e):k=await B.from("products").insert([g]),k.error)throw k.error;t("/admin/products")}catch(g){console.error("Error saving product:",g),y("Грешка при запазване на продукта")}finally{f(!1)}},E=[{value:"bg-red-500",label:"Червен"},{value:"bg-green-500",label:"Зелен"},{value:"bg-blue-500",label:"Син"},{value:"bg-yellow-500",label:"Жълт"},{value:"bg-purple-500",label:"Лилав"},{value:"bg-pink-500",label:"Розов"},{value:"bg-indigo-500",label:"Индиго"},{value:"bg-gray-500",label:"Сив"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/admin/products"),className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:s.jsx(Vy,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n?"Редактиране на продукт":"Добавяне на продукт"}),s.jsx("p",{className:"text-gray-600 mt-1",children:n?"Редактирайте информацията за продукта":"Създайте нов продукт в магазина"})]})]})})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:h}),s.jsxs("form",{onSubmit:_,className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Основна информация"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Име на продукта *"}),s.jsx("input",{type:"text",name:"name",value:i.name,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Марка *"}),s.jsx("input",{type:"text",name:"brand",value:i.brand,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Цена *"}),s.jsx("input",{type:"number",step:"0.01",name:"price",value:i.price,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Първоначална цена"}),s.jsx("input",{type:"number",step:"0.01",name:"original_price",value:i.original_price,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Категория *"}),s.jsxs("select",{name:"category_id",value:i.category_id,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Изберете категория"}),r.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Наличност (брой) *"}),s.jsx("input",{type:"number",min:"0",name:"stock_quantity",value:i.stock_quantity,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"0 = изчерпан, 1-5 = ограничена наличност, 6+ = в наличност"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"in_stock",checked:i.in_stock,onChange:v,className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Активен продукт"})]})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Описание *"}),s.jsx("textarea",{name:"description",value:i.description,onChange:v,required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Изображения"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Основно изображение *"}),s.jsx("input",{type:"url",name:"image",value:i.image,onChange:v,required:!0,placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Допълнителни изображения"}),s.jsxs("div",{className:"flex space-x-2 mb-3",children:[s.jsx("input",{type:"url",value:c,onChange:C=>u(C.target.value),placeholder:"https://example.com/image.jpg",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:s.jsx(Go,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"space-y-2",children:i.images.map((C,g)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-sm text-gray-600 truncate",children:C}),s.jsx("button",{type:"button",onClick:()=>x(g),className:"text-red-500 hover:text-red-700",children:s.jsx(pt,{className:"w-4 h-4"})})]},g))})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Етикет"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Текст на етикета"}),s.jsx("input",{type:"text",name:"badge",value:i.badge,onChange:v,placeholder:"Промоция, Ново, и т.н.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Цвят на етикета"}),s.jsxs("select",{name:"badge_color",value:i.badge_color,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Изберете цвят"}),E.map(C=>s.jsx("option",{value:C.value,children:C.label},C.value))]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Характеристики"}),s.jsxs("div",{className:"flex space-x-2 mb-4",children:[s.jsx("input",{type:"text",value:a,onChange:C=>o(C.target.value),placeholder:"Добавете характеристика",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:C=>C.key==="Enter"&&(C.preventDefault(),j())}),s.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Добави"})]}),s.jsx("div",{className:"space-y-2",children:i.features.map((C,g)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[s.jsx("span",{className:"text-gray-700",children:C}),s.jsx("button",{type:"button",onClick:()=>p(g),className:"text-red-500 hover:text-red-700",children:s.jsx(pt,{className:"w-4 h-4"})})]},g))})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>t("/admin/products"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Отказ"}),s.jsxs("button",{type:"submit",disabled:d,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(Mf,{className:"w-5 h-5"}),s.jsx("span",{children:d?"Запазване...":n?"Обнови продукт":"Създай продукт"})]})]})]})]})]})},Av=()=>{const{categories:e,loading:t,refetch:r}=vr(),[n,i]=b.useState(!1),[l,a]=b.useState(null),[o,c]=b.useState(null),[u,d]=b.useState(new Set),[f,h]=b.useState(!1),[y,w]=b.useState({from:"#3b82f6",to:"#8b5cf6"}),[v,j]=b.useState({name:"",slug:"",image:"",color:"from-blue-400 to-purple-500",description:"",parent_id:"",sort_order:0,is_visible:!0,navigation_type:"category",external_url:"",icon:""}),p=[{value:"category",label:"Категория"},{value:"link",label:"Външна връзка"},{value:"dropdown",label:"Падащо меню"}],m=[{value:"from-blue-400 to-purple-500",label:"Син към лилав",preview:"bg-gradient-to-r from-blue-400 to-purple-500"},{value:"from-orange-400 to-red-500",label:"Оранжев към червен",preview:"bg-gradient-to-r from-orange-400 to-red-500"},{value:"from-green-400 to-blue-500",label:"Зелен към син",preview:"bg-gradient-to-r from-green-400 to-blue-500"},{value:"from-yellow-400 to-orange-500",label:"Жълт към оранжев",preview:"bg-gradient-to-r from-yellow-400 to-orange-500"},{value:"from-purple-400 to-pink-500",label:"Лилав към розов",preview:"bg-gradient-to-r from-purple-400 to-pink-500"},{value:"from-teal-400 to-cyan-500",label:"Тийл към циан",preview:"bg-gradient-to-r from-teal-400 to-cyan-500"},{value:"from-indigo-400 to-purple-500",label:"Индиго към лилав",preview:"bg-gradient-to-r from-indigo-400 to-purple-500"},{value:"from-pink-400 to-red-500",label:"Розов към червен",preview:"bg-gradient-to-r from-pink-400 to-red-500"},{value:"custom",label:"Персонализиран",preview:"bg-gradient-to-r from-gray-400 to-gray-600"}],_=e.filter(T=>!T.parent_id&&T.is_visible).sort((T,I)=>(T.sort_order||0)-(I.sort_order||0)).map(T=>({...T,children:e.filter(I=>I.parent_id===T.id&&I.is_visible).sort((I,F)=>(I.sort_order||0)-(F.sort_order||0))})),E=e.filter(N=>!N.parent_id),C=N=>{const T=new Set(u);T.has(N)?T.delete(N):T.add(N),d(T)},g=(N,T)=>{var I;N?(a(N),j({name:N.name,slug:N.slug,image:N.image||"",color:N.color,description:N.description||"",parent_id:((I=N.parent_id)==null?void 0:I.toString())||"",sort_order:N.sort_order||0,is_visible:N.is_visible??!0,navigation_type:N.navigation_type||"category",external_url:N.external_url||"",icon:N.icon||""})):(a(null),j({name:"",slug:"",image:"",color:"from-blue-400 to-purple-500",description:"",parent_id:(T==null?void 0:T.toString())||"",sort_order:0,is_visible:!0,navigation_type:"category",external_url:"",icon:""})),i(!0)},k=N=>{const T={а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"y",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"ts",ч:"ch",ш:"sh",щ:"sht",ъ:"a",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"Y",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"H",Ц:"Ts",Ч:"Ch",Ш:"Sh",Щ:"Sht",Ъ:"A",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya"};return N.split("").map(I=>T[I]||I).join("").toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").trim()},S=N=>{j(T=>({...T,name:N,slug:k(N)}))},P=N=>{h(N==="custom"),j(T=>({...T,color:N}))},$=()=>{const N=y.from.replace("#",""),T=y.to.replace("#","");return`from-[#${N}] to-[#${T}]`},z=N=>{var I;const T=(I=N.target.files)==null?void 0:I[0];if(T){const F=URL.createObjectURL(T);j(ee=>({...ee,image:F})),alert("Забележка: В демо версията изображението се съхранява временно. В продукционна версия файлът ще се качи в Supabase Storage.")}},be=async N=>{N.preventDefault();try{let T=v.color;v.color==="custom"&&(T=$());const I={...v,color:T,parent_id:v.parent_id?parseInt(v.parent_id):null,sort_order:v.sort_order||0,image:v.image||""};if(l){const{error:F}=await B.from("categories").update(I).eq("id",l.id);if(F)throw F}else{const{error:F}=await B.from("categories").insert([I]);if(F)throw F}r(),i(!1)}catch(T){console.error("Error saving category:",T),alert("Грешка при запазване на категорията")}},wr=async N=>{try{const{error:T}=await B.from("categories").delete().eq("id",N);if(T)throw T;r(),c(null)}catch(T){console.error("Error deleting category:",T),alert("Грешка при изтриване на категорията")}},vs=async(N,T)=>{try{const{error:I}=await B.from("categories").update({sort_order:T}).eq("id",N);if(I)throw I;r()}catch(I){console.error("Error updating sort order:",I)}},hn=async(N,T)=>{try{const{error:I}=await B.from("categories").update({is_visible:!T}).eq("id",N);if(I)throw I;r()}catch(I){console.error("Error updating visibility:",I)}};if(t)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Зареждане на навигацията..."})]})});const jr=(N,T=0)=>{var I,F;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",style:{paddingLeft:`${T*20}px`},children:[((I=N.children)==null?void 0:I.length)>0&&s.jsx("button",{onClick:()=>C(N.id),className:"text-gray-400 hover:text-gray-600",children:u.has(N.id)?s.jsx(Fa,{className:"w-4 h-4"}):s.jsx(Ba,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[N.icon&&s.jsx("span",{className:"text-lg",children:N.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:N.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[N.slug," • ",N.navigation_type,N.parent_id&&" • Подкатегория"]}),N.description&&s.jsx("p",{className:"text-xs text-gray-400 mt-1 max-w-md truncate",children:N.description})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>hn(N.id,N.is_visible),className:`px-3 py-1 rounded-full text-xs font-medium ${N.is_visible?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:N.is_visible?"Видима":"Скрита"}),s.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[s.jsx("button",{onClick:()=>vs(N.id,(N.sort_order||0)-1),className:"p-1 hover:text-gray-600",title:"Премести нагоре",children:"↑"}),s.jsx("span",{className:"text-xs px-2",children:N.sort_order||0}),s.jsx("button",{onClick:()=>vs(N.id,(N.sort_order||0)+1),className:"p-1 hover:text-gray-600",title:"Премести надолу",children:"↓"})]}),s.jsx("button",{onClick:()=>g(null,N.id),className:"text-green-600 hover:text-green-900 p-1 rounded",title:"Добави подкатегория",children:s.jsx(dr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>window.open(`/category/${N.slug}`,"_blank"),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"Преглед",children:s.jsx(ys,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>g(N),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded",title:"Редактиране",children:s.jsx(Jo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>c(N.id),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Изтриване",children:s.jsx(Qo,{className:"w-4 h-4"})})]})]}),u.has(N.id)&&((F=N.children)==null?void 0:F.map(ee=>jr(ee,T+1)))]},N.id)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Управление на навигацията"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Създавайте и управлявайте менютата на сайта"})]}),s.jsxs("button",{onClick:()=>g(),className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 flex items-center space-x-2",children:[s.jsx(dr,{className:"w-5 h-5"}),s.jsx("span",{children:"Добави елемент"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"space-y-2",children:_.map(N=>jr(N))}),_.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-500 text-lg",children:"Няма създадени навигационни елементи"}),s.jsx("button",{onClick:()=>g(),className:"mt-4 text-blue-500 hover:text-blue-600",children:"Създайте първия елемент"})]})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:l?"Редактиране на навигационен елемент":"Добавяне на навигационен елемент"}),s.jsxs("form",{onSubmit:be,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Име *"}),s.jsx("input",{type:"text",value:v.name,onChange:N=>S(N.target.value),required:!0,placeholder:"Храна за котки",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Slug-ът ще се генерира автоматично от името"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Тип навигация *"}),s.jsx("select",{value:v.navigation_type,onChange:N=>j(T=>({...T,navigation_type:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:p.map(N=>s.jsx("option",{value:N.value,children:N.label},N.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug (URL) *"}),s.jsx("input",{type:"text",value:v.slug,onChange:N=>j(T=>({...T,slug:N.target.value})),required:v.navigation_type==="category",placeholder:"hrana-za-kotki",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Родителска категория"}),s.jsxs("select",{value:v.parent_id,onChange:N=>j(T=>({...T,parent_id:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Главна категория"}),E.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ред на показване"}),s.jsx("input",{type:"number",value:v.sort_order,onChange:N=>j(T=>({...T,sort_order:parseInt(N.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Икона (emoji или текст)"}),s.jsx("input",{type:"text",value:v.icon,onChange:N=>j(T=>({...T,icon:N.target.value})),placeholder:"🐕 или 🐱",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Описание"}),s.jsx("textarea",{value:v.description,onChange:N=>j(T=>({...T,description:N.target.value})),rows:3,placeholder:"Този текст ще се показва под заглавието на категорията",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Този текст ще се показва под заглавието на категорията"})]}),v.navigation_type==="link"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Външна връзка *"}),s.jsx("input",{type:"url",value:v.external_url,onChange:N=>j(T=>({...T,external_url:N.target.value})),required:!0,placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),v.navigation_type==="category"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Изображение"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("label",{className:"flex items-center px-4 py-2 bg-blue-50 text-blue-600 rounded-lg cursor-pointer hover:bg-blue-100 transition-colors",children:[s.jsx(Go,{className:"w-4 h-4 mr-2"}),"Качи файл",s.jsx("input",{type:"file",accept:"image/*",onChange:z,className:"hidden"})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"или"})]}),s.jsx("input",{type:"url",value:v.image,onChange:N=>j(T=>({...T,image:N.target.value})),placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.image&&s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:v.image,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>j(N=>({...N,image:""})),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600",children:s.jsx(pt,{className:"w-3 h-3"})})]})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Изображението не е задължително. Можете да качите файл или да въведете URL."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Цветова схема"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:m.map(N=>s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"radio",name:"color",value:N.value,checked:v.color===N.value,onChange:T=>P(T.target.value),className:"sr-only"}),s.jsx("div",{className:`w-4 h-4 rounded-full mr-2 ${N.preview} ${v.color===N.value?"ring-2 ring-blue-500":""}`}),s.jsx("span",{className:"text-sm text-gray-700",children:N.label})]},N.value))}),f&&s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Персонализиран градиент"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"От цвят"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"color",value:y.from,onChange:N=>w(T=>({...T,from:N.target.value})),className:"w-8 h-8 rounded border border-gray-300"}),s.jsx("input",{type:"text",value:y.from,onChange:N=>w(T=>({...T,from:N.target.value})),className:"flex-1 px-2 py-1 text-xs border border-gray-300 rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"До цвят"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"color",value:y.to,onChange:N=>w(T=>({...T,to:N.target.value})),className:"w-8 h-8 rounded border border-gray-300"}),s.jsx("input",{type:"text",value:y.to,onChange:N=>w(T=>({...T,to:N.target.value})),className:"flex-1 px-2 py-1 text-xs border border-gray-300 rounded"})]})]})]}),s.jsx("div",{className:"mt-3",children:s.jsx("div",{className:"w-full h-8 rounded",style:{background:`linear-gradient(to right, ${y.from}, ${y.to})`}})})]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_visible",checked:v.is_visible,onChange:N=>j(T=>({...T,is_visible:N.target.checked})),className:"mr-2"}),s.jsx("label",{htmlFor:"is_visible",className:"text-sm font-medium text-gray-700",children:"Видим в навигацията"})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Отказ"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:l?"Обнови":"Създай"})]})]})]})}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Потвърдете изтриването"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Сигурни ли сте, че искате да изтриете този навигационен елемент? Всички подкатегории също ще бъдат изтрити."}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>c(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Отказ"}),s.jsx("button",{onClick:()=>wr(o),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Изтрий"})]})]})})]})},Mv=()=>{const{products:e,loading:t}=Kt(),[r,n]=b.useState([]),[i,l]=b.useState(""),[a,o]=b.useState(!1),[c,u]=b.useState("");b.useEffect(()=>{d()},[]);const d=async()=>{try{const p=localStorage.getItem("featuredProducts");p&&n(JSON.parse(p))}catch(p){console.error("Error loading featured products:",p)}},f=async()=>{o(!0),u("");try{localStorage.setItem("featuredProducts",JSON.stringify(r)),u("Препоръчаните продукти са запазени успешно!")}catch(p){console.error("Error saving featured products:",p),u("Грешка при запазване на препоръчаните продукти")}finally{o(!1)}},h=p=>{r.length<8&&!r.includes(p)&&n([...r,p])},y=p=>{n(r.filter(m=>m!==p))},w=e.filter(p=>p.name.toLowerCase().includes(i.toLowerCase())||p.brand.toLowerCase().includes(i.toLowerCase())),v=e.filter(p=>r.includes(p.id)),j=w.filter(p=>!r.includes(p.id));return t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Зареждане на продукти..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Препоръчани продукти"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Изберете до 8 продукта за показване на началната страница"})]}),s.jsxs("button",{onClick:f,disabled:a,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 flex items-center space-x-2",children:[s.jsx(Ti,{className:"w-5 h-5"}),s.jsx("span",{children:a?"Запазване...":"Запази промените"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${c.includes("успешно")?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:c}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsx("div",{children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Препоръчани продукти (",r.length,"/8)"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Влачете за пренареждане"})]}),v.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ti,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Няма избрани препоръчани продукти"}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Изберете продукти от списъка вдясно"})]}):s.jsx("div",{className:"space-y-4",children:v.map((p,m)=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"text-sm text-gray-500 w-6",children:m+1}),s.jsx("img",{src:p.image,alt:p.name,className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:p.name}),s.jsx("p",{className:"text-sm text-gray-600",children:p.brand}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[p.price.toFixed(2)," лв"]})]}),s.jsx("button",{onClick:()=>y(p.id),className:"text-red-500 hover:text-red-700 p-1 rounded",title:"Премахни от препоръчани",children:s.jsx(pt,{className:"w-5 h-5"})})]},p.id))})]})}),s.jsx("div",{children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Всички продукти"}),s.jsxs("div",{className:"relative",children:[s.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Търсене...",value:i,onChange:p=>l(p.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),s.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-3",children:[j.map(p=>s.jsxs("div",{className:"flex items-center space-x-4 p-3 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[s.jsx("img",{src:p.image,alt:p.name,className:"w-12 h-12 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:p.name}),s.jsx("p",{className:"text-xs text-gray-600",children:p.brand}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[p.price.toFixed(2)," лв"]})]}),s.jsx("button",{onClick:()=>h(p.id),disabled:r.length>=8,className:`p-2 rounded-lg transition-colors ${r.length>=8?"text-gray-400 cursor-not-allowed":"text-blue-500 hover:text-blue-700 hover:bg-blue-50"}`,title:r.length>=8?"Максимум 8 продукта":"Добави към препоръчани",children:s.jsx(dr,{className:"w-5 h-5"})})]},p.id)),j.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Няма намерени продукти"})})]})]})})]}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Инструкции"}),s.jsxs("ul",{className:"text-blue-800 space-y-2 text-sm",children:[s.jsx("li",{children:"• Можете да изберете до 8 продукта за показване като препоръчани на началната страница"}),s.jsx("li",{children:"• Използвайте търсачката за да намерите конкретни продукти"}),s.jsx("li",{children:'• Редът на продуктите в списъка "Препоръчани продукти" определя реда на показване'}),s.jsx("li",{children:"• Не забравяйте да запазите промените след редактиране"})]})]})]})]})},Dv=()=>{const{orders:e,loading:t,refetch:r}=Ff(),{currencySymbol:n}=qe(),[i,l]=b.useState(""),[a,o]=b.useState("all"),[c,u]=b.useState(null),[d,f]=b.useState(!1),h=e.filter(m=>{const x=m.customer_name.toLowerCase().includes(i.toLowerCase())||m.customer_email.toLowerCase().includes(i.toLowerCase())||m.id.toString().includes(i),_=a==="all"||m.status===a;return x&&_}),y=async(m,x)=>{try{const{error:_}=await B.from("orders").update({status:x}).eq("id",m);if(_)throw _;r()}catch(_){console.error("Error updating order status:",_)}},w=m=>{switch(m){case"pending":return s.jsx(en,{className:"w-5 h-5 text-yellow-500"});case"processing":return s.jsx(tn,{className:"w-5 h-5 text-blue-500"});case"shipped":return s.jsx(rn,{className:"w-5 h-5 text-purple-500"});case"delivered":return s.jsx(Ko,{className:"w-5 h-5 text-green-500"});case"cancelled":return s.jsx(zf,{className:"w-5 h-5 text-red-500"});default:return s.jsx(en,{className:"w-5 h-5 text-gray-500"})}},v=m=>{switch(m){case"pending":return"Чакаща";case"processing":return"Обработва се";case"shipped":return"Изпратена";case"delivered":return"Доставена";case"cancelled":return"Отказана";default:return m}},j=m=>{switch(m){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=m=>{u(m),f(!0)};return t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Зареждане на поръчки..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Управление на поръчки"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Преглед и управление на всички поръчки"})]})})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Търсете по име, имейл или номер на поръчка...",value:i,onChange:m=>l(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsx("div",{className:"md:w-64",children:s.jsxs("select",{value:a,onChange:m=>o(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Всички статуси"}),s.jsx("option",{value:"pending",children:"Чакащи"}),s.jsx("option",{value:"processing",children:"Обработват се"}),s.jsx("option",{value:"shipped",children:"Изпратени"}),s.jsx("option",{value:"delivered",children:"Доставени"}),s.jsx("option",{value:"cancelled",children:"Отказани"})]})})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Поръчки (",h.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Поръчка"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Клиент"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Дата"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Сума"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Статус"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Действия"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",m.id]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[m.items.length," продукта"]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.customer_name}),s.jsx("div",{className:"text-sm text-gray-500",children:m.customer_email})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:new Date(m.created_at).toLocaleDateString("bg-BG")}),s.jsx("div",{className:"text-sm text-gray-500",children:new Date(m.created_at).toLocaleTimeString("bg-BG",{hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[m.total.toFixed(2)," ",n]}),s.jsx("div",{className:"text-sm text-gray-500",children:m.payment_method==="card"?"Карта":m.payment_method==="cash"?"Наложен платеж":m.payment_method==="bank"?"Банков превод":m.payment_method})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[w(m.status),s.jsxs("select",{value:m.status,onChange:x=>y(m.id,x.target.value),className:`text-sm font-medium rounded-full px-3 py-1 border-0 focus:ring-2 focus:ring-blue-500 ${j(m.status)}`,children:[s.jsx("option",{value:"pending",children:"Чакаща"}),s.jsx("option",{value:"processing",children:"Обработва се"}),s.jsx("option",{value:"shipped",children:"Изпратена"}),s.jsx("option",{value:"delivered",children:"Доставена"}),s.jsx("option",{value:"cancelled",children:"Отказана"})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>p(m),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"Преглед",children:s.jsx(ys,{className:"w-4 h-4"})})})]},m.id))})]})}),h.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Няма намерени поръчки"})})]})]}),d&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Поръчка #",c.id]}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Информация за поръчката"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Дата:"}),s.jsx("span",{children:new Date(c.created_at).toLocaleString("bg-BG")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Статус:"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${j(c.status)}`,children:v(c.status)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Плащане:"}),s.jsx("span",{children:c.payment_method==="card"?"Карта":c.payment_method==="cash"?"Наложен платеж":c.payment_method==="bank"?"Банков превод":c.payment_method})]}),s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{className:"text-gray-600",children:"Общо:"}),s.jsxs("span",{children:[c.total.toFixed(2)," лв"]})]})]}),s.jsx("h4",{className:"font-semibold text-gray-800 mb-4 mt-6",children:"Клиент"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Име:"}),s.jsx("span",{children:c.customer_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Имейл:"}),s.jsx("span",{children:c.customer_email})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Телефон:"}),s.jsx("span",{children:c.customer_phone})]})]}),s.jsx("h4",{className:"font-semibold text-gray-800 mb-4 mt-6",children:"Адрес за доставка"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:c.shipping_address.address}),s.jsxs("p",{children:[c.shipping_address.city," ",c.shipping_address.postalCode]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Продукти"}),s.jsx("div",{className:"space-y-3",children:c.items.map((m,x)=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("img",{src:m.image,alt:m.name,className:"w-12 h-12 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-800",children:m.name}),s.jsx("p",{className:"text-sm text-gray-600",children:m.brand}),s.jsxs("p",{className:"text-sm text-gray-600",children:[m.quantity,"x ",m.price.toFixed(2)," лв"]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"font-medium text-gray-900",children:[(m.quantity*m.price).toFixed(2)," ",n]})})]},x))})]})]})]})})]})},Uv=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[i,l]=b.useState(null),[a,o]=b.useState(!1),[c,u]=b.useState("");b.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:w,error:v}=await B.from("newsletter_subscribers").select("*").eq("is_active",!0).order("subscribed_at",{ascending:!1});if(v)throw v;t(w||[])}catch(w){console.error("Error fetching subscribers:",w)}finally{n(!1)}},f=w=>{var j;const v=(j=w.target.files)==null?void 0:j[0];v&&v.type==="application/pdf"?l(v):alert("Моля, изберете PDF файл")},h=async()=>{if(!i){alert("Моля, изберете PDF файл за изпращане");return}o(!0),u("");try{await new Promise(v=>setTimeout(v,2e3)),await new Promise(v=>setTimeout(v,3e3)),u(`Бюлетинът е изпратен успешно до ${e.length} абоната!`),l(null);const w=document.getElementById("newsletter-file");w&&(w.value="")}catch(w){console.error("Error sending newsletter:",w),u("Грешка при изпращане на бюлетина")}finally{o(!1)}},y=()=>{const w=[["Имейл","Дата на абониране","Код за отстъпка"],...e.map(m=>[m.email,new Date(m.subscribed_at).toLocaleDateString("bg-BG"),m.discount_code||""])].map(m=>m.join(",")).join(`
`),v=new Blob([w],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a"),p=URL.createObjectURL(v);j.setAttribute("href",p),j.setAttribute("download",`newsletter_subscribers_${new Date().toISOString().split("T")[0]}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)};return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Зареждане на абонати..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Управление на бюлетин"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Изпращане на бюлетини и управление на абонати"})]}),s.jsxs("button",{onClick:y,className:"bg-green-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-600 transition-colors flex items-center space-x-2",children:[s.jsx(Xy,{className:"w-5 h-5"}),s.jsx("span",{children:"Експорт на абонати"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:s.jsx(mv,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Общо абонати"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4",children:s.jsx(Ut,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Активни абонати"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(w=>w.is_active).length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4",children:s.jsx(tv,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"С код за отстъпка"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(w=>w.discount_code).length})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Изпращане на бюлетин"}),c&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${c.includes("успешно")?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:c}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Качи PDF файл с бюлетина"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center px-4 py-2 bg-blue-50 text-blue-600 rounded-lg cursor-pointer hover:bg-blue-100 transition-colors",children:[s.jsx(Go,{className:"w-4 h-4 mr-2"}),"Избери файл",s.jsx("input",{id:"newsletter-file",type:"file",accept:".pdf",onChange:f,className:"hidden"})]}),i&&s.jsxs("span",{className:"text-sm text-gray-600",children:["Избран файл: ",i.name]})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Поддържани формати: PDF (максимум 10MB)"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Бюлетинът ще бъде изпратен до ",s.jsx("strong",{children:e.length})," абоната"]})}),s.jsxs("button",{onClick:h,disabled:!i||a,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s.jsx(Df,{className:"w-5 h-5"}),s.jsx("span",{children:a?"Изпраща се...":"Изпрати бюлетин"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Списък на абонатите (",e.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Имейл"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Дата на абониране"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Код за отстъпка"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Статус"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.email})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:new Date(w.subscribed_at).toLocaleDateString("bg-BG")}),s.jsx("div",{className:"text-sm text-gray-500",children:new Date(w.subscribed_at).toLocaleTimeString("bg-BG",{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.discount_code?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:w.discount_code}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.is_active?"Активен":"Неактивен"})})]},w.id))})]})}),e.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ut,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Няма абонати за бюлетина"})]})]})]})]})},zv=()=>{const{currencySymbol:e,setCurrencySymbol:t}=qe(),r=()=>{t(e==="лв"?"€":"лв")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Управление на валута"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Превключване между лева и евро символи"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:"text-lg font-semibold",children:["Текуща валута: ",e]})})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Избор на валута"}),s.jsxs("div",{className:"flex items-center justify-center space-x-8 mb-8",children:[s.jsxs("div",{className:`flex flex-col items-center p-6 rounded-lg border-2 transition-all ${e==="лв"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("span",{className:"text-4xl font-bold mb-2",children:"лв"}),s.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Български лев"}),s.jsx("span",{className:"text-sm text-gray-500 mt-1",children:"BGN"})]}),s.jsxs("button",{onClick:r,className:"flex flex-col items-center p-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300",children:[e==="лв"?s.jsx(dv,{className:"w-8 h-8 mb-2"}):s.jsx(qa,{className:"w-8 h-8 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Превключи"})]}),s.jsxs("div",{className:`flex flex-col items-center p-6 rounded-lg border-2 transition-all ${e==="€"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("span",{className:"text-4xl font-bold mb-2",children:"€"}),s.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Евро"}),s.jsx("span",{className:"text-sm text-gray-500 mt-1",children:"EUR"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Текущо състояние"}),s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsx("span",{className:"text-gray-600",children:"Всички цени се показват с:"}),s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Примерни цени"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Храна за кучета"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800",children:["89.99 ",e]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Играчка за котки"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800",children:["45.99 ",e]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Легло за кучета"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800",children:["129.99 ",e]})]})]})]})]})}),s.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"Инструкции"}),s.jsxs("ul",{className:"text-yellow-700 space-y-2 text-sm",children:[s.jsx("li",{children:"• Това променя само символа на валутата, който се показва на сайта"}),s.jsx("li",{children:'• Цените остават същите - трябва да ги коригирате ръчно в секция "Продукти"'}),s.jsx("li",{children:"• Промяната се прилага веднага за всички посетители"}),s.jsx("li",{children:"• Настройката се запазва автоматично"})]})]})]})]})},Fv=()=>{const{user:e,signOut:t,isAdmin:r}=xr(),{currencySymbol:n}=qe(),i=pr(),{products:l}=Kt(),{orders:a}=Ff();if(!r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Няма достъп"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Нямате администраторски права"}),s.jsx(A,{to:"/",className:"text-blue-500 hover:underline",children:"Върнете се към началната страница"})]})});const o=async()=>{await t(),i("/")},c=[{title:"Общо продукти",value:l.length,icon:tn,color:"bg-blue-500",change:"+12%"},{title:"Активни поръчки",value:a.filter(h=>h.status==="pending"||h.status==="processing").length,icon:zt,color:"bg-green-500",change:"+8%"},{title:"Общо поръчки",value:a.length,icon:Jy,color:"bg-purple-500",change:"+23%"},{title:"Приходи този месец",value:`${a.reduce((h,y)=>h+y.total,0).toFixed(2)} ${n}`,icon:hv,color:"bg-orange-500",change:"+15%"}],u=[{title:"Добави продукт",description:"Създай нов продукт в магазина",icon:dr,link:"/admin/products/new",color:"bg-blue-500"},{title:"Препоръчани продукти",description:"Управлявай препоръчаните продукти",icon:Ti,link:"/admin/featured",color:"bg-yellow-500"},{title:"Прегледай поръчки",description:"Управлявай клиентски поръчки",icon:ys,link:"/admin/orders",color:"bg-green-500"},{title:"Управление на валута",description:"Конвертирай цените в евро",icon:qa,link:"/admin/currency",color:"bg-purple-500"}],d=[{icon:sv,label:"Табло",path:"/admin"},{icon:tn,label:"Продукти",path:"/admin/products"},{icon:Ti,label:"Препоръчани",path:"/admin/featured"},{icon:av,label:"Навигация",path:"/admin/navigation"},{icon:zt,label:"Поръчки",path:"/admin/orders"},{icon:Ut,label:"Бюлетин",path:"/admin/newsletter"},{icon:qa,label:"Валута",path:"/admin/currency"}],f=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((h,y)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:h.title}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:h.value})]}),s.jsx("div",{className:`${h.color} p-3 rounded-lg`,children:s.jsx(h.icon,{className:"w-6 h-6 text-white"})})]}),s.jsxs("div",{className:"mt-4 flex items-center",children:[s.jsx("span",{className:"text-green-600 text-sm font-medium",children:h.change}),s.jsx("span",{className:"text-gray-600 text-sm ml-2",children:"от миналия месец"})]})]},y))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Бързи действия"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((h,y)=>s.jsxs(A,{to:h.link,className:"group p-6 border border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-md transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:`${h.color} p-2 rounded-lg mr-3`,children:s.jsx(h.icon,{className:"w-5 h-5 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600",children:h.title})]}),s.jsx("p",{className:"text-gray-600 text-sm",children:h.description})]},y))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Последни поръчки"}),s.jsx(A,{to:"/admin/orders",className:"text-blue-500 hover:text-blue-600 text-sm font-medium",children:"Виж всички"})]}),s.jsx("div",{className:"space-y-4",children:a.slice(0,5).map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:["#",h.id]}),s.jsx("p",{className:"text-sm text-gray-600",children:h.customer_name})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[h.total.toFixed(2)," лв"]}),s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${h.status==="pending"?"bg-yellow-100 text-yellow-800":h.status==="processing"?"bg-blue-100 text-blue-800":h.status==="shipped"?"bg-purple-100 text-purple-800":h.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h.status==="pending"?"Чакаща":h.status==="processing"?"Обработва се":h.status==="shipped"?"Изпратена":h.status==="delivered"?"Доставена":"Отказана"})]})]},h.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Продукти с нисък запас"}),s.jsx(A,{to:"/admin/products",className:"text-blue-500 hover:text-blue-600 text-sm font-medium",children:"Управлявай"})]}),s.jsxs("div",{className:"space-y-4",children:[l.filter(h=>(h.stock_quantity||0)<=5).slice(0,5).map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:h.image,alt:h.name,className:"w-10 h-10 rounded-lg object-cover mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:h.name}),s.jsx("p",{className:"text-sm text-gray-600",children:h.brand})]})]}),s.jsxs("span",{className:"text-red-600 text-sm font-medium",children:[h.stock_quantity||0," бр."]})]},h.id)),l.filter(h=>(h.stock_quantity||0)<=5).length===0&&s.jsx("p",{className:"text-gray-500 text-center py-4",children:"Всички продукти имат достатъчно наличност"})]})]})]})]});return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs(A,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:"🐾"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"ЗООБУТИК ИВ"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Админ панел"})]})]})}),s.jsx("nav",{className:"mt-6",children:d.map((h,y)=>s.jsxs(A,{to:h.path,className:`flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors ${location.pathname===h.path?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":""}`,children:[s.jsx(h.icon,{className:"w-5 h-5 mr-3"}),h.label]},y))}),s.jsx("div",{className:"absolute bottom-0 w-64 p-6 border-t",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.email}),s.jsx("p",{className:"text-xs text-gray-500",children:"Администратор"})]}),s.jsx("button",{onClick:o,className:"text-red-500 hover:text-red-700 text-sm",children:"Изход"})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx("div",{className:"p-8",children:s.jsxs(Pa,{children:[s.jsx(Q,{path:"/",element:s.jsx(f,{})}),s.jsx(Q,{path:"/products",element:s.jsx(Lv,{})}),s.jsx(Q,{path:"/products/new",element:s.jsx(Ru,{})}),s.jsx(Q,{path:"/products/edit/:id",element:s.jsx(Ru,{})}),s.jsx(Q,{path:"/featured",element:s.jsx(Mv,{})}),s.jsx(Q,{path:"/navigation",element:s.jsx(Av,{})}),s.jsx(Q,{path:"/orders",element:s.jsx(Dv,{})}),s.jsx(Q,{path:"/newsletter",element:s.jsx(Uv,{})}),s.jsx(Q,{path:"/currency",element:s.jsx(zv,{})})]})})})]})};function Bv(){return s.jsx(Fy,{children:s.jsx(By,{children:s.jsx(bg,{children:s.jsx(wg,{children:s.jsx(mg,{children:s.jsx("div",{className:"min-h-screen bg-white",children:s.jsxs(Pa,{children:[s.jsx(Q,{path:"/admin/login",element:s.jsx($v,{})}),s.jsx(Q,{path:"/admin/*",element:s.jsx(Fv,{})}),s.jsx(Q,{path:"/*",element:s.jsxs(s.Fragment,{children:[s.jsx(gv,{}),s.jsx("main",{children:s.jsxs(Pa,{children:[s.jsx(Q,{path:"/",element:s.jsx(Nv,{})}),s.jsx(Q,{path:"/products",element:s.jsx(_v,{})}),s.jsx(Q,{path:"/product/:id",element:s.jsx(kv,{})}),s.jsx(Q,{path:"/category/:slug",element:s.jsx(Sv,{})}),s.jsx(Q,{path:"/cart",element:s.jsx(Cv,{})}),s.jsx(Q,{path:"/checkout",element:s.jsx(Ev,{})}),s.jsx(Q,{path:"/order-success",element:s.jsx(Pv,{})}),s.jsx(Q,{path:"/contact",element:s.jsx(Tv,{})}),s.jsx(Q,{path:"/profile",element:s.jsx(Ov,{})}),s.jsx(Q,{path:"/orders",element:s.jsx(Iv,{})}),s.jsx(Q,{path:"/wishlist",element:s.jsx(Rv,{})})]})}),s.jsx(yv,{})]})})]})})})})})})})}Hh(document.getElementById("root")).render(s.jsx(b.StrictMode,{children:s.jsx(Bv,{})}));
